!function(){var t;function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t,e){return i(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||u(t,e)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t){if(Array.isArray(t))return t}function o(t){return function(t){if(Array.isArray(t))return c(t)}(t)||a(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function s(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return h(t,arguments,k(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,t)})(t)}function h(t,e,n){return(h=_()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&g(i,n.prototype),i}).apply(null,arguments)}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=_();return function(){var n,r=k(t);if(e){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?w(t):e}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService({instanceIdentifier:i});if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===e?"[DEFAULT]":e);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o)),o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return v(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){y(n,t);var e=m(n);function n(t,r){return d(this,n),e.call(this)}return v(n,[{key:"schedule",value:function(t){return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(o){return o.pipe(a(function(n,o){return Object(i.a)(t(n,o)).pipe(Object(r.a)(function(t,r){return e(n,t,o,r)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new s(t,n))})}var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;d(this,t),this.project=e,this.concurrent=n}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}]),t}(),u=function(t){y(n,t);var e=m(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return d(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return v(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new o.a(this),n=this.destination;n.add(e);var r=Object(o.c)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.b)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(t){y(n,t);var e=m(n);function n(t,r,o){var a;switch(d(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!t){a.destination=i.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(w(a))):(a.syncErrorThrowable=!0,a.destination=new l(w(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new l(w(a),t,r,o)}return a}return v(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,f(k(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){y(n,t);var e=m(n);function n(t,o,a,s){var u,c;d(this,n),(u=e.call(this))._parentSubscriber=t;var l=w(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(w(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return v(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,i=new o.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[u.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a"),i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c});var r,i=n("XNiG"),o=n("HDdC"),a=(n("7o/Q"),n("quSY")),s=n("x+ZX"),u=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return v(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t}},{key:"refCount",value:function(){return Object(s.a)()(this)}}]),n}(o.a),c={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(r=u.prototype)._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}},l=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).connectable=r,i}return v(n,[{key:"_error",value:function(t){this._unsubscribe(),f(k(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),f(k(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(i.b)},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("mCNh"),c=n("2fFW"),l=((r=function(){function t(e){d(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return v(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:Object(u.b)(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}()).create=function(t){return new r(t)},r);function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;d(this,t),this.SchedulerAction=e,this.now=n}return v(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){y(n,t);var e=m(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return d(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==w(i)?n.delegate.now():o()})).actions=[],i.active=!1,i.scheduled=void 0,i}return v(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):f(k(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.1","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,l,h=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r,i=n("EY2u"),o=n("LRne"),a=n("HDdC"),s=((r=function(){function t(e,n,r){d(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return v(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new a.a(function(e){return e.error(t)});case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r)},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(t){y(n,t);var e=m(n);function n(t){var r;return d(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){y(n,t);var e=m(n);function n(){var t;return d(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return v(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new h(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return f(k(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new h(t,e)},t}(),h=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this)).destination=t,i.source=r,i}return v(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return v(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,r){"use strict";r.d(e,"a",function(){return mn}),r.d(e,"b",function(){return tl}),r.d(e,"c",function(){return Wc}),r.d(e,"d",function(){return Kc}),r.d(e,"e",function(){return Yc}),r.d(e,"f",function(){return Gl}),r.d(e,"g",function(){return Ll}),r.d(e,"h",function(){return Ku}),r.d(e,"i",function(){return hl}),r.d(e,"j",function(){return gu}),r.d(e,"k",function(){return rl}),r.d(e,"l",function(){return _u}),r.d(e,"m",function(){return Rr}),r.d(e,"n",function(){return Sc}),r.d(e,"o",function(){return Do}),r.d(e,"p",function(){return Vn}),r.d(e,"q",function(){return B}),r.d(e,"r",function(){return gn}),r.d(e,"s",function(){return Wo}),r.d(e,"t",function(){return Uu}),r.d(e,"u",function(){return zu}),r.d(e,"v",function(){return nl}),r.d(e,"w",function(){return rc}),r.d(e,"x",function(){return Vl}),r.d(e,"y",function(){return nc}),r.d(e,"z",function(){return jl}),r.d(e,"A",function(){return pl}),r.d(e,"B",function(){return Fn}),r.d(e,"C",function(){return $c}),r.d(e,"D",function(){return Zc}),r.d(e,"E",function(){return Ou}),r.d(e,"F",function(){return Eu}),r.d(e,"G",function(){return Ur}),r.d(e,"H",function(){return Su}),r.d(e,"I",function(){return Ir}),r.d(e,"J",function(){return Un}),r.d(e,"K",function(){return ql}),r.d(e,"L",function(){return $u}),r.d(e,"M",function(){return _l}),r.d(e,"N",function(){return bn}),r.d(e,"O",function(){return Tu}),r.d(e,"P",function(){return Iu}),r.d(e,"Q",function(){return oc}),r.d(e,"R",function(){return Y}),r.d(e,"S",function(){return Rl}),r.d(e,"T",function(){return Al}),r.d(e,"U",function(){return C}),r.d(e,"V",function(){return Tl}),r.d(e,"W",function(){return Hl}),r.d(e,"X",function(){return El}),r.d(e,"Y",function(){return el}),r.d(e,"Z",function(){return Lo}),r.d(e,"ab",function(){return vs}),r.d(e,"bb",function(){return Cr}),r.d(e,"cb",function(){return sr}),r.d(e,"db",function(){return Wn}),r.d(e,"eb",function(){return Xn}),r.d(e,"fb",function(){return er}),r.d(e,"gb",function(){return $n}),r.d(e,"hb",function(){return Zn}),r.d(e,"ib",function(){return tr}),r.d(e,"jb",function(){return hs}),r.d(e,"kb",function(){return Bl}),r.d(e,"lb",function(){return fs}),r.d(e,"mb",function(){return ds}),r.d(e,"nb",function(){return Jn}),r.d(e,"ob",function(){return $}),r.d(e,"pb",function(){return oa}),r.d(e,"qb",function(){return Ca}),r.d(e,"rb",function(){return Ea}),r.d(e,"sb",function(){return Oa}),r.d(e,"tb",function(){return ls}),r.d(e,"ub",function(){return Lt}),r.d(e,"vb",function(){return _}),r.d(e,"wb",function(){return Yn}),r.d(e,"xb",function(){return Xo}),r.d(e,"yb",function(){return jt}),r.d(e,"zb",function(){return pu}),r.d(e,"Ab",function(){return Di}),r.d(e,"Bb",function(){return la}),r.d(e,"Cb",function(){return Ba}),r.d(e,"Db",function(){return os}),r.d(e,"Eb",function(){return za}),r.d(e,"Fb",function(){return Uc}),r.d(e,"Gb",function(){return ht}),r.d(e,"Hb",function(){return mt}),r.d(e,"Ib",function(){return N}),r.d(e,"Jb",function(){return D}),r.d(e,"Kb",function(){return vt}),r.d(e,"Lb",function(){return bt}),r.d(e,"Mb",function(){return pa}),r.d(e,"Nb",function(){return ba}),r.d(e,"Ob",function(){return _a}),r.d(e,"Pb",function(){return wa}),r.d(e,"Qb",function(){return ma}),r.d(e,"Rb",function(){return ga}),r.d(e,"Sb",function(){return ka}),r.d(e,"Tb",function(){return dn}),r.d(e,"Ub",function(){return as}),r.d(e,"Vb",function(){return iu}),r.d(e,"Wb",function(){return au}),r.d(e,"Xb",function(){return ou}),r.d(e,"Yb",function(){return Dn}),r.d(e,"Zb",function(){return vn}),r.d(e,"ac",function(){return Gc}),r.d(e,"bc",function(){return Sa}),r.d(e,"cc",function(){return qc}),r.d(e,"dc",function(){return je}),r.d(e,"ec",function(){return xe}),r.d(e,"fc",function(){return Aa}),r.d(e,"gc",function(){return Oc}),r.d(e,"hc",function(){return Cc}),r.d(e,"ic",function(){return Ra}),r.d(e,"jc",function(){return ja}),r.d(e,"kc",function(){return va}),r.d(e,"lc",function(){return Na}),r.d(e,"mc",function(){return Da}),r.d(e,"nc",function(){return bc}),r.d(e,"oc",function(){return wc}),r.d(e,"pc",function(){return _c}),r.d(e,"qc",function(){return Vc}),r.d(e,"rc",function(){return da}),r.d(e,"sc",function(){return Mr}),r.d(e,"tc",function(){return ne}),r.d(e,"uc",function(){return Tr}),r.d(e,"vc",function(){return yt}),r.d(e,"wc",function(){return qa}),r.d(e,"xc",function(){return fa}),r.d(e,"yc",function(){return Qc}),r.d(e,"zc",function(){return es}),r.d(e,"Ac",function(){return ns}),r.d(e,"Bc",function(){return rs}),r.d(e,"Cc",function(){return is}),r.d(e,"Dc",function(){return Fc});var i=r("XNiG"),a=r("quSY"),u=r("HDdC"),c=r("VRyK"),p=r("w1tV");function g(t){for(var e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function b(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function _(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(_).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function E(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var O=g({__forward_ref__:g});function C(t){return t.__forward_ref__=C,t.toString=function(){return _(this())},t}function S(t){return I(t)?t():t}function I(t){return"function"==typeof t&&t.hasOwnProperty(O)&&t.__forward_ref__===C}var T=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,r))).code=t,i}return n}(l(Error));function A(t){return"string"==typeof t?t:null==t?"":String(t)}function x(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():A(t)}function j(t,e){var n=e?" in ".concat(e):"";throw new T("201","No provider for ".concat(x(t)," found").concat(n))}function R(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat(t)+(null==r?"":" [Expected=> ".concat(n," ").concat(r," ").concat(e," <=Actual]")))}function N(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function D(t){return{providers:t.providers||[],imports:t.imports||[]}}function P(t){return L(t,F)||L(t,q)}function L(t,e){return t.hasOwnProperty(e)?t[e]:null}function M(t){return t&&(t.hasOwnProperty(U)||t.hasOwnProperty(z))?t[U]:null}var V,F=g({"\u0275prov":g}),U=g({"\u0275inj":g}),q=g({ngInjectableDef:g}),z=g({ngInjectorDef:g}),B=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function H(t){var e=V;return V=t,e}function Q(t,e,n){var r=P(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&B.Optional?null:void 0!==e?e:void j(_(t),"Injector")}function G(t){return{toString:t}.toString()}var K=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Y=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),W="undefined"!=typeof globalThis&&globalThis,J="undefined"!=typeof window&&window,X="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Z="undefined"!=typeof global&&global,$=W||Z||J||X,tt={},et=[],nt=[],rt=g({"\u0275cmp":g}),it=g({"\u0275dir":g}),ot=g({"\u0275pipe":g}),at=g({"\u0275mod":g}),st=g({"\u0275loc":g}),ut=g({"\u0275fac":g}),ct=g({__NG_ELEMENT_ID__:g}),lt=0;function ht(t){return G(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===K.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||nt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Y.Emulated,id:"c",styles:t.styles||nt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=lt++,n.inputs=gt(t.inputs,e),n.outputs=gt(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ft)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(dt)}:null,n})}function ft(t){return wt(t)||function(t){return t[it]||null}(t)}function dt(t){return function(t){return t[ot]||null}(t)}var pt={};function vt(t){var e={type:t.type,bootstrap:t.bootstrap||nt,declarations:t.declarations||nt,imports:t.imports||nt,exports:t.exports||nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&G(function(){pt[t.id]=t.type}),e}function yt(t,e){return G(function(){var n=_t(t,!0);n.declarations=e.declarations||nt,n.imports=e.imports||nt,n.exports=e.exports||nt})}function gt(t,e){if(null==t)return tt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var mt=ht;function bt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function wt(t){return t[rt]||null}function _t(t,e){var n=t[at]||null;if(!n&&!0===e)throw new Error("Type ".concat(_(t)," does not have '\u0275mod' property."));return n}function kt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Et(t){return Array.isArray(t)&&!0===t[1]}function Ot(t){return 0!=(8&t.flags)}function Ct(t){return 2==(2&t.flags)}function St(t){return 1==(1&t.flags)}function It(t){return null!==t.template}function Tt(t,e){return t.hasOwnProperty(ut)?t[ut]:null}var At,xt=function(){function t(e,n,r){d(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return v(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function jt(){return Rt}function Rt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Dt),Nt}function Nt(){var t=Pt(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===tt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Dt(t,e,n,r){var i=Pt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:tt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new xt(u&&u.currentValue,e,a===tt),t[r]=e}function Pt(t){return t.__ngSimpleChanges__||null}function Lt(t){At=t}function Mt(){return void 0!==At?At:"undefined"!=typeof document?document:void 0}function Vt(t){return!!t.listen}jt.ngInherit=!0;var Ft={createRenderer:function(t,e){return Mt()}};function Ut(t){for(;Array.isArray(t);)t=t[0];return t}function qt(t,e){return Ut(e[t])}function zt(t,e){return Ut(e[t.index])}function Bt(t,e){return t.data[e]}function Ht(t,e){return t[e]}function Qt(t,e){var n=e[t];return kt(n)?n:n[0]}function Gt(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Kt(t){return 4==(4&t[2])}function Yt(t){return 128==(128&t[2])}function Wt(t,e){return null==e?null:t[e]}function Jt(t){t[18]=0}function Xt(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Zt={lFrame:Ee(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $t(){return Zt.bindingsEnabled}function te(){return Zt.lFrame.lView}function ee(){return Zt.lFrame.tView}function ne(t){Zt.lFrame.contextLView=t}function re(){for(var t=ie();null!==t&&64===t.type;)t=t.parent;return t}function ie(){return Zt.lFrame.currentTNode}function oe(){var t=Zt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ae(t,e){var n=Zt.lFrame;n.currentTNode=t,n.isParent=e}function se(){return Zt.lFrame.isParent}function ue(){Zt.lFrame.isParent=!1}function ce(){return Zt.isInCheckNoChangesMode}function le(t){Zt.isInCheckNoChangesMode=t}function he(){var t=Zt.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function fe(){return Zt.lFrame.bindingIndex}function de(){return Zt.lFrame.bindingIndex++}function pe(t){var e=Zt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ve(t){Zt.lFrame.inI18n=t}function ye(t){Zt.lFrame.currentDirectiveIndex=t}function ge(){return Zt.lFrame.currentQueryIndex}function me(t){Zt.lFrame.currentQueryIndex=t}function be(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function we(t,e,n){if(n&B.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&B.Host||(r=be(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=Zt.lFrame=ke();return o.currentTNode=e,o.lView=t,!0}function _e(t){var e=ke(),n=t[1];Zt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ke(){var t=Zt.lFrame,e=null===t?null:t.child;return null===e?Ee(t):e}function Ee(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Oe(){var t=Zt.lFrame;return Zt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ce=Oe;function Se(){var t=Oe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ie(){return Zt.lFrame.selectedIndex}function Te(t){Zt.lFrame.selectedIndex=t}function Ae(){var t=Zt.lFrame;return Bt(t.tView,t.selectedIndex)}function xe(){Zt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function je(){Zt.lFrame.currentNamespace=null}function Re(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Ne(t,e,n){Le(t,e,3,n)}function De(t,e,n,r){(3&t[2])===n&&Le(t,e,n,r)}function Pe(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Le(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,a=0,s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=r&&a>=r)break}else e[s]<0&&(t[18]+=65536),(a<i||-1==i)&&(Me(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Me(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var Ve=function t(e,n,r){d(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Fe(t,e,n){for(var r=Vt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];qe(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Ue(t){return 3===t||4===t||6===t}function qe(t){return 64===t.charCodeAt(0)}function ze(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Be(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Be(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function He(t){return-1!==t}function Qe(t){return 32767&t}function Ge(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var Ke=!0;function Ye(t){var e=Ke;return Ke=t,e}var We=0;function Je(t,e){var n=Ze(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Xe(r.data,t),Xe(e,null),Xe(r.blueprint,null));var i=$e(t,e),o=t.injectorIndex;if(He(i))for(var a=Qe(i),s=Ge(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function Xe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ze(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function $e(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function tn(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ct)&&(r=n[ct]),null==r&&(r=n[ct]=We++);var i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function en(t,e,n){if(n&B.Optional)return t;j(e,"NodeInjector")}function nn(t,e,n,r){if(n&B.Optional&&void 0===r&&(r=null),0==(n&(B.Self|B.Host))){var i=t[9],o=H(void 0);try{return i?i.get(e,r,n&B.Optional):Q(e,r,n&B.Optional)}finally{H(o)}}return en(r,e,n)}function rn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:B.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(ct)?t[ct]:void 0;return"number"==typeof e?e>=0?255&e:an:e}(n);if("function"==typeof o){if(!we(e,t,r))return r&B.Host?en(i,n,r):nn(e,n,r,i);try{var a=o();if(null!=a||r&B.Optional)return a;j(n)}finally{Ce()}}else if("number"==typeof o){var s=null,u=Ze(t,e),c=-1,l=r&B.Host?e[16][6]:null;for((-1===u||r&B.SkipSelf)&&(-1!==(c=-1===u?$e(t,e):e[u+8])&&hn(r,!1)?(s=e[1],u=Qe(c),e=Ge(c,e)):u=-1);-1!==u;){var h=e[1];if(ln(o,u,h.data)){var f=sn(u,e,n,s,r,l);if(f!==on)return f}-1!==(c=e[u+8])&&hn(r,e[1].data[u+8]===l)&&ln(o,u,e)?(s=h,u=Qe(c),e=Ge(c,e)):u=-1}}}return nn(e,n,r,i)}var on={};function an(){return new fn(re(),te())}function sn(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=un(s,a,n,null==r?Ct(s)&&Ke:r!=a&&0!=(3&s.type),i&B.Host&&o===s);return null!==u?cn(e,a,u,s):on}function un(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&It(d)&&d.type===n)return u}return null}function cn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Ve){var a=i;a.resolving&&function(t,e){throw new T("200","Circular dependency in DI detected for ".concat(t))}(x(o[n]));var s=Ye(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?H(a.injectImpl):null;we(t,r,B.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var s=Rt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==u&&H(u),Ye(s),a.resolving=!1,Ce()}}return i}function ln(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function hn(t,e){return!(t&B.Self||t&B.Host&&e)}var fn=function(){function t(e,n){d(this,t),this._tNode=e,this._lView=n}return v(t,[{key:"get",value:function(t,e){return rn(this._tNode,this._lView,t,void 0,e)}}]),t}();function dn(t){return G(function(){for(var e=t.prototype.constructor,n=e[ut]||pn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[ut]||pn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}})}function pn(t){return I(t)?function(){var e=pn(S(t));return e&&e()}:Tt(t)}function vn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Ue(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(re(),t)}function yn(t,e,n){return G(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=h(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var gn=function(){function t(e,n){d(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=N({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return v(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),mn=new gn("AnalyzeForEntryComponents"),bn=Function;function wn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),wn(r,e)):e!==t&&e.push(r)}return e}function _n(t,e){t.forEach(function(t){return Array.isArray(t)?_n(t,e):e(t)})}function kn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function En(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function On(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function Cn(t,e,n){var r=In(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function Sn(t,e){var n=In(t,e);if(n>=0)return t[1|n]}function In(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var Tn,An={},xn=/\n/gm,jn=g({provide:String,useValue:g});function Rn(t){var e=Tn;return Tn=t,e}function Nn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default;if(void 0===Tn)throw new Error("inject() must be called from an injection context");return null===Tn?Q(t,void 0,e):Tn.get(t,e&B.Optional?null:void 0,e)}function Dn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default;return(V||Nn)(S(t),e)}function Pn(t){for(var e=[],n=0;n<t.length;n++){var r=S(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=B.Default,a=0;a<r.length;a++){var s=r[a],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=s.token:o|=u:i=s}e.push(Dn(i,o))}else e.push(Dn(r))}return e}function Ln(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}var Mn,Vn=Ln(yn("Inject",function(t){return{token:t}}),-1),Fn=Ln(yn("Optional"),8),Un=Ln(yn("SkipSelf"),4);function qn(t){var e;return(null===(e=function(){if(void 0===Mn&&(Mn=null,$.trustedTypes))try{Mn=$.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Mn}())||void 0===e?void 0:e.createHTML(t))||t}var zn=function(){function t(e){d(this,t),this.changingThisBreaksApplicationSecurity=e}return v(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}(),Bn=function(t){y(n,t);var e=m(n);function n(){return d(this,n),e.apply(this,arguments)}return v(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(zn),Hn=function(t){y(n,t);var e=m(n);function n(){return d(this,n),e.apply(this,arguments)}return v(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(zn),Qn=function(t){y(n,t);var e=m(n);function n(){return d(this,n),e.apply(this,arguments)}return v(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(zn),Gn=function(t){y(n,t);var e=m(n);function n(){return d(this,n),e.apply(this,arguments)}return v(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(zn),Kn=function(t){y(n,t);var e=m(n);function n(){return d(this,n),e.apply(this,arguments)}return v(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(zn);function Yn(t){return t instanceof zn?t.changingThisBreaksApplicationSecurity:t}function Wn(t,e){var n=Jn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function Jn(t){return t instanceof zn&&t.getTypeName()||null}function Xn(t){return new Bn(t)}function Zn(t){return new Hn(t)}function $n(t){return new Qn(t)}function tr(t){return new Gn(t)}function er(t){return new Kn(t)}function nr(t){var e=new ir(t);return function(){try{return!!(new window.DOMParser).parseFromString(qn(""),"text/html")}catch(t){return!1}}()?new rr(e):e}var rr=function(){function t(e){d(this,t),this.inertDocumentHelper=e}return v(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(qn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),ir=function(){function t(e){if(d(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return v(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=qn(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=qn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),or=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ar=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function sr(t){return(t=String(t)).match(or)||t.match(ar)?t:"unsafe:"+t}function ur(t){return(t=String(t)).split(",").map(function(t){return sr(t.trim())}).join(", ")}function cr(t){var e,n={},r=s(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function lr(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var hr,fr=cr("area,br,col,hr,img,wbr"),dr=cr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pr=cr("rp,rt"),vr=lr(pr,dr),yr=lr(fr,lr(dr,cr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lr(pr,cr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vr),gr=cr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mr=cr("srcset"),br=lr(gr,mr,cr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wr=cr("script,style,template"),_r=function(){function t(){d(this,t),this.sanitizedSomething=!1,this.buf=[]}return v(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!yr.hasOwnProperty(e))return this.sanitizedSomething=!0,!wr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,a=o.toLowerCase();if(br.hasOwnProperty(a)){var s=i.value;gr[a]&&(s=sr(s)),mr[a]&&(s=ur(s)),this.buf.push(" ",o,'="',Or(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();yr.hasOwnProperty(e)&&!fr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(Or(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),kr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Er=/([^\#-~ |!])/g;function Or(t){return t.replace(/&/g,"&amp;").replace(kr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Er,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Cr(t,e){var n=null;try{hr=hr||nr(t);var r=e?String(e):"";n=hr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=hr.getInertBodyElement(r)}while(r!==o);return qn((new _r).sanitizeChildren(Sr(n)||n))}finally{if(n)for(var a=Sr(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function Sr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ir=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Tr(t){var e,n=(e=te())&&e[12];return n?n.sanitize(Ir.URL,t)||"":Wn(t,"URL")?Yn(t):sr(A(t))}function Ar(t){return t.ngDebugContext}function xr(t){return t.ngOriginalError}function jr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Rr=function(){function t(){d(this,t),this._console=console}return v(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||jr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Ar(t)?Ar(t):this._findContext(xr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=xr(t);e&&xr(e);)e=xr(e);return e}}]),t}(),Nr=/^>|^->|<!--|-->|--!>|<!-$/g,Dr=/(<|>)/;function Pr(t,e){t.__ngContext__=e}var Lr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($);function Mr(t){return{name:"window",target:t.ownerDocument.defaultView}}function Vr(t){return t instanceof Function?t():t}var Fr,Ur=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function qr(t,e){return Fr(t,e)}function zr(t){var e=t[3];return Et(e)?e[3]:e}function Br(t){return Qr(t[13])}function Hr(t){return Qr(t[4])}function Qr(t){for(;null!==t&&!Et(t);)t=t[4];return t}function Gr(t,e,n,r,i){if(null!=r){var o,a=!1;Et(r)?o=r:kt(r)&&(a=!0,r=r[0]);var s=Ut(r);0===t&&null!==n?null==i?ii(e,n,s):ri(e,n,s,i||null,!0):1===t&&null!==n?ri(e,n,s,i||null,!0):2===t?yi(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Ut(n)&&Gr(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];mi(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Kr(t,e){return Vt(t)?t.createText(e):t.createTextNode(e)}function Yr(t,e,n){Vt(t)?t.setValue(e,n):e.textContent=n}function Wr(t,e){return t.createComment(function(t){return t.replace(Nr,function(t){return t.replace(Dr,"\u200b$1\u200b")})}(e))}function Jr(t,e,n){return Vt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Xr(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Xt(i,-1)),n.splice(r,1)}function Zr(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Xr(o,i),e>0&&(t[r-1][4]=i[4]);var a=En(t,10+e);mi(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function $r(t,e){if(!(256&e[2])){var n=e[11];Vt(n)&&n.destroyNode&&mi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return ti(t[1],t);for(;e;){var n=null;if(kt(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)kt(e)&&ti(e[1],e),e=e[3];null===e&&(e=t),kt(e)&&ti(e[1],e),n=e&&e[4]}e=n}}(e)}}function ti(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Ve)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):Ut(e[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var h=i+1;h<r.length;h++)(0,r[h])();e[7]=null}}(t,e),1===e[1].type&&Vt(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&Et(e[3])){n!==e[3]&&Xr(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function ei(t,e,n){return ni(t,e.parent,n)}function ni(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===Y.None||i===Y.Emulated)return null}return zt(r,n)}function ri(t,e,n,r,i){Vt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function ii(t,e,n){Vt(t)?t.appendChild(e,n):e.appendChild(n)}function oi(t,e,n,r,i){null!==r?ri(t,e,n,r,i):ii(t,e,n)}function ai(t,e){return Vt(t)?t.parentNode(e):e.parentNode}function si(t,e,n){return li(t,e,n)}function ui(t,e,n){return 40&t.type?zt(t,n):null}var ci,li=ui;function hi(t,e){li=t,ci=e}function fi(t,e,n,r){var i=ei(t,r,e),o=e[11],a=si(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)oi(o,i,n[s],a,!1);else oi(o,i,n,a,!1);void 0!==ci&&ci(o,r,e,n,i)}function di(t,e){if(null!==e){var n=e.type;if(3&n)return zt(e,t);if(4&n)return vi(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return di(t,r);var i=t[e.index];return Et(i)?vi(-1,i):Ut(i)}if(32&n)return qr(e,t)()||Ut(t[e.index]);var o=pi(t,e);return null!==o?Array.isArray(o)?o[0]:di(zr(t[16]),o):di(t,e.next)}return null}function pi(t,e){return null!==e?t[16][6].projection[e.projection]:null}function vi(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return di(r,i)}return e[7]}function yi(t,e,n){var r=ai(t,e);r&&function(t,e,n,r){Vt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function gi(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===e&&(s&&Pr(Ut(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)gi(t,e,n.child,r,i,o,!1),Gr(e,t,i,s,o);else if(32&u){for(var c=qr(n,r),l=void 0;l=c();)Gr(e,t,i,l,o);Gr(e,t,i,s,o)}else 16&u?bi(t,e,r,n,i,o):Gr(e,t,i,s,o);n=a?n.projectionNext:n.next}}function mi(t,e,n,r,i,o){gi(n,r,t.firstChild,e,i,o,!1)}function bi(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Gr(e,t,i,s[u],o);else gi(t,e,s,a[3],i,o,!0)}function wi(t,e,n){Vt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function _i(t,e,n){Vt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ki(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Ei(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==ki((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Oi(t){return 4===t.type&&"ng-template"!==t.value}function Ci(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Si(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Ue(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!Ci(t,u,n)||""===u&&1===e.length){if(Ii(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!Ei(t.attrs,c,n)){if(Ii(r))return!1;a=!0}continue}var l=Ti(8&r?"class":u,i,Oi(t),n);if(-1===l){if(Ii(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==ki(f,c,0)||2&r&&c!==h){if(Ii(r))return!1;a=!0}}}}else{if(!a&&!Ii(r)&&!Ii(u))return!1;if(a&&Ii(u))continue;a=!1,r=u|1&r}}return Ii(r)||a}function Ii(t){return 0==(1&t)}function Ti(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ai(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(Si(t,e[r],n))return!0;return!1}function xi(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function ji(t,e){return t?":not("+e.trim()+")":e}function Ri(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Ii(a)||(e+=ji(o,i),i=""),r=a,o=o||!Ii(r);n++}return""!==i&&(e+=ji(o,i)),e}var Ni={};function Di(t){Pi(ee(),te(),Ie()+t,ce())}function Pi(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Ne(e,i,n)}else{var o=t.preOrderHooks;null!==o&&De(e,o,0,n)}Te(n)}function Li(t,e){return t<<17|e<<2}function Mi(t){return t>>17&32767}function Vi(t){return 2|t}function Fi(t){return(131068&t)>>2}function Ui(t,e){return-131069&t|e<<2}function qi(t){return 1|t}function zi(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];me(i),a.contentQueries(2,e[o],o)}}}function Bi(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Jt(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Hi(t,e,n,r,i){var o=t.data[e];if(null===o)o=Qi(t,e,n,r,i),Zt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;var a=oe();o.injectorIndex=null===a?-1:a.injectorIndex}return ae(o,!0),o}function Qi(t,e,n,r,i){var o=ie(),a=se(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}function Gi(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ki(t,e,n){_e(e);try{var r=t.viewQuery;null!==r&&Co(1,r,n);var i=t.template;null!==i&&Ji(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&zi(t,e),t.staticViewQueries&&Co(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)wo(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,Se()}}function Yi(t,e,n,r){var i=e[2];if(256!=(256&i)){_e(e);var o=ce();try{Jt(e),Zt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ji(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&Ne(e,s,null)}else{var u=t.preOrderHooks;null!==u&&De(e,u,0,null),Pe(e,0)}if(function(t){for(var e=Br(t);null!==e;e=Hr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Xt(o,1),i[2]|=1024}}(e),function(t){for(var e=Br(t);null!==e;e=Hr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Yt(r)&&Yi(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&zi(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&Ne(e,c)}else{var l=t.contentHooks;null!==l&&De(e,l,1),Pe(e,1)}!function(t,e){var n,r,i,o=t.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var s=o[a];if(s<0)Te(~s);else{var u=s,c=o[++a],l=o[++a];n=c,r=u,i=void 0,(i=Zt.lFrame).bindingIndex=i.bindingRootIndex=n,ye(r),l(2,e[u])}}}finally{Te(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)mo(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&Co(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&Ne(e,d)}else{var p=t.viewHooks;null!==p&&De(e,p,2),Pe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Xt(e[3],-1))}finally{Se()}}}function Wi(t,e,n,r){var i=e[10],o=!ce(),a=Kt(e);try{o&&!a&&i.begin&&i.begin(),a&&Ki(t,e,r),Yi(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Ji(t,e,n,r,i){var o=Ie();try{Te(-1),2&r&&e.length>20&&Pi(t,e,20,ce()),n(r,i)}finally{Te(o)}}function Xi(t,e,n){if(Ot(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Zi(t,e,n){$t()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Je(n,e),Pr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=It(u);c&&fo(e,n,u);var l=cn(e,t,s,n);Pr(l,e),null!==a&&vo(0,s-i,l,u,0,a),c&&(Qt(n.index,e)[8]=l)}}(t,e,n,zt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Zt.lFrame.currentDirectiveIndex;try{Te(o);for(var s=r;s<i;s++){var u=t.data[s],c=e[s];ye(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||so(u,c)}}finally{Te(-1),ye(a)}}(t,e,n))}function $i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function to(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=eo(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function eo(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Ni);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function no(t,e,n,r){var i=Io(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&To(t).push(r,i.length-1))}function ro(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function io(t,e,n,r,i,o,a,s){var u,c,l=zt(e,n),h=e.inputs;!s&&null!=h&&(u=h[r])?(xo(t,n,u,r,i),Ct(e)&&function(t,e){var n=Qt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.value||"",r):i,Vt(o)?o.setProperty(l,r,i):qe(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function oo(t,e,n,r){var i=!1;if($t()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Ai(n,a.selectors,!1)&&(i||(i=[]),tn(Je(n,e),t,a.type),It(a)?(uo(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,lo(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,h=Gi(t,e,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=ze(n.mergedAttrs,d.hostAttrs),ho(t,n,e,h,d),co(h,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||Oi(e)?null:yo(l,i);o.push(h),a=ro(l,u,a),s=ro(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new T("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=ze(n.mergedAttrs,n.attrs),i}function ao(t,e,n,r,i,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function so(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function uo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function co(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;It(e)&&(n[""]=t)}}function lo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ho(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=Tt(i.type)),a=new Ve(o,It(i),null);t.blueprint[r]=a,n[r]=a,ao(t,e,0,r,Gi(t,n,i.hostVars,Ni),i)}function fo(t,e,n){var r=zt(e,t),i=to(n),o=t[10],a=_o(t,Bi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function po(t,e,n,r,i,o,a){if(null==o)Vt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var s=null==a?A(o):a(o,r||"",i);Vt(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}function vo(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function yo(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function go(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function mo(t,e){var n=Qt(e,t);if(Yt(n)){var r=n[1];80&n[2]?Yi(r,n,r.template,n[8]):n[5]>0&&bo(n)}}function bo(t){for(var e=Br(t);null!==e;e=Hr(e))for(var n=10;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];Yi(i,r,i.template,r[8])}else r[5]>0&&bo(r)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=Qt(o[a],t);Yt(s)&&s[5]>0&&bo(s)}}function wo(t,e){var n=Qt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ki(r,n,n[8])}function _o(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ko(t){for(;t;){t[2]|=64;var e=zr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Eo(t,e,n){var r=e[10];r.begin&&r.begin();try{Yi(t,e,t.template,n)}catch(i){throw Ao(e,i),i}finally{r.end&&r.end()}}function Oo(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Gt(n),i=r[1];Wi(i,r,i.template,n)}}(t[8])}function Co(t,e,n){me(0),e(t,n)}var So=Promise.resolve(null);function Io(t){return t[7]||(t[7]=[])}function To(t){return t.cleanup||(t.cleanup=[])}function Ao(t,e){var n=t[9],r=n?n.get(Rr,null):null;r&&r.handleError(e)}function xo(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function jo(t,e,n){var r=qt(e,t);Yr(t[11],r,n)}function Ro(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=E(i,s):2==o&&(r=E(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var No,Do=new gn("INJECTOR",-1),Po=function(){function t(){d(this,t)}return v(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:An;if(e===An){var n=new Error("NullInjectorError: No provider for ".concat(_(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Lo=new gn("Set Injector scope."),Mo={},Vo={},Fo=[];function Uo(){return void 0===No&&(No=new Po),No}function qo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new zo(t,n,e||Uo(),r)}var zo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&_n(n,function(t){return i.processProvider(t,e,n)}),_n([e],function(t){return i.processInjectorType(t,[],a)}),this.records.set(Do,Qo(void 0,this));var s=this.records.get(Lo);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:_(e))}return v(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:An,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.Default;this.assertNotDestroyed();var r,i=Rn(this);try{if(!(n&B.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof gn)&&P(t);o=a&&this.injectableDefInScope(a)?Qo(Bo(t),Mo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&B.Self?Uo():this.parent).get(t,e=n&B.Optional&&e===An?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(_(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=_(e);if(Array.isArray(e))i=e.map(_).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):_(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(xn,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{Rn(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(_(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=S(t)))return!1;var i=M(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=M(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{_n(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;_n(i,function(t){return r.processProvider(t,n,i||Fo)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a);var h=Tt(a)||function(){return new a};this.records.set(a,Qo(h,Mo));var f=i.providers;if(null!=f&&!s){var d=t;_n(f,function(t){return r.processProvider(t,d,f)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=Ko(t=S(t))?t:S(t&&t.provide),i=function(t,e,n){return Go(t)?Qo(void 0,t.useValue):Qo(Ho(t),Mo)}(t);if(Ko(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=Qo(void 0,Mo,!0)).factory=function(){return Pn(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===Mo&&(e.value=Vo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function Bo(t){var e=P(t),n=null!==e?e.factory:Tt(t);if(null!==n)return n;if(t instanceof gn)throw new Error("Token ".concat(_(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=On(e,"?");throw new Error("Can't resolve all parameters for ".concat(_(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[F]||t[q]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Ho(t,e,n){var r,i;if(Ko(t)){var a=S(t);return Tt(a)||Bo(a)}if(Go(t))r=function(){return S(t.useValue)};else if((i=t)&&i.useFactory)r=function(){return t.useFactory.apply(t,o(Pn(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return Dn(S(t.useExisting))};else{var s=S(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Tt(s)||Bo(s);r=function(){return h(s,o(Pn(t.deps)))}}return r}function Qo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Go(t){return null!==t&&"object"==typeof t&&jn in t}function Ko(t){return"function"==typeof t}var Yo=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=qo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},Wo=function(){var t=function(){function t(){d(this,t)}return v(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Yo(t,e,""):Yo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=An,t.NULL=new Po,t.\u0275prov=N({token:t,providedIn:"any",factory:function(){return Dn(Do)}}),t.__NG_ELEMENT_ID__=-1,t}();function Jo(t,e){Re(Gt(t)[1],re())}function Xo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(It(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Zo(t.inputs),o.declaredInputs=Zo(t.declaredInputs),o.outputs=Zo(t.outputs);var a=i.hostBindings;a&&ea(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&$o(t,s),u&&ta(t,u),b(t.inputs,i.inputs),b(t.declaredInputs,i.declaredInputs),b(t.outputs,i.outputs),It(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===Xo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ze(i.hostAttrs,n=ze(n,i.hostAttrs))}}(r)}function Zo(t){return t===tt?{}:t===nt?[]:t}function $o(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function ta(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function ea(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var na=null;function ra(){if(!na){var t=$.Symbol;if(t&&t.iterator)na=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(na=r)}}return na}var ia=function(){function t(e){d(this,t),this.wrapped=e}return v(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function oa(t){return!!aa(t)&&(Array.isArray(t)||!(t instanceof Map)&&ra()in t)}function aa(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function sa(t,e,n){return t[e]=n}function ua(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ca(t,e,n,r){var i=ua(t,e,n);return ua(t,e+1,r)||i}function la(t,e,n,r){var i=te();return ua(i,de(),e)&&(ee(),function(t,e,n,r,i,o){var a=zt(t,e);po(e[11],a,o,t.value,n,r,i)}(Ae(),i,t,e,n,r)),la}function ha(t,e,n,r){return ua(t,de(),n)?e+A(n)+r:Ni}function fa(t,e,n,r,i,o,a,s){var u=te(),c=ee(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Hi(e,t,4,a||null,Wt(c,s));oo(e,n,l,Wt(c,u)),Re(e,l);var h=l.tViews=eo(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,a):c.data[l];ae(h,!1);var f=u[11].createComment("");fi(c,u,f,h),Pr(f,u),_o(u,u[l]=go(f,u,f,h)),St(h)&&Zi(c,u,h),null!=a&&$i(u,h,s)}function da(t){return Ht(Zt.lFrame.contextLView,20+t)}function pa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default,n=te();return null===n?Dn(t,e):rn(re(),n,S(t),e)}function va(t,e,n){var r=te();return ua(r,de(),e)&&io(ee(),Ae(),r,t,e,r[11],n,!1),va}function ya(t,e,n,r,i){var o=i?"class":"style";xo(t,n,e.inputs[o],o,r)}function ga(t,e,n,r){var i=te(),o=ee(),a=20+t,s=i[11],u=i[a]=Jr(s,e,Zt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=Hi(e,t,2,i,Wt(s,o));return oo(e,n,u,Wt(s,a)),null!==u.attrs&&Ro(u,u.attrs,!1),null!==u.mergedAttrs&&Ro(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,i,0,e,n,r):o.data[a];ae(c,!0);var l=c.mergedAttrs;null!==l&&Fe(s,u,l);var h=c.classes;null!==h&&_i(s,u,h);var f=c.styles;null!==f&&wi(s,u,f),64!=(64&c.flags)&&fi(o,i,u,c),0===Zt.lFrame.elementDepthCount&&Pr(u,i),Zt.lFrame.elementDepthCount++,St(c)&&(Zi(o,i,c),Xi(o,c,i)),null!==r&&$i(i,c)}function ma(){var t=re();se()?ue():ae(t=t.parent,!1);var e=t;Zt.lFrame.elementDepthCount--;var n=ee();n.firstCreatePass&&(Re(n,t),Ot(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ya(n,e,te(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ya(n,e,te(),e.stylesWithoutHost,!1)}function ba(t,e,n,r){ga(t,e,n,r),ma()}function wa(t,e,n){var r=te(),i=ee(),o=t+20,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=Wt(o,r),s=Hi(e,t,8,"ng-container",a);return null!==a&&Ro(s,a,!0),oo(e,n,s,Wt(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,i,r,e,n):i.data[o];ae(a,!0);var s=r[o]=r[11].createComment("");fi(i,r,s,a),Pr(s,r),St(a)&&(Zi(i,r,a),Xi(i,a,r)),null!=n&&$i(r,a)}function _a(){var t=re(),e=ee();se()?ue():ae(t=t.parent,!1),e.firstCreatePass&&(Re(e,t),Ot(t)&&e.queries.elementEnd(t))}function ka(){return te()}function Ea(t){return!!t&&"function"==typeof t.then}function Oa(t){return!!t&&"function"==typeof t.subscribe}var Ca=Oa;function Sa(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=te(),o=ee(),a=re();return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=St(r),c=t.firstCreatePass&&To(t),l=Io(e),h=!0;if(3&r.type){var f=zt(r,e),d=s?s(f):tt,p=d.target||f,v=l.length,y=s?function(t){return s(Ut(t[r.index])).target}:r.index;if(Vt(n)){var g=null;if(!s&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=Ta(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=Ta(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}else o=Ta(r,e,o,!1);var b,w=r.outputs;if(h&&null!==w&&(b=w[i])){var _=b.length;if(_)for(var k=0;k<_;k+=2){var E=e[b[k]][b[k+1]].subscribe(o),O=l.length;l.push(o,E),c&&c.push(i,r.index,O,-(O+1))}}}(o,i,i[11],a,t,e,n,r),Sa}function Ia(t,e,n){try{return!1!==e(n)}catch(r){return Ao(t,r),!1}}function Ta(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?Qt(t.index,e):e;0==(32&e[2])&&ko(a);for(var s=Ia(e,n,o),u=i.__ngNextListenerFn__;u;)s=Ia(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Aa(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Zt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Zt.lFrame.contextLView))[8]}(t)}function xa(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?Ai(t,o,!0):xi(r,o))return i}else n=i}return n}function ja(t){var e=te()[16][6];if(!e.projection)for(var n=e.projection=On(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?xa(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function Ra(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=te(),i=ee(),o=Hi(i,20+t,16,null,n||null);null===o.projection&&(o.projection=e),ue(),64!=(64&o.flags)&&function(t,e,n){bi(e[11],0,e,n,ei(t,n,e),si(n.parent||e[6],n,e))}(i,r,o)}function Na(t,e,n){return Da(t,"",e,"",n),Na}function Da(t,e,n,r,i){var o=te(),a=ha(o,e,n,r);return a!==Ni&&io(ee(),Ae(),o,t,a,o[11],i,!1),Da}function Pa(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?Mi(o):Fi(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];La(t[s],e)&&(u=!0,t[s+1]=r?qi(c):Vi(c)),s=r?Mi(c):Fi(c)}u&&(t[n+1]=r?Vi(o):qi(o))}function La(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&In(t,e)>=0}var Ma={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Va(t){return t.substring(Ma.key,Ma.keyEnd)}function Fa(t,e){var n=Ma.textEnd;return n===e?-1:(e=Ma.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ma.key=e,n),Ua(t,e,n))}function Ua(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function qa(t,e,n){return Qa(t,e,n,!1),qa}function za(t,e){return Qa(t,e,null,!0),za}function Ba(t){Ga(Cn,Ha,t,!0)}function Ha(t,e){for(var n=function(t){return function(t){Ma.key=0,Ma.keyEnd=0,Ma.value=0,Ma.valueEnd=0,Ma.textEnd=t.length}(t),Fa(t,Ua(t,0,Ma.textEnd))}(e);n>=0;n=Fa(e,n))Cn(t,Va(e),!0)}function Qa(t,e,n,r){var i=te(),o=ee(),a=pe(2);o.firstUpdatePass&&Ya(o,t,a,r),e!==Ni&&ua(i,a,e)&&Xa(o,o.data[Ie()],i,i[11],t,i[a+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=_(Yn(t)))),t}(e,n),r,a)}function Ga(t,e,n,r){var i=ee(),o=pe(2);i.firstUpdatePass&&Ya(i,null,o,r);var a=te();if(n!==Ni&&ua(a,o,n)){var s=i.data[Ie()];if(ts(s,r)&&!Ka(i,o)){var u=r?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(n=E(u,n||"")),ya(i,s,a,n,r)}else!function(t,e,n,r,i,o,a,s){i===Ni&&(i=et);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=void 0,v=null;l===h?(u+=2,c+=2,f!==d&&(v=h,p=d)):null===h||null!==l&&l<h?(u+=2,v=l):(c+=2,v=h,p=d),null!==v&&Xa(t,e,n,r,v,p,a,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return et;var r=[],i=Yn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Ka(t,e){return e>=t.expandoStartIndex}function Ya(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Ie()],a=Ka(t,n);ts(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=Zt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ja(n=Wa(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Wa(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Fi(r))return t[Mi(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[Mi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=Ja(s=Wa(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Ja(r,t[o].hostAttrs,n);return Ja(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=Mi(a),u=Fi(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||In(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Mi(t[s+1]);t[r+1]=Li(f,s),0!==f&&(t[f+1]=Ui(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Li(s,0),0!==s&&(t[s+1]=Ui(t[s+1],r)),s=r;else t[r+1]=Li(u,0),0===s?s=r:t[u+1]=Ui(t[u+1],r),u=r;l&&(t[r+1]=Vi(t[r+1])),Pa(t,c,r,!0),Pa(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&In(o,e)>=0&&(n[r+1]=qi(n[r+1]))}(e,c,t,r,o),a=Li(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function Wa(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Ja(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function Ja(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Cn(t,a,!!n||e[++o]))}return void 0===t?null:t}function Xa(t,e,n,r,i,o,a,s){if(3&e.type){var u=t.data,c=u[s+1];$a(1==(1&c)?Za(u,e,n,i,Fi(c),a):void 0)||($a(o)||2==(2&c)&&(o=Za(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Vt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:Ur.DashCase;if(null==i)o?t.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=Ur.Important),o?t.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,qt(Ie(),n),i,o))}}function Za(t,e,n,r,i,o){for(var a,s=null===e;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Ni&&(f=h?et:void 0);var d=h?Sn(f,r):l===r?f:void 0;if(c&&!$a(d)&&(d=Sn(u,r)),$a(d)&&(a=d,s))return a;var p=t[i+1];i=s?Mi(p):Fi(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=Sn(v,r))}return a}function $a(t){return void 0!==t}function ts(t,e){return 0!=(t.flags&(e?16:32))}function es(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=te(),r=ee(),i=t+20,o=r.firstCreatePass?Hi(r,i,1,e,null):r.data[i],a=n[i]=Kr(n[11],e);fi(r,n,a,o),ae(o,!1)}function ns(t){return rs("",t,""),ns}function rs(t,e,n){var r=te(),i=ha(r,t,e,n);return i!==Ni&&jo(r,Ie(),i),rs}function is(t,e,n,r,i){var o=te(),a=function(t,e,n,r,i,o){var a=ca(t,fe(),n,i);return pe(2),a?e+A(n)+r+A(i)+o:Ni}(o,t,e,n,r,i);return a!==Ni&&jo(o,Ie(),a),is}function os(t,e,n,r,i,o,a,s,u){Ga(Cn,Ha,function(t,e,n,r,i,o,a,s,u,c){var l=function(t,e,n,r,i,o){var a=ca(t,e,n,r);return ca(t,e+2,i,o)||a}(t,fe(),n,i,a,u);return pe(4),l?e+A(n)+r+A(i)+o+A(a)+s+A(u)+c:Ni}(te(),t,e,n,r,i,o,a,s,u),!0)}function as(t,e,n){var r=te();return ua(r,de(),e)&&io(ee(),Ae(),r,t,e,r[11],n,!0),as}var ss=void 0,us=["en",[["a","p"],["AM","PM"],ss],[["AM","PM"],ss,ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ss,"{1} 'at' {0}",ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],cs={};function ls(t,e,n){"string"!=typeof e&&(n=e,e=t[vs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),cs[e]=t,n&&(cs[e][vs.ExtraData]=n)}function hs(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=ps(e);if(n)return n;var r=e.split("-")[0];if(n=ps(r))return n;if("en"===r)return us;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function fs(t){return hs(t)[vs.CurrencyCode]||null}function ds(t){return hs(t)[vs.PluralCase]}function ps(t){return t in cs||(cs[t]=$.ng&&$.ng.common&&$.ng.common.locales&&$.ng.common.locales[t]),cs[t]}var vs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({}),ys=["zero","one","two","few","many"],gs={marker:"element"},ms={marker:"ICU"},bs=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({}),ws="en-US";function _s(t){var e;null==(e=t)&&R("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(ws=t.toLowerCase().replace(/_/g,"-"))}function ks(t,e,n){var r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?ui(t,0,n):Ut(n[i])}function Es(t,e,n,r,i){var o=e.insertBeforeIndex;if(Array.isArray(o)){var a=r,s=null;if(3&e.type||(s=a,a=i),null!==a&&0==(2&e.flags))for(var u=1;u<o.length;u++)ri(t,a,n[o[u]],s,!1)}}function Os(t,e){if(t.push(e),t.length>1)for(var n=t.length-2;n>=0;n--){var r=t[n];Cs(r)||Ss(r,e)&&null===(i=void 0,i=r.insertBeforeIndex,Array.isArray(i)?i[0]:i)&&Is(r,e.index)}var i}function Cs(t){return!(64&t.type)}function Ss(t,e){return Cs(e)||t.index>e.index}function Is(t,e){var n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(hi(ks,Es),t.insertBeforeIndex=e)}function Ts(t,e){var n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function As(t,e,n){var r=Qi(t,n,64,null,null);return Os(e,r),r}function xs(t,e){var n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}var js=0,Rs=0;function Ns(t,e,n,r){for(var i,o=n[11],a=null,s=0;s<e.length;s++){var u=e[s];if("string"==typeof u){var c=e[++s];null===n[c]&&(n[c]=Kr(o,u))}else if("number"==typeof u)switch(1&u){case 0:var l=u>>>17,h=void 0,f=void 0;if(null===a&&(a=l,i=ai(o,r)),l===a?(h=r,f=i):(h=null,f=Ut(n[l])),null!==f){var d=(131070&u)>>>1;ri(o,f,n[d],h,!1);var p=Ts(t,d);if(null!==p&&"object"==typeof p){var v=xs(p,n);null!==v&&Ns(t,p.create[v],n,n[p.anchorIdx])}}break;case 1:var y=e[++s],g=e[++s];po(o,qt(u>>>1,n),null,null,y,g,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(u,'"'))}else switch(u){case ms:var m=e[++s],b=e[++s];null===n[b]&&Pr(n[b]=Wr(o,m),n);break;case gs:var w=e[++s],_=e[++s];null===n[_]&&Pr(n[_]=Jr(o,w,null),n)}}}function Ds(t,e,n,r,i){for(var o=0;o<n.length;o++){var a=n[o],s=n[++o];if(a&i)for(var u="",c=o+1;c<=o+s;c++){var l=n[c];if("string"==typeof l)u+=l;else if("number"==typeof l)if(l<0)u+=A(e[r-l]);else{var h=l>>>2;switch(3&l){case 1:var f=n[++c],d=n[++c],p=t.data[h];"string"==typeof p?po(e[11],e[h],null,p,f,u,d):io(t,p,e,f,u,e[11],d,!1);break;case 0:var v=e[h];null!==v&&Yr(e[11],v,u);break;case 2:Ls(t,Ts(t,h),e,u);break;case 3:Ps(t,Ts(t,h),r,e)}}}else{var y=n[o+1];if(y>0&&3==(3&y)){var g=Ts(t,y>>>2);e[g.currentCaseLViewIndex]<0&&Ps(t,g,r,e)}}o+=s}}function Ps(t,e,n,r){var i=r[e.currentCaseLViewIndex];if(null!==i){var o=js;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),Ds(t,r,e.update[i],n,o)}}function Ls(t,e,n,r){var i=function(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var r=function(t,e){var n=ds(e)(parseInt(t,10)),r=ys[n];return void 0!==r?r:"other"}(e,ws);-1===(n=t.cases.indexOf(r))&&"other"!==r&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(xs(e,n)!==i&&(Ms(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){var o=n[e.anchorIdx];o&&Ns(t,e.create[i],n,o)}}function Ms(t,e,n){var r=xs(e,n);if(null!==r)for(var i=e.remove[r],o=0;o<i.length;o++){var a=i[o];if(a>0){var s=qt(a,n);null!==s&&yi(n[11],s)}else Ms(t,Ts(t,~a),n)}}var Vs=/\ufffd(\d+):?\d*\ufffd/gi,Fs=/\ufffd(\d+)\ufffd/,Us=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,qs=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,zs=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Bs=/\uE500/g;function Hs(t,e,n,r,i,o,a){var s=Gi(t,r,1,null),u=s<<bs.SHIFT,c=oe();e===c&&(c=null),null===c&&(u|=bs.APPEND_EAGERLY),a&&(u|=bs.COMMENT,void 0===Fr&&(Fr=function(){var t,e,n=[],r=-1;function i(t,n){r=0;var i=xs(t,n);e=null!==i?t.remove[i]:nt}function o(){if(r<e.length){var a=e[r++];return a>0?t[a]:(n.push(r,e),i(t[1].data[~a],t),o())}return 0===n.length?null:(e=n.pop(),r=n.pop(),o())}return function(e,r){for(t=r;n.length;)n.pop();return i(e.value,r),o}}())),i.push(u,null===o?"":o);var l=Qi(t,s,a?32:1,null===o?"":o,null);Os(n,l);var h=l.index;return ae(l,!1),null!==c&&e!==c&&function(t,e){var n,r=t.insertBeforeIndex;null===r?(hi(ks,Es),r=t.insertBeforeIndex=[null,e]):(1!=(n=Array.isArray(r))&&R("Expecting array here",n,!0,"=="),r.push(e))}(c,h),l}function Qs(t,e,n,r,i,o,a){var s=a.match(Vs),u=Hs(t,e,n,o,r,s?null:a,!1);s&&Gs(i,a,u.index)}function Gs(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=t.length,a=o+1;t.push(null,null);for(var s=o+2,u=e.split(Vs),c=0,l=0;l<u.length;l++){var h=u[l];if(1&l){var f=parseInt(h,10);t.push(-1-f),c|=Ks(f)}else""!==h&&t.push(h)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[o]=c,t[a]=t.length-s,c}function Ks(t){return 1<<Math.min(t,31)}function Ys(t){for(var e,n,r="",i=0,o=!1;null!==(e=qs.exec(t));)o?e[0]==="\ufffd/*".concat(n,"\ufffd")&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i)}function Ws(t,e,n,r,i,o){var a=0,s={type:i.type,currentCaseLViewIndex:Gi(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(Ks(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){var r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,s);for(var u=i.values,c=0;c<u.length;c++){for(var l=u[c],h=[],f=0;f<l.length;f++){var d=l[f];if("string"!=typeof d){var p=h.push(d)-1;l[f]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}a=Zs(t,s,e,n,r,i.cases[c],l.join(""),h)|a}a&&function(t,e,n){t.push(e,1,n<<2|3)}(n,a,o)}function Js(t){for(var e=[],n=[],r=1,i=0,o=Xs(t=t.replace(Us,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})),a=0;a<o.length;){var s=o[a++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&e.push(s);var u=Xs(o[a++]);e.length>n.length&&n.push(u)}return{type:r,mainBinding:i,cases:e,values:n}}function Xs(t){if(!t)return[];var e,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;e=o.exec(t);){var a=e.index;if("}"==e[0]){if(r.pop(),0==r.length){var s=t.substring(n,a);Us.test(s)?i.push(Js(s)):i.push(s),n=a+1}}else{if(0==r.length){var u=t.substring(n,a);i.push(u),n=a+1}r.push("{")}}var c=t.substring(n);return i.push(c),i}function Zs(t,e,n,r,i,o,a,s){var u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);var h=nr(Mt()).getInertBodyElement(a),f=Sr(h)||h;return f?$s(t,e,n,r,u,c,l,f,i,s,0):0}function $s(t,e,n,r,i,o,a,s,u,c,l){for(var h=0,f=s.firstChild;f;){var d=Gi(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:var p=f,v=p.tagName.toLowerCase();if(yr.hasOwnProperty(v)){nu(i,gs,v,u,d),t.data[d]=v;for(var y=p.attributes,g=0;g<y.length;g++){var m=y.item(g),b=m.name.toLowerCase();m.value.match(Vs)?br.hasOwnProperty(b)&&(gr[b]?Gs(a,m.value,d,m.name,sr):mr[b]?Gs(a,m.value,d,m.name,ur):Gs(a,m.value,d,m.name)):ru(i,d,m)}h=$s(t,e,n,r,i,o,a,f,d,c,l+1)|h,tu(o,d,l)}break;case Node.TEXT_NODE:var w=f.textContent||"",_=w.match(Vs);nu(i,null,_?"":w,u,d),tu(o,d,l),_&&(h=Gs(a,w,d)|h);break;case Node.COMMENT_NODE:var k=Fs.exec(f.textContent||"");if(k){var E=c[parseInt(k[1],10)];nu(i,ms,"",u,d),Ws(t,n,r,u,E,d),eu(o,d,l)}}f=f.nextSibling}return h}function tu(t,e,n){0===n&&t.push(e)}function eu(t,e,n){0===n&&(t.push(~e),t.push(e))}function nu(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function ru(t,e,n){t.push(e<<1|1,n.name,n.value)}function iu(t,e,n){(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=ee(),i=te(),o=20+t,a=Wt(r.consts,e),s=oe();r.firstCreatePass&&function(t,e,n,r,i,o){for(var a,s=oe(),u=[],c=[],l=[[]],h=(a=i=function(t,e){if(function(t){return-1===t}(e))return Ys(t);var n=t.indexOf(":".concat(e,"\ufffd"))+2+e.toString().length,r=t.search(new RegExp("\ufffd\\/\\*\\d+:".concat(e,"\ufffd")));return Ys(t.substring(n,r))}(i,o),a.replace(Bs," ")).split(zs),f=0;f<h.length;f++){var d=h[f];if(0==(1&f))for(var p=Xs(d),v=0;v<p.length;v++){var y=p[v];if(0==(1&v)){var g=y;""!==g&&Qs(t,s,l[0],u,c,n,g)}else{var m=y;if("object"!=typeof m)throw new Error('Unable to parse ICU expression in "'.concat(i,'" message.'));Ws(t,n,c,e,m,Hs(t,s,l[0],n,u,"",!0).index)}}else{var b=47===d.charCodeAt(0),w=(d.charCodeAt(b?1:0),20+Number.parseInt(d.substring(b?2:1)));if(b)l.shift(),ae(oe(),!1);else{var _=As(t,l[0],w);l.unshift([]),ae(_,!0)}}}t.data[r]={create:u,update:c}}(r,null===s?0:s.index,i,o,a,n);var u=r.data[o],c=ni(r,s===i[6]?null:s,i);!function(t,e,n,r){for(var i=t[11],o=0;o<e.length;o++){var a=e[o++],s=e[o],u=(a&bs.COMMENT)===bs.COMMENT,c=(a&bs.APPEND_EAGERLY)===bs.APPEND_EAGERLY,l=a>>>bs.SHIFT,h=t[l];null===h&&(h=t[l]=u?i.createComment(s):Kr(i,s)),c&&null!==n&&ri(i,n,h,r,!1)}}(i,u.create,c,s&&8&s.type?i[s.index]:null),ve(!0)})(t,e,n),ve(!1)}function ou(t){return ua(te(),de(),t)&&(js|=1<<Math.min(Rs,31)),Rs++,ou}function au(t){!function(t,e,n){if(Rs>0){var r=t.data[n];Ds(t,e,Array.isArray(r)?r:r.update,fe()-Rs-1,js)}js=0,Rs=0}(ee(),te(),t+20)}function su(t,e,n,r,i){if(t=S(t),Array.isArray(t))for(var o=0;o<t.length;o++)su(t[o],e,n,r,i);else{var a=ee(),s=te(),u=Ko(t)?t:S(t.provide),c=Ho(t),l=re(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(Ko(t)||!t.multi){var p=new Ve(c,i,pa),v=lu(u,e,i?h:h+d,f);-1===v?(tn(Je(l,s),a,u),uu(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=lu(u,e,h+d,f),g=lu(u,e,h,h+d),m=y>=0&&n[y],b=g>=0&&n[g];if(i&&!b||!i&&!m){tn(Je(l,s),a,u);var w=function(t,e,n,r,i){var o=new Ve(t,n,pa);return o.multi=[],o.index=e,o.componentProviders=0,cu(o,i,r&&!n),o}(i?fu:hu,n.length,i,r,c);!i&&b&&(n[g].providerFactory=w),uu(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(w),s.push(w)}else uu(a,t,y>-1?y:g,cu(n[i?g:y],c,!i&&r));!i&&r&&b&&n[g].componentProviders++}}}function uu(t,e,n,r){var i=Ko(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function cu(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function lu(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function hu(t,e,n,r){return du(this.multi,[])}function fu(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=cn(n,n[1],this.providerFactory.index,r);du(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else du(o,i=[]);return i}function du(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function pu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=ee();if(r.firstCreatePass){var i=It(t);su(n,r.data,r.blueprint,i,!0),su(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var vu=function t(){d(this,t)},yu=function(){function t(){d(this,t)}return v(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(_(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),gu=function(){var t=function t(){d(this,t)};return t.NULL=new yu,t}();function mu(){}function bu(t,e){return new _u(zt(t,e))}var wu=function(){return bu(re(),te())},_u=function(){var t=function t(e){d(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=wu,t}();function ku(t){return t instanceof _u?t.nativeElement:t}var Eu=function t(){d(this,t)},Ou=function(){var t=function t(){d(this,t)};return t.__NG_ELEMENT_ID__=function(){return Cu()},t}(),Cu=function(){var t=te(),e=Qt(re().index,t);return function(t){return t[11]}(kt(e)?e:t)},Su=function(){var t=function t(){d(this,t)};return t.\u0275prov=N({token:t,providedIn:"root",factory:function(){return null}}),t}(),Iu=function t(e){d(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Tu=new Iu("11.2.7"),Au=function(){function t(){d(this,t)}return v(t,[{key:"supports",value:function(t){return oa(t)}},{key:"create",value:function(t){return new ju(t)}}]),t}(),xu=function(t,e){return e},ju=function(){function t(e){d(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||xu}return v(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Pu(n,r,i)?e:n,a=Pu(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!oa(t))throw new Error("Error trying to diff '".concat(_(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[ra()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Ru(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Du),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Du),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),Ru=function t(e,n){d(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Nu=function(){function t(){d(this,t),this._head=null,this._tail=null}return v(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Du=function(){function t(){d(this,t),this.map=new Map}return v(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Nu,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function Pu(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Lu=function(){function t(){d(this,t)}return v(t,[{key:"supports",value:function(t){return t instanceof Map||aa(t)}},{key:"create",value:function(){return new Mu}}]),t}(),Mu=function(){function t(){d(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return v(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||aa(t)))throw new Error("Error trying to diff '".concat(_(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Vu(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),Vu=function t(e){d(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function Fu(){return new Uu([new Au])}var Uu=function(){var t=function(){function t(e){d(this,t),this.factories=e}return v(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Fu())},deps:[[t,new Un,new Fn]]}}}]),t}();return t.\u0275prov=N({token:t,providedIn:"root",factory:Fu}),t}();function qu(){return new zu([new Lu])}var zu=function(){var t=function(){function t(e){d(this,t),this.factories=e}return v(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||qu())},deps:[[t,new Un,new Fn]]}}}]),t}();return t.\u0275prov=N({token:t,providedIn:"root",factory:qu}),t}();function Bu(t,e,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=e[n.index];if(null!==a&&r.push(Ut(a)),Et(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&Bu(u[1],u,c,r)}var l=n.type;if(8&l)Bu(t,e,n.child,r);else if(32&l)for(var h=qr(n,e),f=void 0;f=h();)r.push(f);else if(16&l){var d=pi(e,n);if(Array.isArray(d))r.push.apply(r,o(d));else{var p=zr(e[16]);Bu(p[1],p,d,r,!0)}}n=i?n.projectionNext:n.next}return r}var Hu=function(){function t(e,n){d(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return v(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return Bu(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(Et(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Zr(t,n),En(e,n))}this._attachedToViewContainer=!1}$r(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){no(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){ko(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Eo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){le(!0);try{Eo(t,e,n)}finally{le(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,mi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),Qu=function(t){y(n,t);var e=m(n);function n(t){var r;return d(this,n),(r=e.call(this,t))._view=t,r}return v(n,[{key:"detectChanges",value:function(){Oo(this._view)}},{key:"checkNoChanges",value:function(){!function(t){le(!0);try{Oo(t)}finally{le(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Hu),Gu=Yu,Ku=function(){var t=function t(){d(this,t)};return t.__NG_ELEMENT_ID__=Gu,t.__ChangeDetectorRef__=!0,t}();function Yu(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Ct(t)){var r=Qt(t.index,e);return new Hu(r,r)}return 47&t.type?new Hu(e[16],e):null}(re(),te(),t)}var Wu=[new Lu],Ju=new Uu([new Au]),Xu=new zu(Wu),Zu=function(){return ec(re(),te())},$u=function(){var t=function t(){d(this,t)};return t.__NG_ELEMENT_ID__=Zu,t}(),tc=function(t){y(n,t);var e=m(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return v(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Bi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ki(e,n,t),new Hu(n)}}]),n}($u);function ec(t,e){return 4&t.type?new tc(e,t,bu(t,e)):null}var nc=function t(){d(this,t)},rc=function t(){d(this,t)},ic=function(){return cc(re(),te())},oc=function(){var t=function t(){d(this,t)};return t.__NG_ELEMENT_ID__=ic,t}(),ac=function(t){y(n,t);var e=m(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return v(n,[{key:"element",get:function(){return bu(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new fn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=$e(this._hostTNode,this._hostLView);if(He(t)){var e=Ge(t,this._hostLView),n=Qe(t);return new fn(e[1].data[n+8],e)}return new fn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=sc(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(nc,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var r=t._lView,i=r[1];if(Et(r[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var a=r[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(t))}}var u=this._adjustIndex(e),c=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],kn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(i,r,c,u);var l=vi(u,c),h=r[11],f=ai(h,c[7]);return null!==f&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,mi(t,r,n,1,i,o)}(i,c[6],h,r,f,l),t.attachToViewContainerRef(),kn(uc(c),u,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=sc(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=Zr(this._lContainer,e);n&&(En(uc(this._lContainer),e),$r(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=Zr(this._lContainer,e);return n&&null!=En(uc(this._lContainer),e)?new Hu(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(oc);function sc(t){return t[8]}function uc(t){return t[8]||(t[8]=[])}function cc(t,e){var n,r=e[t.index];if(Et(r))n=r;else{var i;if(8&t.type)i=Ut(r);else{var o=e[11];i=o.createComment("");var a=zt(t,e);ri(o,ai(o,a),i,function(t,e){return Vt(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=go(r,e,i,t),_o(e,n)}return new ac(n,t,e)}var lc={},hc=function(t){y(n,t);var e=m(n);function n(t){var r;return d(this,n),(r=e.call(this)).ngModule=t,r}return v(n,[{key:"resolveComponentFactory",value:function(t){var e=wt(t);return new pc(e,this.ngModule)}}]),n}(gu);function fc(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var dc=new gn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Lr}}),pc=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Ri).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return v(n,[{key:"inputs",get:function(){return fc(this.componentDef.inputs)}},{key:"outputs",get:function(){return fc(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,lc,i);return o!==lc||r===lc?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(Eu,Ft),u=a.get(Su,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Vt(t))return t.selectRootElement(e,n===Y.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Jr(s.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Lr,clean:So,playerHandler:null,flags:0},p=eo(0,null,null,1,0,null,null,null,null,null),v=Bi(null,p,d,f,null,null,s,c,u,a);_e(v);try{var y=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Hi(a,20,2,"#host",null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(Ro(s,u,!0),null!==t&&(Fe(i,t,u),null!==s.classes&&_i(i,t,s.classes),null!==s.styles&&wi(i,t,s.styles)));var c=r.createRenderer(t,e),l=Bi(n,to(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(tn(Je(s,n),a,e.type),uo(a,s),lo(s,n.length,1)),_o(n,l),n[20]=l}(h,this.componentDef,v,s,c);if(h)if(n)Fe(c,h,["ng-version",Tu.full]);else{var g=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ii(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=g.attrs,b=g.classes;m&&Fe(c,h,m),b&&b.length>0&&_i(c,h,b.join(" "))}if(o=Bt(p,20),void 0!==e)for(var w=o.projection=[],_=0;_<this.ngContentSelectors.length;_++){var k=e[_];w.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=re();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ho(t,r,e,Gi(t,e,1,null),n));var i=cn(e,t,r.directiveStart,r);Pr(i,e);var o=zt(r,e);return o&&Pr(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(function(t){return t(a,e)}),e.contentQueries){var s=re();e.contentQueries(1,a,s.directiveStart)}var u=re();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Te(u.index),ao(n[1],u,0,u.directiveStart,u.directiveEnd,e),so(e,a)),a}(y,this.componentDef,v,d,[Jo]),Ki(p,v,null)}finally{Se()}return new vc(this.componentType,i,bu(o,v),v,o)}}]),n}(vu),vc=function(t){y(n,t);var e=m(n);function n(t,r,i,o,a){var s;return d(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new Qu(o),s.componentType=t,s}return v(n,[{key:"injector",get:function(){return new fn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return function t(){d(this,t)}}()),yc=new Map,gc=function(t){y(n,t);var e=m(n);function n(t,r){var i;d(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=w(i),i.destroyCbs=[],i.componentFactoryResolver=new hc(w(i));var o=_t(t),a=t[st]||null;return a&&_s(a),i._bootstrapComponents=Vr(o.bootstrap),i._r3Injector=qo(t,r,[{provide:nc,useValue:w(i)},{provide:gu,useValue:i.componentFactoryResolver}],_(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return v(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.Default;return t===Wo||t===nc||t===Do?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(nc),mc=function(t){y(n,t);var e=m(n);function n(t){var r,i,o;return d(this,n),(r=e.call(this)).moduleType=t,null!==_t(t)&&(i=t,o=new Set,function t(e){var n=_t(e,!0),r=n.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(_(e)," vs ").concat(_(e.name)))}(r,yc.get(r),e),yc.set(r,e));var i,a=s(Vr(n.imports));try{for(a.s();!(i=a.n()).done;){var u=i.value;o.has(u)||(o.add(u),t(u))}}catch(c){a.e(c)}finally{a.f()}}(i)),r}return v(n,[{key:"create",value:function(t){return new gc(this.moduleType,t)}}]),n}(rc);function bc(t,e,n,r){return Ec(te(),he(),t,e,n,r)}function wc(t,e,n,r,i){return function(t,e,n,r,i,o,a){var s=e+n;return ca(t,s,i,o)?sa(t,s+2,a?r.call(a,i,o):r(i,o)):kc(t,s+2)}(te(),he(),t,e,n,r,i)}function _c(t,e,n,r,i,o){return function(t,e,n,r,i,o,a,s){var u=e+n;return function(t,e,n,r,i){var o=ca(t,e,n,r);return ua(t,e+2,i)||o}(t,u,i,o,a)?sa(t,u+3,s?r.call(s,i,o,a):r(i,o,a)):kc(t,u+3)}(te(),he(),t,e,n,r,i,o)}function kc(t,e){var n=t[e];return n===Ni?void 0:n}function Ec(t,e,n,r,i,o){var a=e+n;return ua(t,a,i)?sa(t,a+1,o?r.call(o,i):r(i)):kc(t,a+1)}function Oc(t,e){var n,r=ee(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new T("302","The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Tt(n.type)),a=H(pa);try{var s=Ye(!1),u=o();return Ye(s),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(r,te(),i,u),u}finally{H(a)}}function Cc(t,e,n){var r=t+20,i=te(),o=Ht(i,r);return function(t,e){return ia.isWrapped(e)&&(e=ia.unwrap(e),t[fe()]=Ni),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Ec(i,he(),e,o.transform,n,o):o.transform(n))}var Sc=function(t){y(n,t);var e=m(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return d(this,n),(t=e.call(this)).__isAsync=r,t}return v(n,[{key:"emit",value:function(t){f(k(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},s=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var u=f(k(n.prototype),"subscribe",this).call(this,i,o,s);return t instanceof a.a&&t.add(u),u}}]),n}(i.a);function Ic(){return this._results[ra()]()}var Tc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];d(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=ra(),r=t.prototype;r[n]||(r[n]=Ic)}return v(t,[{key:"changes",get:function(){return this._changes||(this._changes=new Sc)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){this.dirty=!1;var n=wn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Ac=function(){function t(e){d(this,t),this.queryList=e,this.matches=null}return v(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),xc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];d(this,t),this.queries=e}return v(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Hc(t,e).matches&&this.queries[e].setDirty()}}]),t}(),jc=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,t),this.predicate=e,this.flags=n,this.read=r},Rc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];d(this,t),this.queries=e}return v(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),Nc=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;d(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return v(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,Dc(e,i)),this.matchTNodeWithReadOption(t,e,un(e,t,i,!1,!1))}else n===$u?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,un(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===_u||r===oc||r===$u&&4&e.type)this.addMatch(e.index,-2);else{var i=un(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Dc(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Pc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?bu(t,e):4&t.type?ec(t,e):null}(e,t):-2===n?function(t,e,n){return n===_u?bu(e,t):n===$u?ec(e,t):n===oc?cc(e,t):void 0}(t,e,r):cn(t,t[1],n,e)}function Lc(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Pc(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Mc(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=Lc(t,e,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=e[-u],h=10;h<l.length;h++){var f=l[h];f[17]===f[3]&&Mc(f[1],f,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];Mc(v[1],v,c,r)}}}return r}function Vc(t){var e=te(),n=ee(),r=ge();me(r+1);var i=Hc(n,r);if(t.dirty&&Kt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?Mc(n,e,r,[]):Lc(n,e,i,r);t.reset(o,ku),t.notifyOnChanges()}return!0}return!1}function Fc(t,e,n){var r=ee();r.firstCreatePass&&(Bc(r,new jc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),zc(r,te(),e)}function Uc(t,e,n,r){var i=ee();if(i.firstCreatePass){var o=re();Bc(i,new jc(e,n,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}zc(i,te(),n)}function qc(){return t=te(),e=ge(),t[19].queries[e].queryList;var t,e}function zc(t,e,n){var r=new Tc(4==(4&n));no(t,e,r,r.destroy),null===e[19]&&(e[19]=new xc),e[19].queries.push(new Ac(r))}function Bc(t,e,n){null===t.queries&&(t.queries=new Rc),t.queries.track(new Nc(e,n))}function Hc(t,e){return t.queries.getByIndex(e)}function Qc(t,e){return ec(t,e)}function Gc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B.Default,e=Yu(!0);if(null!=e||t&B.Optional)return e;j("ChangeDetectorRef")}var Kc=new gn("Application Initializer"),Yc=function(){var t=function(){function t(e){var n=this;d(this,t),this.appInits=e,this.resolve=mu,this.reject=mu,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return v(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Ea(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Dn(Kc,8))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t}(),Wc=new gn("AppId"),Jc={provide:Wc,useFactory:function(){return"".concat(Xc()).concat(Xc()).concat(Xc())},deps:[]};function Xc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Zc=new gn("Platform Initializer"),$c=new gn("Platform ID"),tl=new gn("appBootstrapListener"),el=function(){var t=function(){function t(){d(this,t)}return v(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t}(),nl=new gn("LocaleId"),rl=new gn("DefaultCurrencyCode"),il=function t(e,n){d(this,t),this.ngModuleFactory=e,this.componentFactories=n},ol=function(t){return new mc(t)},al=ol,sl=function(t){return Promise.resolve(ol(t))},ul=function(t){var e=ol(t),n=Vr(_t(t).declarations).reduce(function(t,e){var n=wt(e);return n&&t.push(new pc(n)),t},[]);return new il(e,n)},cl=ul,ll=function(t){return Promise.resolve(ul(t))},hl=function(){var t=function(){function t(){d(this,t),this.compileModuleSync=al,this.compileModuleAsync=sl,this.compileModuleAndAllComponentsSync=cl,this.compileModuleAndAllComponentsAsync=ll}return v(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t}(),fl=Promise.resolve(0);function dl(t){"undefined"==typeof Zone?fl.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var pl=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a,u=e.shouldCoalesceRunChangeDetection,c=void 0!==u&&u;if(d(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sc(!1),this.onMicrotaskEmpty=new Sc(!1),this.onStable=new Sc(!1),this.onError=new Sc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&s,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=$.requestAnimationFrame,e=$.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,gl(t),yl(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),gl(t))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,i,o,a,s){try{return ml(n),t.invokeTask(i,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),bl(n)}},onInvoke:function(t,e,i,o,a,s,u){try{return ml(n),t.invoke(i,o,a,s,u)}finally{n.shouldCoalesceRunChangeDetection&&r(),bl(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,gl(n),yl(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return v(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,vl,mu,mu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),vl={};function yl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function gl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ml(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bl(t){t._nesting--,yl(t)}var wl=function(){function t(){d(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sc,this.onMicrotaskEmpty=new Sc,this.onStable=new Sc,this.onError=new Sc}return v(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),_l=function(){var t=function(){function t(e){var n=this;d(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return v(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){pl.assertNotInAngularZone(),dl(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())dl(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Dn(pl))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t}(),kl=function(){var t=function(){function t(){d(this,t),this._applications=new Map,Cl.addToWindow(this)}return v(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Cl.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t}();function El(t){Cl=t}var Ol,Cl=new(function(){function t(){d(this,t)}return v(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Sl=!0,Il=!1;function Tl(){return Il=!0,Sl}function Al(){if(Il)throw new Error("Cannot enable prod mode after platform setup.");Sl=!1}var xl=new gn("AllowMultipleToken"),jl=function t(e,n){d(this,t),this.name=e,this.token=n};function Rl(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new gn(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Nl();if(!o||o.injector.get(xl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:Lo,useValue:"platform"});!function(t){if(Ol&&!Ol.destroyed&&!Ol.injector.get(xl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ol=t.get(Dl);var e=t.get(Zc,null);e&&e.forEach(function(t){return t()})}(Wo.create({providers:a,name:r}))}return function(t){var e=Nl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Nl(){return Ol&&!Ol.destroyed?Ol:null}var Dl=function(){var t=function(){function t(e){d(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return v(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===n?new wl:("zone.js"===n?void 0:n)||new pl({enableLongStackTrace:Tl(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),a=[{provide:pl,useValue:o}];return o.run(function(){var e=Wo.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Rr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){Ml(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((a=n.injector.get(Yc)).runInitializers(),a.donePromise.then(function(){return _s(n.injector.get(nl,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return Ea(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Pl({},n);return function(t,e,n){var r=new mc(n);return Promise.resolve(r)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Ll);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(_(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Dn(Wo))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t}();function Pl(t,e){return Array.isArray(e)?e.reduce(Pl,t):Object.assign(Object.assign({},t),e)}var Ll=function(){var t=function(){function t(e,n,r,i,o){var a=this;d(this,t),this._zone=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new u.a(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),l=new u.a(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){pl.assertNotInAngularZone(),dl(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){pl.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(c.a)(s,l.pipe(Object(p.a)()))}return v(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof vu?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(nc),o=n.create(Wo.NULL,[],e||n.selector,i),a=o.location.nativeElement,s=o.injector.get(_l,null),u=s&&o.injector.get(kl);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),Ml(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=s(this._views);try{for(n.s();!(e=n.n()).done;){e.value.detectChanges()}}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Ml(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(tl,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Dn(pl),Dn(Wo),Dn(Rr),Dn(gu),Dn(Yc))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t}();function Ml(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Vl=function t(){d(this,t)},Fl=function t(){d(this,t)},Ul={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},ql=function(){var t=function(){function t(e,n){d(this,t),this._compiler=e,this._config=n||Ul}return v(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,i=n(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),r("zn8P")(o).then(function(t){return t[a]}).then(function(t){return zl(t,o,a)}).then(function(t){return e._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var e=n(t.split("#"),2),i=e[0],o=e[1],a="NgFactory";return void 0===o&&(o="default",a=""),r("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return zl(t,i,o)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Dn(hl),Dn(Fl,8))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t}();function zl(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Bl=function(t){return null},Hl=Rl(null,"core",[{provide:$c,useValue:"unknown"},{provide:Dl,deps:[Wo]},{provide:kl,deps:[]},{provide:el,deps:[]}]),Ql=[{provide:Ll,useClass:Ll,deps:[pl,Wo,Rr,gu,Yc]},{provide:dc,deps:[pl],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Yc,useClass:Yc,deps:[[new Fn,Kc]]},{provide:hl,useClass:hl,deps:[]},Jc,{provide:Uu,useFactory:function(){return Ju},deps:[]},{provide:zu,useFactory:function(){return Xu},deps:[]},{provide:nl,useFactory:function(t){return _s(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Vn(nl),new Fn,new Un]]},{provide:rl,useValue:"USD"}],Gl=function(){var t=function t(e){d(this,t)};return t.\u0275fac=function(e){return new(e||t)(Dn(Ll))},t.\u0275mod=vt({type:t}),t.\u0275inj=D({providers:Ql}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},kScs:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendStr(t).end(e)},t.hashAsciiStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendAsciiStr(t).end(e)},t._hex=function(e){var n,r,i,o,a=t.hexChars,s=t.hexOut;for(o=0;o<4;o+=1)for(r=8*o,n=e[o],i=0;i<8;i+=2)s[r+1+i]=a.charAt(15&n),s[r+0+i]=a.charAt(15&(n>>>=4)),n>>>=4;return s.join("")},t._md5cycle=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+e[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+e[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+e[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+e[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+e[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+e[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+e[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+e[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+e[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+e[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+e[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+e[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+e[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+e[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+e[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+e[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+e[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+e[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+e[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+e[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+e[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+e[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+e[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+e[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+e[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+e[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+e[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+e[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+e[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+e[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+e[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+e[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+e[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+e[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+e[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+e[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+e[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+e[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+e[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+e[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+e[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+e[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+e[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+e[9]-343485551|0)<<21|r>>>11)+i|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=i+t[2]|0,t[3]=o+t[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n,r,i=this._buffer8,o=this._buffer32,a=this._bufferLength;for(r=0;r<e.length;r+=1){if((n=e.charCodeAt(r))<128)i[a++]=n;else if(n<2048)i[a++]=192+(n>>>6),i[a++]=63&n|128;else if(n<55296||n>56319)i[a++]=224+(n>>>12),i[a++]=n>>>6&63|128,i[a++]=63&n|128;else{if((n=1024*(n-55296)+(e.charCodeAt(++r)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");i[a++]=240+(n>>>18),i[a++]=n>>>12&63|128,i[a++]=n>>>6&63|128,i[a++]=63&n|128}a>=64&&(this._dataLength+=64,t._md5cycle(this._state,o),a-=64,o[0]=o[16])}return this._bufferLength=a,this},t.prototype.appendAsciiStr=function(e){for(var n,r=this._buffer8,i=this._buffer32,o=this._bufferLength,a=0;;){for(n=Math.min(e.length-a,64-o);n--;)r[o++]=e.charCodeAt(a++);if(o<64)break;this._dataLength+=64,t._md5cycle(this._state,i),o=0}return this._bufferLength=o,this},t.prototype.appendByteArray=function(e){for(var n,r=this._buffer8,i=this._buffer32,o=this._bufferLength,a=0;;){for(n=Math.min(e.length-a,64-o);n--;)r[o++]=e[a++];if(o<64)break;this._dataLength+=64,t._md5cycle(this._state,i),o=0}return this._bufferLength=o,this},t.prototype.getState=function(){var t=this._state;return{buffer:String.fromCharCode.apply(null,this._buffer8),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}},t.prototype.setState=function(t){var e,n=t.buffer,r=t.state,i=this._state;for(this._dataLength=t.length,this._bufferLength=t.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],e=0;e<n.length;e+=1)this._buffer8[e]=n.charCodeAt(e)},t.prototype.end=function(e){void 0===e&&(e=!1);var n,r=this._bufferLength,i=this._buffer8,o=this._buffer32,a=1+(r>>2);if(this._dataLength+=r,i[r]=128,i[r+1]=i[r+2]=i[r+3]=0,o.set(t.buffer32Identity.subarray(a),a),r>55&&(t._md5cycle(this._state,o),o.set(t.buffer32Identity)),(n=8*this._dataLength)<=4294967295)o[14]=n;else{var s=n.toString(16).match(/(.*?)(.{0,8})$/);if(null===s)return;var u=parseInt(s[2],16),c=parseInt(s[1],16)||0;o[14]=u,o[15]=c}return t._md5cycle(this._state,o),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();e.Md5=r,"5d41402abc4b2a76b9719d911017c592"!==r.hashStr("hello")&&console.error("Md5 self test failed.")},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){d(this,t),this.project=e,this.thisArg=n}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){y(n,t);var e=m(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||w(o),o}return v(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mCNh:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("SpAZ");function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("WMd4");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new a(t,e))}}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,t),this.scheduler=e,this.delay=n}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))}}]),t}(),s=function(t){y(n,t);var e=m(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return d(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return v(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new u(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(i.a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(r.a),u=function t(e,n){d(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",function(){return a}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return w}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return m}),n.d(e,"e",function(){return I}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return O}),n.d(e,"h",function(){return i}),n.d(e,"i",function(){return o}),n.d(e,"j",function(){return s}),n.d(e,"k",function(){return l}),n.d(e,"l",function(){return h}),n.d(e,"m",function(){return d}),n.d(e,"n",function(){return p}),n.d(e,"o",function(){return y}),n.d(e,"p",function(){return u}),n.d(e,"q",function(){return c}),n.d(e,"r",function(){return f}),n.d(e,"s",function(){return v}),n.d(e,"t",function(){return g});var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function s(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return s().indexOf("Electron/")>=0}function p(){var t=s();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return s().indexOf("MSAppHost/")>=0}function y(){return"indexedDB"in self&&null!=indexedDB}function g(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function m(){return!(!navigator||!navigator.cookieEnabled)}var b=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,w.prototype.create),o}return Object(r.c)(e,t),e}(Error),w=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?_(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new b(i,s,r);return u},t}();function _(t,e){return t.replace(k,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var k=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function O(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function I(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return v(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?f(k(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?f(k(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?f(k(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){y(n,t);var e=m(n);function n(){return d(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r),o=i},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){d(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return v(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if(Object(s.a)(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(v){e=v instanceof u?l(v.errors):[v]}}if(Object(o.a)(c))for(var f=-1,d=c.length;++f<d;){var p=c[f];if(Object(a.a)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof u?e=e.concat(l(v.errors)):e.push(v)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce(function(t,e){return t.concat(e instanceof u?e.errors:e)},[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return D}),n.d(e,"b",function(){return S}),n.d(e,"c",function(){return C}),n.d(e,"d",function(){return I}),n.d(e,"e",function(){return w}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return R}),n.d(e,"h",function(){return A}),n.d(e,"i",function(){return _}),n.d(e,"j",function(){return E}),n.d(e,"k",function(){return x});var s=n("qgXg"),c=n("D0XW"),l=n("vkgz"),h=n("tf+s"),f=n("pxpQ"),p=n("fXoL"),y=n("Jgta");function g(){}var m=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.b;d(this,t),this.zone=e,this.delegate=n}return v(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule(function(e){var n=this;r.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),b=function(){function t(e){d(this,t),this.zone=e,this.task=null}return v(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",g,{},g,g)}),e.pipe(Object(l.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),w=function t(e){d(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new m(Zone.current)}),this.insideAngular=e.run(function(){return new m(Zone.current,c.b)})};function _(t){return function(e){return(e=e.lift(new b(t.ngZone))).pipe(Object(h.a)(t.outsideAngular),Object(f.b)(t.insideAngular))}}var k=["ngOnDestroy"],E=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(i,a){return n.runOutsideAngular(function(){var i;if(t[a])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(a,t[a]),t[a];if(k.indexOf(a)>-1)return function(){};var s=e.toPromise().then(function(t){var e=t&&t[a];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return s[e]},apply:function(t,e,n){return s.then(function(t){var e,i=t&&t.apply(void 0,o(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(a,n,i),i})}})})}})},O=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},C=new p.r("angularfire2.app.options"),S=new p.r("angularfire2.app.nameOrConfig"),I=function t(){d(this,t)},T=new p.P("6.1.4");function A(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=y.a.apps.filter(function(t){return t&&t.name===i.name})[0]||n.runOutsideAngular(function(){return y.a.initializeApp(e,i)});try{JSON.stringify(e)!==JSON.stringify(o.options)&&j("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var x=function(){j("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},j=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(p.V)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function R(e,n,s,c,l){var h,f=globalThis.\u0275AngularfireInstanceCache.get(e)||[],d=i(h=f)||a(h)||u(h)||r(),p=d[0],v=d.slice(1);if(p){try{l.some(function(t,e){var n=v[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&j("error","".concat(n," was already initialized on the ").concat(s.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(g){}return p}var y=c();return globalThis.\u0275AngularfireInstanceCache.set(e,[y].concat(o(l))),y}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var N={provide:I,useFactory:A,deps:[C,p.A,[new p.B,S]]},D=function(){var t=function(){function t(e){d(this,t),y.a.registerVersion("angularfire",T.full,e.toString()),y.a.registerVersion("angular",p.O.full)}return v(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:C,useValue:e},{provide:S,useValue:n}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(p.Yb(p.C))},t.\u0275mod=p.Kb({type:t}),t.\u0275inj=p.Jb({providers:[N]}),t}()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("HDdC"),i=1,o=Promise.resolve(),a={};function s(t){return t in a&&(delete a[t],!0)}var u=function(t){var e=i++;return a[e]=!0,o.then(function(){return s(e)&&t()}),e},c=function(t){s(t)},l=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return v(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?f(k(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=u(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return f(k(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(c(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),h=new(function(t){y(n,t);var e=m(n);function n(){return d(this,n),e.apply(this,arguments)}return v(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(l),p=n("Y7HM"),g=function(t){y(n,t);var e=m(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return d(this,n),(r=e.call(this)).source=t,r.delayTime=i,r.scheduler=o,(!Object(p.a)(i)||i<0)&&(r.delayTime=0),o&&"function"==typeof o.schedule||(r.scheduler=h),r}return v(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new w(t,e))}}var w=function(){function t(e,n){d(this,t),this.scheduler=e,this.delay=n}return v(t,[{key:"call",value:function(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){d(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){y(n,t);var e=m(n);function n(t,r,a,s){var u;return d(this,n),(u=e.call(this,t))._tapNext=i.a,u._tapError=i.a,u._tapComplete=i.a,u._tapError=a||i.a,u._tapComplete=s||i.a,Object(o.a)(r)?(u._context=w(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i.a,u._tapError=r.error||i.a,u._tapComplete=r.complete||i.a),u}return v(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EQ5u"),i=n("x+ZX"),o=n("XNiG");function a(){return new o.a}function s(){return function(t){return Object(i.a)()((e=a,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}var o=function(){function t(e){d(this,t),this.connectable=e}return v(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new a(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),a=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).connectable=r,i}return v(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h="@firebase/app",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.h)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.f)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new s.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.f)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return d.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.i)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.i)(e,t)},createSubscribe:a.g,ErrorFactory:a.b,deepExtend:a.i}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(a.k)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.q)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var b=v;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.17",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(r,i,a){"use strict";a.r(i);var u=a("fXoL"),c=null;function l(){return c}var h,p=new u.r("DocumentToken"),g=((h=function t(){d(this,t)}).\u0275fac=function(t){return new(t||h)},h.\u0275prov=Object(u.Ib)({factory:_,token:h,providedIn:"platform"}),h);function _(){return Object(u.Yb)(C)}var E,O=new u.r("Location Initialized"),C=((E=function(t){y(n,t);var e=m(n);function n(t){var r;return d(this,n),(r=e.call(this))._doc=t,r._init(),r}return v(n,[{key:"_init",value:function(){this.location=l().getLocation(),this._history=l().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return l().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){l().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){l().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){S()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){S()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(g)).\u0275fac=function(t){return new(t||E)(u.Yb(p))},E.\u0275prov=Object(u.Ib)({factory:I,token:E,providedIn:"platform"}),E);function S(){return!!window.history.pushState}function I(){return new C(Object(u.Yb)(p))}function T(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function A(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function x(t){return t&&"?"!==t[0]?"?"+t:t}var j,R=((j=function t(){d(this,t)}).\u0275fac=function(t){return new(t||j)},j.\u0275prov=Object(u.Ib)({factory:N,token:j,providedIn:"root"}),j);function N(t){var e=Object(u.Yb)(p).location;return new V(Object(u.Yb)(g),e&&e.origin||"")}var D,P,L,M=new u.r("appBaseHref"),V=((L=function(t){y(n,t);var e=m(n);function n(t,r){var i;if(d(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,b(i)}return v(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return T(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+x(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(R)).\u0275fac=function(t){return new(t||L)(u.Yb(g),u.Yb(M,8))},L.\u0275prov=u.Ib({token:L,factory:L.\u0275fac}),L),F=((P=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return v(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=T(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(R)).\u0275fac=function(t){return new(t||P)(u.Yb(g),u.Yb(M,8))},P.\u0275prov=u.Ib({token:P,factory:P.\u0275fac}),P),U=((D=function(){function t(e,n){var r=this;d(this,t),this._subject=new u.n,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=A(z(i)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return v(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+x(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,z(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+x(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+x(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||D)(u.Yb(R),u.Yb(g))},D.normalizeQueryParams=x,D.joinWithSlash=T,D.stripTrailingSlash=A,D.\u0275prov=Object(u.Ib)({factory:q,token:D,providedIn:"root"}),D);function q(){return new U(Object(u.Yb)(R),Object(u.Yb)(g))}function z(t){return t.replace(/\/index.html$/,"")}var B,H=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Q=u.mb,G=function t(){d(this,t)},K=((B=function(t){y(n,t);var e=m(n);function n(t){var r;return d(this,n),(r=e.call(this)).locale=t,r}return v(n,[{key:"getPluralCategory",value:function(t,e){switch(Q(e||this.locale)(t)){case H.Zero:return"zero";case H.One:return"one";case H.Two:return"two";case H.Few:return"few";case H.Many:return"many";default:return"other"}}}]),n}(G)).\u0275fac=function(t){return new(t||B)(u.Yb(u.v))},B.\u0275prov=u.Ib({token:B,factory:B.\u0275fac}),B);function Y(t,e){e=encodeURIComponent(e);var r,i=s(t.split(";"));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.indexOf("="),u=n(-1==a?[o,""]:[o.slice(0,a),o.slice(a+1)],2),c=u[0],l=u[1];if(c.trim()===e)return decodeURIComponent(l)}}catch(h){i.e(h)}finally{i.f()}return null}var W,J,X,Z=((W=function(){function t(e,n,r,i){d(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return v(t,[{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(u.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Object(u.vb)(t.item)));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})}}]),t}()).\u0275fac=function(t){return new(t||W)(u.Mb(u.t),u.Mb(u.u),u.Mb(u.l),u.Mb(u.E))},W.\u0275dir=u.Hb({type:W,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),W),$=function(){function t(e,n,r,i){d(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return v(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),tt=((J=function(){function t(e,n,r){d(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return v(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new $(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new et(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new et(t,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||J)(u.Mb(u.Q),u.Mb(u.L),u.Mb(u.t))},J.\u0275dir=u.Hb({type:J,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),J),et=function t(e,n){d(this,t),this.record=e,this.view=n},nt=((X=function(){function t(e,n){d(this,t),this._viewContainer=e,this._context=new rt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return v(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){it("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){it("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||X)(u.Mb(u.Q),u.Mb(u.L))},X.\u0275dir=u.Hb({type:X,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),X),rt=function t(){d(this,t),this.$implicit=null,this.ngIf=null};function it(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(u.vb)(e),"'."))}var ot,at,st=((at=function(){function t(e){d(this,t),this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return v(t,[{key:"ngOnChanges",value:function(t){if(this._shouldRecreateView(t)){var e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}},{key:"_hasContextShapeChanged",value:function(t){var e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){var r,i=s(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(-1===e.indexOf(o))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),t}()).\u0275fac=function(t){return new(t||at)(u.Mb(u.Q))},at.\u0275dir=u.Hb({type:at,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[u.yb]}),at),ut=((ot=function t(){d(this,t)}).\u0275fac=function(t){return new(t||ot)},ot.\u0275mod=u.Kb({type:ot}),ot.\u0275inj=u.Jb({providers:[{provide:G,useClass:K}]}),ot);function ct(t){return"browser"===t}function lt(t){return"server"===t}var ht,ft=((ht=function t(){d(this,t)}).\u0275prov=Object(u.Ib)({token:ht,providedIn:"root",factory:function(){return new dt(Object(u.Yb)(p),window)}}),ht),dt=function(){function t(e,n){d(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return v(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){var e;if(this.supportsScrolling()){var n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=pt(this.window.history)||pt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function pt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var vt,yt,gt,mt,bt=function(t){y(n,t);var e=m(n);function n(){return d(this,n),e.apply(this,arguments)}return v(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=wt||(wt=document.querySelector("base"))?wt.getAttribute("href"):null;return null==n?null:(e=n,vt||(vt=document.createElement("a")),vt.setAttribute("href",e),"/"===vt.pathname.charAt(0)?vt.pathname:"/"+vt.pathname)}},{key:"resetBaseElement",value:function(){wt=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return Y(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,c||(c=t)}}]),n}(function(t){y(n,t);var e=m(n);function n(){return d(this,n),e.call(this)}return v(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){d(this,t)}}())),wt=null,_t=new u.r("TRANSITION_ID"),kt=[{provide:u.d,useFactory:function(t,e,n){return function(){n.get(u.e).donePromise.then(function(){var n=l();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[_t,p,u.s],multi:!0}],Et=function(){function t(){d(this,t)}return v(t,[{key:"addToWindow",value:function(t){u.ob.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},u.ob.getAllAngularTestabilities=function(){return t.getAllTestabilities()},u.ob.getAllAngularRootElements=function(){return t.getAllRootElements()},u.ob.frameworkStabilizers||(u.ob.frameworkStabilizers=[]),u.ob.frameworkStabilizers.push(function(t){var e=u.ob.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?l().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(u.X)(new t)}}]),t}(),Ot=new u.r("EventManagerPlugins"),Ct=((yt=function(){function t(e,n){var r=this;d(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return v(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||yt)(u.Yb(Ot),u.Yb(u.A))},yt.\u0275prov=u.Ib({token:yt,factory:yt.\u0275fac}),yt),St=function(){function t(e){d(this,t),this._doc=e}return v(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=l().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),It=((mt=function(){function t(){d(this,t),this._stylesSet=new Set}return v(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||mt)},mt.\u0275prov=u.Ib({token:mt,factory:mt.\u0275fac}),mt),Tt=((gt=function(t){y(n,t);var e=m(n);function n(t){var r;return d(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return v(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(t){return l().remove(t)})}}]),n}(It)).\u0275fac=function(t){return new(t||gt)(u.Yb(p))},gt.\u0275prov=u.Ib({token:gt,factory:gt.\u0275fac}),gt),At={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xt=/%COMP%/g;function jt(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?jt(t,i,n):(i=i.replace(xt,t),n.push(i))}return n}function Rt(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Nt,Dt,Pt,Lt,Mt=((Nt=function(){function t(e,n,r){d(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Vt(e)}return v(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case u.R.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Ft(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case u.R.ShadowDom:return new Ut(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=jt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Nt)(u.Yb(Ct),u.Yb(Tt),u.Yb(u.c))},Nt.\u0275prov=u.Ib({token:Nt,factory:Nt.\u0275fac}),Nt),Vt=function(){function t(e){d(this,t),this.eventManager=e,this.data=Object.create(null)}return v(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(At[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=At[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=At[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(u.G.DashCase|u.G.Important)?t.style.setProperty(e,n,r&u.G.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&u.G.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Rt(n)):this.eventManager.addEventListener(t,e,Rt(n))}}]),t}(),Ft=function(t){y(n,t);var e=m(n);function n(t,r,i,o){var a;d(this,n),(a=e.call(this,t)).component=i;var s=jt(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(xt,o+"-"+i.id),a.hostAttr="_nghost-%COMP%".replace(xt,o+"-"+i.id),a}return v(n,[{key:"applyToHost",value:function(t){f(k(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=f(k(n.prototype),"createElement",this).call(this,t,e);return f(k(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Vt),Ut=function(t){y(n,t);var e=m(n);function n(t,r,i,o){var a;d(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=jt(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return v(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return f(k(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return f(k(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return f(k(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(f(k(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Vt),qt=((Dt=function(t){y(n,t);var e=m(n);function n(t){return d(this,n),e.call(this,t)}return v(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(St)).\u0275fac=function(t){return new(t||Dt)(u.Yb(p))},Dt.\u0275prov=u.Ib({token:Dt,factory:Dt.\u0275fac}),Dt),zt=["alt","control","meta","shift"],Bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ht={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Qt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Gt=((Pt=function(t){y(n,t);var e=m(n);function n(t){return d(this,n),e.call(this,t)}return v(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return l().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(zt.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ht.hasOwnProperty(e)&&(e=Ht[e]))}return Bt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),zt.forEach(function(r){r!=n&&(0,Qt[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(St)).\u0275fac=function(t){return new(t||Pt)(u.Yb(p))},Pt.\u0275prov=u.Ib({token:Pt,factory:Pt.\u0275fac}),Pt),Kt=[{provide:u.C,useValue:"browser"},{provide:u.D,useValue:function(){bt.makeCurrent(),Et.init()},multi:!0},{provide:p,useFactory:function(){return Object(u.ub)(document),document},deps:[]}],Yt=Object(u.S)(u.W,"browser",Kt),Wt=[[],{provide:u.Z,useValue:"root"},{provide:u.m,useFactory:function(){return new u.m},deps:[]},{provide:Ot,useClass:qt,multi:!0,deps:[p,u.A,u.C]},{provide:Ot,useClass:Gt,multi:!0,deps:[p]},[],{provide:Mt,useClass:Mt,deps:[Ct,Tt,u.c]},{provide:u.F,useExisting:Mt},{provide:It,useExisting:Tt},{provide:Tt,useClass:Tt,deps:[p]},{provide:u.M,useClass:u.M,deps:[u.A]},{provide:Ct,useClass:Ct,deps:[Ot,u.A]},[]],Jt=((Lt=function(){function t(e){if(d(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return v(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:u.c,useValue:e.appId},{provide:_t,useExisting:u.c},kt]}}}]),t}()).\u0275fac=function(t){return new(t||Lt)(u.Yb(Lt,12))},Lt.\u0275mod=u.Kb({type:Lt}),Lt.\u0275inj=u.Jb({providers:Wt,imports:[ut,u.f]}),Lt);function Xt(){return new $t(Object(u.Yb)(p))}var Zt,$t=((Zt=function(){function t(e){d(this,t),this._doc=e}return v(t,[{key:"getTitle",value:function(){return this._doc.title}},{key:"setTitle",value:function(t){this._doc.title=t||""}}]),t}()).\u0275fac=function(t){return new(t||Zt)(u.Yb(p))},Zt.\u0275prov=Object(u.Ib)({factory:Xt,token:Zt,providedIn:"root"}),Zt);"undefined"!=typeof window&&window;var te=a("Cfvw"),ee=a("HDdC"),ne=a("DH7j"),re=a("lJxs"),ie=a("XoHu");function oe(t,e){return new ee.a(function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Object(te.a)(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce(function(t,e,n){return t[e]=i[n],t},{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()})}var ae,se=new u.r("NgValueAccessor"),ue={provide:se,useExisting:Object(u.U)(function(){return le}),multi:!0},ce=new u.r("CompositionEventMode"),le=((ae=function(){function t(e,n,r){var i;d(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=l()?l().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return v(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||ae)(u.Mb(u.E),u.Mb(u.l),u.Mb(ce,8))},ae.\u0275dir=u.Hb({type:ae,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&u.bc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[u.zb([ue])]}),ae);function he(t){return null==t||0===t.length}function fe(t){return null!=t&&"number"==typeof t.length}var de=new u.r("NgValidators"),pe=new u.r("NgAsyncValidators"),ve=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ye=function(){function t(){d(this,t)}return v(t,null,[{key:"min",value:function(t){return function(t){return function(e){if(he(e.value)||he(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}},{key:"max",value:function(t){return function(t){return function(e){if(he(e.value)||he(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}},{key:"required",value:function(t){return function(t){return he(t.value)?{required:!0}:null}(t)}},{key:"requiredTrue",value:function(t){return function(t){return!0===t.value?null:{required:!0}}(t)}},{key:"email",value:function(t){return function(t){return he(t.value)||ve.test(t.value)?null:{email:!0}}(t)}},{key:"minLength",value:function(t){return function(t){return function(e){return he(e.value)||!fe(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}(t)}},{key:"maxLength",value:function(t){return function(t){return function(e){return fe(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}(t)}},{key:"pattern",value:function(t){return function(t){return t?("string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),function(t){if(he(t.value))return null;var r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}):ge;var e,n}(t)}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){return Ee(t)}},{key:"composeAsync",value:function(t){return Ce(t)}}]),t}();function ge(t){return null}function me(t){return null!=t}function be(t){var e=Object(u.rb)(t)?Object(te.a)(t):t;return Object(u.qb)(e),e}function we(t){var e={};return t.forEach(function(t){e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function _e(t,e){return e.map(function(e){return e(t)})}function ke(t){return t.map(function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}})}function Ee(t){if(!t)return null;var e=t.filter(me);return 0==e.length?null:function(t){return we(_e(t,e))}}function Oe(t){return null!=t?Ee(ke(t)):null}function Ce(t){if(!t)return null;var e=t.filter(me);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(Object(ne.a)(r))return oe(r,null);if(Object(ie.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return oe(i.map(function(t){return r[t]}),i)}}if("function"==typeof e[e.length-1]){var a=e.pop();return oe(e=1===e.length&&Object(ne.a)(e[0])?e[0]:e,null).pipe(Object(re.a)(function(t){return a.apply(void 0,o(t))}))}return oe(e,null)}(_e(t,e).map(be)).pipe(Object(re.a)(we))}}function Se(t){return null!=t?Ce(ke(t)):null}function Ie(t,e){return null===t?[e]:Array.isArray(t)?[].concat(o(t),[e]):[t,e]}function Te(t){return t._rawValidators}function Ae(t){return t._rawAsyncValidators}var xe,je,Re,Ne,De=((je=function(){function t(){d(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return v(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=Oe(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Se(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}}]),t}()).\u0275fac=function(t){return new(t||je)},je.\u0275dir=u.Hb({type:je}),je),Pe=((xe=function(t){y(n,t);var e=m(n);function n(){return d(this,n),e.apply(this,arguments)}return v(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(De)).\u0275fac=function(t){return Le(t||xe)},xe.\u0275dir=u.Hb({type:xe,features:[u.xb]}),xe),Le=u.Tb(Pe),Me=function(t){y(n,t);var e=m(n);function n(){var t;return d(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return n}(De),Ve=function(){function t(e){d(this,t),this._cd=e}return v(t,[{key:"is",value:function(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}]),t}(),Fe=((Ne=function(t){y(n,t);var e=m(n);function n(t){return d(this,n),e.call(this,t)}return n}(Ve)).\u0275fac=function(t){return new(t||Ne)(u.Mb(Me,2))},Ne.\u0275dir=u.Hb({type:Ne,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&u.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[u.xb]}),Ne),Ue=((Re=function(t){y(n,t);var e=m(n);function n(t){return d(this,n),e.call(this,t)}return n}(Ve)).\u0275fac=function(t){return new(t||Re)(u.Mb(Pe,10))},Re.\u0275dir=u.Hb({type:Re,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&u.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[u.xb]}),Re);function qe(t,e){He(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ge(t,e)})}(t,e),function(t,e){var n=function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(function(){t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ge(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){var n=function(t){e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(function(){t._unregisterOnDisabledChange(n)})}}(t,e)}function ze(t,e){var n=function(){};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Qe(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(function(){}))}function Be(t,e){t.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function He(t,e,n){var r=Te(t);null!==e.validator?t.setValidators(Ie(r,e.validator)):"function"==typeof r&&t.setValidators([r]);var i=Ae(t);if(null!==e.asyncValidator?t.setAsyncValidators(Ie(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){var o=function(){return t.updateValueAndValidity()};Be(e._rawValidators,o),Be(e._rawAsyncValidators,o)}}function Qe(t,e,n){var r=!1;if(null!==t){if(null!==e.validator){var i=Te(t);if(Array.isArray(i)&&i.length>0){var o=i.filter(function(t){return t!==e.validator});o.length!==i.length&&(r=!0,t.setValidators(o))}}if(null!==e.asyncValidator){var a=Ae(t);if(Array.isArray(a)&&a.length>0){var s=a.filter(function(t){return t!==e.asyncValidator});s.length!==a.length&&(r=!0,t.setAsyncValidators(s))}}}if(n){var u=function(){};Be(e._rawValidators,u),Be(e._rawAsyncValidators,u)}return r}function Ge(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ke(t,e){He(t,e,!1)}function Ye(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function We(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Je(t,e){return e?(Array.isArray(e),e.forEach(function(t){t.constructor===le?n=t:Object.getPrototypeOf(t.constructor)===function(){return function t(){d(this,t)}}()?r=t:i=t}),i||r||n||null):null;var n,r,i}function Xe(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ze(t){return(nn(t)?t.validators:t)||null}function $e(t){return Array.isArray(t)?Oe(t):t||null}function tn(t,e){return(nn(e)?e.asyncValidators:t)||null}function en(t){return Array.isArray(t)?Se(t):t||null}function nn(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var rn,on,an,sn,un,cn,ln,hn,fn,dn=function(){function t(e,n){d(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=$e(this._rawValidators),this._composedAsyncValidatorFn=en(this._rawAsyncValidators)}return v(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=$e(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=en(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=be(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach(function(t){r=r instanceof vn?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof yn&&r.at(t)||null}),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new u.n,this.statusChanges=new u.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(e){return e.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){nn(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),pn=function(t){y(n,t);var e=m(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return d(this,n),(t=e.call(this,Ze(i),tn(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),t}return v(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(t){return t(e.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){Xe(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){Xe(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(dn),vn=function(t){y(n,t);var e=m(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,Ze(r),tn(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return v(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(Object.keys(t).forEach(function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof pn?e.value:e.getRawValue(),t})}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach(function(n){var r=e.controls[n];r&&t(r,n)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(dn),yn=function(t){y(n,t);var e=m(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,Ze(r),tn(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return v(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach(function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(t.forEach(function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map(function(t){return t instanceof pn?t.value:t.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach(function(e,n){t(e,n)})}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})}},{key:"_anyControls",value:function(t){return this.controls.some(function(e){return e.enabled&&t(e)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var t,e=s(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}]),n}(dn),gn={provide:Pe,useExisting:Object(u.U)(function(){return bn})},mn=Promise.resolve(null),bn=((an=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new u.n,i.form=new vn({},Oe(t),Se(r)),i}return v(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(t){var e=this;mn.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),qe(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;mn.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),Xe(e._directives,t)})}},{key:"addFormGroup",value:function(t){var e=this;mn.then(function(){var n=e._findContainer(t.path),r=new vn({});Ke(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(t){var e=this;mn.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;mn.then(function(){n.form.get(t.path).setValue(e)})}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,We(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}}]),n}(Pe)).\u0275fac=function(t){return new(t||an)(u.Mb(de,10),u.Mb(pe,10))},an.\u0275dir=u.Hb({type:an,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&u.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.zb([gn]),u.xb]}),an),wn=((on=function t(){d(this,t)}).\u0275fac=function(t){return new(t||on)},on.\u0275dir=u.Hb({type:on,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),on),_n=((rn=function t(){d(this,t)}).\u0275fac=function(t){return new(t||rn)},rn.\u0275mod=u.Kb({type:rn}),rn.\u0275inj=u.Jb({}),rn),kn=new u.r("NgModelWithFormControlWarning"),En={provide:Me,useExisting:Object(u.U)(function(){return On})},On=((sn=function(t){y(n,t);var e=m(n);function n(t,r,i,o){var a;return d(this,n),(a=e.call(this))._ngModelWarningConfig=o,a.update=new u.n,a._ngModelWarningSent=!1,a._setValidators(t),a._setAsyncValidators(r),a.valueAccessor=Je(0,i),a}return v(n,[{key:"isDisabled",set:function(t){}},{key:"ngOnChanges",value:function(t){if(this._isControlChanged(t)){var e=t.form.previousValue;e&&ze(e,this,!1),qe(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}Ye(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.form&&ze(this.form,this,!1)}},{key:"path",get:function(){return[]}},{key:"control",get:function(){return this.form}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_isControlChanged",value:function(t){return t.hasOwnProperty("form")}}]),n}(Me)).\u0275fac=function(t){return new(t||sn)(u.Mb(de,10),u.Mb(pe,10),u.Mb(se,10),u.Mb(kn,8))},sn.\u0275dir=u.Hb({type:sn,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[u.zb([En]),u.xb,u.yb]}),sn._ngModelWarningSentOnce=!1,sn),Cn={provide:Pe,useExisting:Object(u.U)(function(){return Sn})},Sn=((un=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this)).validators=t,i.asyncValidators=r,i.submitted=!1,i._onCollectionChange=function(){return i._updateDomValue()},i.directives=[],i.form=null,i.ngSubmit=new u.n,i._setValidators(t),i._setAsyncValidators(r),i}return v(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(Qe(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return qe(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){ze(t.control||null,t,!1),Xe(this.directives,t)}},{key:"addFormGroup",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormGroup",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormArray",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,We(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach(function(e){var n=e.control,r=t.form.get(e.path);n!==r&&(ze(n||null,e),r instanceof pn&&(qe(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(t){var e=this.form.get(t.path);Ke(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(t){if(this.form){var e=this.form.get(t.path);e&&function(t,e){return Qe(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){He(this.form,this,!1),this._oldForm&&Qe(this._oldForm,this,!1)}},{key:"_checkFormPresent",value:function(){}}]),n}(Pe)).\u0275fac=function(t){return new(t||un)(u.Mb(de,10),u.Mb(pe,10))},un.\u0275dir=u.Hb({type:un,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&u.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.zb([Cn]),u.xb,u.yb]}),un),In={provide:Me,useExisting:Object(u.U)(function(){return Tn})},Tn=((fn=function(t){y(n,t);var e=m(n);function n(t,r,i,o,a){var s;return d(this,n),(s=e.call(this))._ngModelWarningConfig=a,s._added=!1,s.update=new u.n,s._ngModelWarningSent=!1,s._parent=t,s._setValidators(r),s._setAsyncValidators(i),s.valueAccessor=Je(0,o),s}return v(n,[{key:"isDisabled",set:function(t){}},{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),Ye(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"path",get:function(){return t=null==this.name?this.name:this.name.toString(),[].concat(o(this._parent.path),[t]);var t}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(Me)).\u0275fac=function(t){return new(t||fn)(u.Mb(Pe,13),u.Mb(de,10),u.Mb(pe,10),u.Mb(se,10),u.Mb(kn,8))},fn.\u0275dir=u.Hb({type:fn,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u.zb([In]),u.xb,u.yb]}),fn._ngModelWarningSentOnce=!1,fn),An=((hn=function t(){d(this,t)}).\u0275fac=function(t){return new(t||hn)},hn.\u0275mod=u.Kb({type:hn}),hn.\u0275inj=u.Jb({imports:[[_n]]}),hn),xn=((ln=function t(){d(this,t)}).\u0275fac=function(t){return new(t||ln)},ln.\u0275mod=u.Kb({type:ln}),ln.\u0275inj=u.Jb({imports:[An]}),ln),jn=((cn=function(){function t(){d(this,t)}return v(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:kn,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275fac=function(t){return new(t||cn)},cn.\u0275mod=u.Kb({type:cn}),cn.\u0275inj=u.Jb({imports:[An]}),cn),Rn=a("LRne"),Nn=a("5+tZ");function Dn(t,e){return Object(Nn.a)(t,e,1)}var Pn=a("7o/Q");function Ln(t,e){return function(n){return n.lift(new Mn(t,e))}}var Mn=function(){function t(e,n){d(this,t),this.predicate=e,this.thisArg=n}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new Vn(t,this.predicate,this.thisArg))}}]),t}(),Vn=function(t){y(n,t);var e=m(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return v(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(Pn.a),Fn=function t(){d(this,t)},Un=function t(){d(this,t)},qn=function(){function t(e){var n=this;d(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))})}:this.headers=new Map}return v(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,o(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var a=this.headers.get(e);if(!a)return;0===(a=a.filter(function(t){return-1===i.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),zn=function(){function t(){d(this,t)}return v(t,[{key:"encodeKey",value:function(t){return Bn(t)}},{key:"encodeValue",value:function(t){return Bn(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function Bn(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Hn=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(d(this,t),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new zn,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(t){var i=t.indexOf("="),o=n(-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],2),a=o[0],s=o[1],u=r.get(a)||[];u.push(s),r.set(a,u)}),r}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(function(t){var n=r.fromObject[t];e.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}return v(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"appendAll",value:function(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n];Array.isArray(r)?r.forEach(function(t){e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}();function Qn(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Gn(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Kn(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Yn=function(){function t(e,n,r,i){var o;if(d(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new qn),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new Hn,this.urlWithParams=n}return v(t,[{key:"serializeBody",value:function(){return null===this.body?null:Qn(this.body)||Gn(this.body)||Kn(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hn?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Kn(this.body)?null:Gn(this.body)?this.body.type||null:Qn(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hn?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(c=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),t}(),Wn=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),Jn=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";d(this,t),this.headers=e.headers||new qn,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},Xn=function(t){y(n,t);var e=m(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,n),(t=e.call(this,r)).type=Wn.ResponseHeader,t}return v(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Jn),Zn=function(t){y(n,t);var e=m(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,n),(t=e.call(this,r)).type=Wn.Response,t.body=void 0!==r.body?r.body:null,t}return v(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Jn),$n=function(t){y(n,t);var e=m(n);function n(t){var r;return d(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(Jn);function tr(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var er,nr,rr,ir,or,ar,sr,ur,cr,lr=((er=function(){function t(e){d(this,t),this.handler=e}return v(t,[{key:"request",value:function(t,e){var n,r,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t instanceof Yn?n=t:(r=a.headers instanceof qn?a.headers:new qn(a.headers),a.params&&(i=a.params instanceof Hn?a.params:new Hn({fromObject:a.params})),n=new Yn(t,e,void 0!==a.body?a.body:null,{headers:r,params:i,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials}));var s=Object(Rn.a)(n).pipe(Dn(function(t){return o.handler.handle(t)}));if(t instanceof Yn||"events"===a.observe)return s;var u=s.pipe(Ln(function(t){return t instanceof Zn}));switch(a.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(re.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(Object(re.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(Object(re.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(Object(re.a)(function(t){return t.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(a.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new Hn).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,tr(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,tr(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,tr(n,e))}}]),t}()).\u0275fac=function(t){return new(t||er)(u.Yb(Fn))},er.\u0275prov=u.Ib({token:er,factory:er.\u0275fac}),er),hr=function(){function t(e,n){d(this,t),this.next=e,this.interceptor=n}return v(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),fr=new u.r("HTTP_INTERCEPTORS"),dr=((nr=function(){function t(){d(this,t)}return v(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||nr)},nr.\u0275prov=u.Ib({token:nr,factory:nr.\u0275fac}),nr),pr=/^\)\]\}',?\n/,vr=function t(){d(this,t)},yr=((ir=function(){function t(){d(this,t)}return v(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||ir)},ir.\u0275prov=u.Ib({token:ir,factory:ir.\u0275fac}),ir),gr=((rr=function(){function t(e){d(this,t),this.xhrFactory=e}return v(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ee.a(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new qn(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new Xn({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(pr,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new Zn({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new $n({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u().url,i=new $n({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:Wn.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:Wn.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:Wn.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),t}()).\u0275fac=function(t){return new(t||rr)(u.Yb(vr))},rr.\u0275prov=u.Ib({token:rr,factory:rr.\u0275fac}),rr),mr=new u.r("XSRF_COOKIE_NAME"),br=new u.r("XSRF_HEADER_NAME"),wr=function t(){d(this,t)},_r=((cr=function(){function t(e,n,r){d(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return v(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Y(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||cr)(u.Yb(p),u.Yb(u.C),u.Yb(mr))},cr.\u0275prov=u.Ib({token:cr,factory:cr.\u0275fac}),cr),kr=((ur=function(){function t(e,n){d(this,t),this.tokenService=e,this.headerName=n}return v(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||ur)(u.Yb(wr),u.Yb(br))},ur.\u0275prov=u.Ib({token:ur,factory:ur.\u0275fac}),ur),Er=((sr=function(){function t(e,n){d(this,t),this.backend=e,this.injector=n,this.chain=null}return v(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(fr,[]);this.chain=e.reduceRight(function(t,e){return new hr(t,e)},this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||sr)(u.Yb(Un),u.Yb(u.s))},sr.\u0275prov=u.Ib({token:sr,factory:sr.\u0275fac}),sr),Or=((ar=function(){function t(){d(this,t)}return v(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:kr,useClass:dr}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:mr,useValue:e.cookieName}:[],e.headerName?{provide:br,useValue:e.headerName}:[]]}}}]),t}()).\u0275fac=function(t){return new(t||ar)},ar.\u0275mod=u.Kb({type:ar}),ar.\u0275inj=u.Jb({providers:[kr,{provide:fr,useExisting:kr,multi:!0},{provide:wr,useClass:_r},{provide:mr,useValue:"XSRF-TOKEN"},{provide:br,useValue:"X-XSRF-TOKEN"}]}),ar),Cr=((or=function t(){d(this,t)}).\u0275fac=function(t){return new(t||or)},or.\u0275mod=u.Kb({type:or}),or.\u0275inj=u.Jb({providers:[lr,{provide:Fn,useClass:Er},gr,{provide:Un,useExisting:gr},yr,{provide:vr,useExisting:yr}],imports:[[Or.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),or),Sr=a("spgP"),Ir=a("XNiG"),Tr=a("VRyK"),Ar=a("pxpQ"),xr=a("zx2A");function jr(t,e){return"function"==typeof e?function(n){return n.pipe(jr(function(n,r){return Object(te.a)(t(n,r)).pipe(Object(re.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new Rr(t))}}var Rr=function(){function t(e){d(this,t),this.project=e}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new Nr(t,this.project))}}]),t}(),Nr=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return v(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new xr.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(xr.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||f(k(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&f(k(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(xr.b),Dr=a("qgXg"),Pr=a("quSY"),Lr=a("9ppp"),Mr=a("Ylt2"),Vr=function(t){y(n,t);var e=m(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return d(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return v(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}f(k(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new Fr(this._getNow(),t)),this._trimBufferThenGetEvents()),f(k(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new Lr.a;if(this.isStopped||this.hasError?e=Pr.a.EMPTY:(this.observers.push(t),e=new Mr.a(this,t)),i&&t.add(t=new Ar.a(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||Dr.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(Ir.a),Fr=function t(e,n){d(this,t),this.time=e,this.value=n};function Ur(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,u=t.scheduler,c=0,l=!1,h=!1;return function(t){var r;c++,!e||l?(l=!1,e=new Vr(i,a,u),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}}),h&&(n=void 0)):r=e.subscribe(this),this.add(function(){c--,r.unsubscribe(),r=void 0,n&&!h&&s&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)})}}(r))}}var qr=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),zr=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Br=a("EY2u");function Hr(t){return function(e){return 0===t?Object(Br.b)():e.lift(new Qr(t))}}var Qr=function(){function t(e){if(d(this,t),this.total=e,this.total<0)throw new zr}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new Gr(t,this.total))}}]),t}(),Gr=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return v(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(Pn.a);function Kr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Yr(t))}}var Yr=function(){function t(e){d(this,t),this.defaultValue=e}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new Wr(t,this.defaultValue))}}]),t}(),Wr=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return v(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(Pn.a);function Jr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$r;return function(e){return e.lift(new Xr(t))}}var Xr=function(){function t(e){d(this,t),this.errorFactory=e}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new Zr(t,this.errorFactory))}}]),t}(),Zr=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return v(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(Km){t=Km}this.destination.error(t)}}]),n}(Pn.a);function $r(){return new qr}var ti=a("SpAZ");function ei(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Ln(function(e,n){return t(e,n,r)}):ti.a,Hr(1),n?Kr(e):Jr(function(){return new qr}))}}function ni(t,e){return e?jr(function(){return t},e):jr(function(){return t})}var ri,ii=a("tf+s"),oi=new u.r("angularfire2.auth.use-emulator"),ai=new u.r("angularfire2.auth.settings"),si=new u.r("angularfire2.auth.tenant-id"),ui=new u.r("angularfire2.auth.langugage-code"),ci=new u.r("angularfire2.auth.use-device-language"),li=new u.r("angularfire.auth.persistence"),hi=((ri=function t(e,n,r,i,o,s,u,c,l,h){d(this,t);var f=new Sr.e(i),p=Object(Sr.i)(f),v=new Ir.a,y=Object(Rn.a)(void 0).pipe(Object(Ar.b)(f.outsideAngular),jr(function(){return i.runOutsideAngular(function(){return a.e(6).then(a.bind(null,"6nsN"))})}),Object(re.a)(function(){return Object(Sr.h)(e,i,n)}),Object(re.a)(function(t){return i.runOutsideAngular(function(){var e=o,n=s;return Object(Sr.g)("".concat(t.name,".auth"),"AngularFireAuth",t,function(){var r=i.runOutsideAngular(function(){return t.auth()});return e&&r.useEmulator("http://".concat(e.join(":"))),u&&(r.tenantId=u),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),h&&r.setPersistence(h),r},[e,u,c,l,n,h])})}),Ur({bufferSize:1,refCount:!1}));if(lt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Rn.a)(null);else{y.pipe(ei()).subscribe();var g=y.pipe(jr(function(t){return t.getRedirectResult().then(function(t){return t},function(){return null})}),p,Ur({bufferSize:1,refCount:!1})),m=function(t){return new ee.a(function(e){return{unsubscribe:i.runOutsideAngular(function(){return t(e)})}})},b=y.pipe(jr(function(t){return m(t.onAuthStateChanged.bind(t))})),w=y.pipe(jr(function(t){return m(t.onIdTokenChanged.bind(t))}));this.authState=g.pipe(ni(b),Object(ii.a)(f.outsideAngular),Object(Ar.b)(f.insideAngular)),this.user=g.pipe(ni(w),Object(ii.a)(f.outsideAngular),Object(Ar.b)(f.insideAngular)),this.idToken=this.user.pipe(jr(function(t){return t?Object(te.a)(t.getIdToken()):Object(Rn.a)(null)})),this.idTokenResult=this.user.pipe(jr(function(t){return t?Object(te.a)(t.getIdTokenResult()):Object(Rn.a)(null)})),this.credential=Object(Tr.a)(g,v,this.authState.pipe(Ln(function(t){return!t}))).pipe(Object(re.a)(function(t){return(null==t?void 0:t.user)?t:null}),Object(ii.a)(f.outsideAngular),Object(Ar.b)(f.insideAngular))}return Object(Sr.j)(this,y,i,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(function(t){return v.next(t)})}}})}).\u0275fac=function(t){return new(t||ri)(u.Yb(Sr.c),u.Yb(Sr.b,8),u.Yb(u.C),u.Yb(u.A),u.Yb(oi,8),u.Yb(ai,8),u.Yb(si,8),u.Yb(ui,8),u.Yb(ci,8),u.Yb(li,8))},ri.\u0275prov=Object(u.Ib)({factory:function(){return new ri(Object(u.Yb)(Sr.c),Object(u.Yb)(Sr.b,8),Object(u.Yb)(u.C),Object(u.Yb)(u.A),Object(u.Yb)(oi,8),Object(u.Yb)(ai,8),Object(u.Yb)(si,8),Object(u.Yb)(ui,8),Object(u.Yb)(ci,8),Object(u.Yb)(li,8))},token:ri,providedIn:"any"}),ri);Object(Sr.f)(hi,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var fi,di=((fi=function t(){d(this,t)}).\u0275fac=function(t){return new(t||fi)},fi.\u0275mod=u.Kb({type:fi}),fi.\u0275inj=u.Jb({providers:[hi]}),fi),pi=a("D0XW"),vi=a("bHdf");function yi(){return Object(vi.a)(1)(Object(Rn.a).apply(void 0,arguments))}var gi=a("z+Ro");function mi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(gi.a)(r)?(e.pop(),function(t){return yi(e,t,r)}):function(t){return yi(e,t)}}function bi(){return function(t){return t.lift(new wi)}}var wi=function(){function t(){d(this,t)}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new _i(t))}}]),t}(),_i=function(t){y(n,t);var e=m(n);function n(t){var r;return d(this,n),(r=e.call(this,t)).hasPrev=!1,r}return v(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(Pn.a);function ki(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ei(t,e,n))}}var Ei=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];d(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new Oi(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Oi=function(t){y(n,t);var e=m(n);function n(t,r,i,o){var a;return d(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return v(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(Pn.a);function Ci(t,e){return function(n){return n.lift(new Si(t,e))}}var Si=function(){function t(e,n){d(this,t),this.compare=e,this.keySelector=n}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new Ii(t,this.compare,this.keySelector))}}]),t}(),Ii=function(t){y(n,t);var e=m(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return v(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(Pn.a),Ti=a("Jgta"),Ai=a("zIRd"),xi=a("q/0M"),ji=a("qOnz"),Ri=function(t,e){return(Ri=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ni(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Di,Pi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Li=Li||{},Mi=Pi||self;function Vi(){}function Fi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ui(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var qi="closure_uid_"+(1e9*Math.random()>>>0),zi=0;function Bi(t,e,n){return t.call.apply(t.bind,arguments)}function Hi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Qi(t,e,n){return(Qi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bi:Hi).apply(null,arguments)}function Gi(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ki(){return Date.now()}function Yi(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Wi(){this.j=this.j,this.i=this.i}Wi.prototype.j=!1,Wi.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,qi)&&t[qi]||(t[qi]=++zi)}(this)},Wi.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ji=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Xi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Zi(t){return Array.prototype.concat.apply([],arguments)}function $i(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function to(t){return/^[\s\xa0]*$/.test(t)}var eo,no=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ro(t,e){return-1!=t.indexOf(e)}function io(t,e){return t<e?-1:t>e?1:0}t:{var oo=Mi.navigator;if(oo){var ao=oo.userAgent;if(ao){eo=ao;break t}}eo=""}function so(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function uo(t){var e={};for(var n in t)e[n]=t[n];return e}var co="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<co.length;o++)n=co[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ho(t){return ho[" "](t),t}ho[" "]=Vi;var fo,po,vo=ro(eo,"Opera"),yo=ro(eo,"Trident")||ro(eo,"MSIE"),go=ro(eo,"Edge"),mo=go||yo,bo=ro(eo,"Gecko")&&!(ro(eo.toLowerCase(),"webkit")&&!ro(eo,"Edge"))&&!(ro(eo,"Trident")||ro(eo,"MSIE"))&&!ro(eo,"Edge"),wo=ro(eo.toLowerCase(),"webkit")&&!ro(eo,"Edge");function _o(){var t=Mi.document;return t?t.documentMode:void 0}t:{var ko="",Eo=(po=eo,bo?/rv:([^\);]+)(\)|;)/.exec(po):go?/Edge\/([\d\.]+)/.exec(po):yo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(po):wo?/WebKit\/(\S+)/.exec(po):vo?/(?:Version)[ \/]?(\S+)/.exec(po):void 0);if(Eo&&(ko=Eo?Eo[1]:""),yo){var Oo=_o();if(null!=Oo&&Oo>parseFloat(ko)){fo=String(Oo);break t}}fo=ko}var Co={};function So(t){return function(t,e){var n=Co;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=no(String(fo)).split("."),r=no(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=io(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||io(0==a[2].length,0==s[2].length)||io(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var Io=Mi.document&&yo&&(_o()||parseInt(fo,10))||void 0,To=!yo||9<=Number(Io),Ao=yo&&!So("9"),xo=function(){if(!Mi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Mi.addEventListener("test",Vi,e),Mi.removeEventListener("test",Vi,e)}catch(n){}return t}();function jo(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Ro(t,e){if(jo.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(bo){t:{try{ho(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:No[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}jo.prototype.b=function(){this.defaultPrevented=!0},Yi(Ro,jo);var No={2:"touch",3:"pen",4:"mouse"};Ro.prototype.b=function(){Ro.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ao)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Do="closure_listenable_"+(1e6*Math.random()|0),Po=0;function Lo(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Po,this.Y=this.Z=!1}function Mo(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Vo(t){this.src=t,this.a={},this.b=0}function Fo(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ji(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Mo(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Uo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Vo.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Uo(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Lo(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var qo="closure_lm_"+(1e6*Math.random()|0),zo={};function Bo(t,e,n,r,i){if(r&&r.once)return Qo(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Bo(t,e[o],n,r,i);return null}return n=$o(n),t&&t[Do]?t.va(e,n,Ui(r)?!!r.capture:!!r,i):Ho(t,e,n,!1,r,i)}function Ho(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Ui(i)?!!i.capture:!!i;if(a&&!To)return null;var s=Xo(t);if(s||(t[qo]=s=new Vo(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Jo,e=To?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)xo||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Yo(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Qo(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Qo(t,e[o],n,r,i);return null}return n=$o(n),t&&t[Do]?t.wa(e,n,Ui(r)?!!r.capture:!!r,i):Ho(t,e,n,!0,r,i)}function Go(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Go(t,e[o],n,r,i);else r=Ui(r)?!!r.capture:!!r,n=$o(n),t&&t[Do]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Uo(o=t.a[e],n,r,i))&&(Mo(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Xo(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Uo(e,n,r,i)),(n=-1<t?e[t]:null)&&Ko(n))}function Ko(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Do])Fo(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Yo(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Xo(e))?(Fo(n,t),0==n.b&&(n.src=null,e[qo]=null)):Mo(t)}}}function Yo(t){return t in zo?zo[t]:zo[t]="on"+t}function Wo(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ko(t),n.call(r,e)}function Jo(t,e){if(t.Y)return!0;if(!To){if(!e)t:{e=["window","event"];for(var n=Mi,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Wo(t,e=new Ro(e,this))}return Wo(t,new Ro(e,this))}function Xo(t){return(t=t[qo])instanceof Vo?t:null}var Zo="__closure_events_fn_"+(1e9*Math.random()>>>0);function $o(t){return"function"==typeof t?t:(t[Zo]||(t[Zo]=function(e){return t.handleEvent(e)}),t[Zo])}function ta(){Wi.call(this),this.c=new Vo(this),this.J=this,this.C=null}function ea(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new jo(e,t);else if(e instanceof jo)e.target=e.target||t;else{var i=e;lo(e=new jo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=na(a,r,!0,e)&&i}if(i=na(a=e.a=t,r,!0,e)&&i,i=na(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=na(a=e.a=n[o],r,!1,e)&&i}function na(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&Fo(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Yi(ta,Wi),ta.prototype[Do]=!0,(Di=ta.prototype).addEventListener=function(t,e,n,r){Bo(this,t,e,n,r)},Di.removeEventListener=function(t,e,n,r){Go(this,t,e,n,r)},Di.G=function(){if(ta.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Mo(n[r]);delete e.a[t],e.b--}}this.C=null},Di.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Di.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ra=Mi.JSON.stringify;function ia(){this.b=this.a=null}var oa,aa=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new ua},function(t){t.reset()});function sa(){var t=fa,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ua(){this.next=this.b=this.a=null}function ca(t){Mi.setTimeout(function(){throw t},0)}function la(t,e){oa||function(){var t=Mi.Promise.resolve(void 0);oa=function(){t.then(da)}}(),ha||(oa(),ha=!0),fa.add(t,e)}ia.prototype.add=function(t,e){var n=aa.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ua.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ua.prototype.reset=function(){this.next=this.b=this.a=null};var ha=!1,fa=new ia;function da(){for(var t;t=sa();){try{t.a.call(t.b)}catch(n){ca(n)}var e=aa;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ha=!1}function pa(t,e){ta.call(this),this.b=t||1,this.a=e||Mi,this.f=Qi(this.Za,this),this.g=Ki()}function va(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ya(t,e,n){if("function"==typeof t)n&&(t=Qi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Qi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Mi.setTimeout(t,e||0)}function ga(t){t.a=ya(function(){t.a=null,t.c&&(t.c=!1,ga(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Yi(pa,ta),(Di=pa.prototype).aa=!1,Di.M=null,Di.Za=function(){if(this.aa){var t=Ki()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ea(this,"tick"),this.aa&&(va(this),this.start()))}},Di.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ki())},Di.G=function(){pa.X.G.call(this),va(this),delete this.a};var ma=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ri(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ga(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Mi.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Wi);function ba(t){Wi.call(this),this.b=t,this.a={}}Yi(ba,Wi);var wa=[];function _a(t,e,n,r){Array.isArray(n)||(n&&(wa[0]=n.toString()),n=wa);for(var i=0;i<n.length;i++){var o=Bo(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ka(t){so(t.a,function(t,e){this.a.hasOwnProperty(e)&&Ko(t)},t),t.a={}}function Ea(){this.a=!0}function Oa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return ra(n)}catch(s){return e}}(t,n)+(r?" "+r:"")})}ba.prototype.G=function(){ba.X.G.call(this),ka(this)},ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ea.prototype.info=function(){};var Ca={},Sa=null;function Ia(){return Sa=Sa||new ta}function Ta(t){jo.call(this,Ca.Fa,t)}function Aa(t){var e=Ia();ea(e,new Ta(e,t))}function xa(t,e){jo.call(this,Ca.STAT_EVENT,t),this.stat=e}function ja(t){var e=Ia();ea(e,new xa(e,t))}function Ra(t){jo.call(this,Ca.Ga,t)}function Na(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Mi.setTimeout(function(){t()},e)}Ca.Fa="serverreachability",Yi(Ta,jo),Ca.STAT_EVENT="statevent",Yi(xa,jo),Ca.Ga="timingevent",Yi(Ra,jo);var Da={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Pa={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function La(){}function Ma(){}La.prototype.a=null;var Va,Fa={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ua(){jo.call(this,"d")}function qa(){jo.call(this,"c")}function za(){}function Ba(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ba(this),this.P=Ha,this.R=new pa(t=mo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Yi(Ua,jo),Yi(qa,jo),Yi(za,La),Va=new za;var Ha=45e3,Qa={},Ga={};function Ka(t,e,n){t.H=1,t.i=vs(cs(e)),t.j=n,t.I=!0,Ya(t,null)}function Ya(t,e){t.u=Ki(),Xa(t),t.l=cs(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ts(n.b,"t",r),t.D=0,t.a=ku(t.g,t.g.C?e:null),0<t.O&&(t.F=new ma(Qi(t.Ca,t,t.a),t.O)),_a(t.J,t.a,"readystatechange",t.Xa),e=t.B?uo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Aa(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Wa(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ja(t,n);if(i==Ga){4==e&&(t.h=4,ja(14),r=!1),Oa(t.c,t.f,null,"[Incomplete Response]");break}if(i==Qa){t.h=4,ja(15),Oa(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Oa(t.c,t.f,i,null),ns(t,i)}4==e&&0==n.length&&(t.h=1,ja(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),pu(e),e.F=!0,ja(11))):(Oa(t.c,t.f,n,"[Invalid Chunked Response]"),es(t),ts(t))}function Ja(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Ga:(n=Number(e.substring(n,r)),isNaN(n)?Qa:(r+=1)+n>e.length?Ga:(e=e.substr(r,n),t.D=r+n,e))}function Xa(t){t.T=Ki()+t.P,Za(t,t.P)}function Za(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Na(Qi(t.Va,t),e)}function $a(t){t.o&&(Mi.clearTimeout(t.o),t.o=null)}function ts(t){0==t.g.v||t.A||gu(t.g,t)}function es(t){$a(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,va(t.R),ka(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ns(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ps(n.b,t)))if(n.I=t.N,!t.C&&Ps(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(am){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;yu(n),ou(n)}du(n),ja(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Na(Qi(n.Sa,n),6e3));if(1>=Ds(n.b)&&n.ea){try{n.ea()}catch(am){}n.ea=void 0}}else bu(n,11)}else if((t.C||n.a==t)&&yu(n),!to(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ro(l,"spdy")||ro(l,"quic")||ro(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ls(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,ps(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ki()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=_u(u,u.C?u.ga:null,u.fa),d.C){Ms(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&($a(p),Xa(p)),u.a=d}else fu(u);0<n.g.length&&uu(n)}else"stop"!=i[0]&&"close"!=i[0]||bu(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?bu(n,7):iu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Aa(4)}catch(am){}}function rs(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Fi(t)||"string"==typeof t)Xi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Fi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Fi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function is(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof is)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function os(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];as(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)as(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function as(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Di=Ba.prototype).setTimeout=function(t){this.P=t},Di.Xa=function(t){t=t.target;var e=this.F;e&&3==tu(t)?e.f():this.Ca(t)},Di.Ca=function(t){try{if(t==this.a)t:{var e=tu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!mo&&!this.a.$())){this.A||4!=e||7==n||Aa(8==n||0>=r?3:2),$a(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!to(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,ja(12),es(this),ts(this);break t}Oa(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ns(this,u)}this.I?(Wa(this,e,o),mo&&this.b&&3==e&&(_a(this.J,this.R,"tick",this.Wa),this.R.start())):(Oa(this.c,this.f,o,null),ns(this,o)),4==e&&es(this),this.b&&!this.A&&(4==e?gu(this.g,this):(this.b=!1,Xa(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ja(12)):(this.h=0,ja(13)),es(this),ts(this)}}}catch(c){}},Di.Wa=function(){if(this.a){var t=tu(this.a),e=this.a.$();this.D<e.length&&($a(this),Wa(this,t,e),this.b&&4!=t&&Xa(this))}},Di.cancel=function(){this.A=!0,es(this)},Di.Va=function(){this.o=null;var t=Ki();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Aa(3),ja(17)),es(this),this.h=2,ts(this)):Za(this,this.T-t)},(Di=is.prototype).K=function(){os(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Di.L=function(){return os(this),this.a.concat()},Di.get=function(t,e){return as(this.b,t)?this.b[t]:e},Di.set=function(t,e){as(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Di.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ss=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function us(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof us){this.a=void 0!==e?e:t.a,ls(this,t.f),this.j=t.j,hs(this,t.c),fs(this,t.h),this.g=t.g,e=t.b;var n=new Os;n.c=e.c,e.a&&(n.a=new is(e.a),n.b=e.b),ds(this,n),this.i=t.i}else t&&(n=String(t).match(ss))?(this.a=!!e,ls(this,n[1]||"",!0),this.j=ys(n[2]||""),hs(this,n[3]||"",!0),fs(this,n[4]),this.g=ys(n[5]||"",!0),ds(this,n[6]||"",!0),this.i=ys(n[7]||"")):(this.a=!!e,this.b=new Os(null,this.a))}function cs(t){return new us(t)}function ls(t,e,n){t.f=n?ys(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function hs(t,e,n){t.c=n?ys(e,!0):e}function fs(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ds(t,e,n){e instanceof Os?(t.b=e,function(t,e){e&&!t.f&&(Cs(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ss(this,e),Ts(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=gs(e,ks)),t.b=new Os(e,t.a))}function ps(t,e,n){t.b.set(e,n)}function vs(t){return ps(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ki()).toString(36)),t}function ys(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function gs(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ms),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ms(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}us.prototype.toString=function(){var t=[],e=this.f;e&&t.push(gs(e,bs,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(gs(e,bs,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(gs(n,"/"==n.charAt(0)?_s:ws,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",gs(n,Es)),t.join("")};var bs=/[#\/\?@]/g,ws=/[#\?:]/g,_s=/[#\?]/g,ks=/[#\?@]/g,Es=/#/g;function Os(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Cs(t){t.a||(t.a=new is,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ss(t,e){Cs(t),e=As(t,e),as(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,as((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&os(t)))}function Is(t,e){return Cs(t),e=As(t,e),as(t.a.b,e)}function Ts(t,e,n){Ss(t,e),0<n.length&&(t.c=null,t.a.set(As(t,e),$i(n)),t.b+=n.length)}function As(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Di=Os.prototype).add=function(t,e){Cs(this),this.c=null,t=As(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Di.forEach=function(t,e){Cs(this),this.a.forEach(function(n,r){Xi(n,function(n){t.call(e,n,r,this)},this)},this)},Di.L=function(){Cs(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Di.K=function(t){Cs(this);var e=[];if("string"==typeof t)Is(this,t)&&(e=Zi(e,this.a.get(As(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Zi(e,t[n])}return e},Di.set=function(t,e){return Cs(this),this.c=null,Is(this,t=As(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Di.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Di.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var xs=function(t,e){this.b=t,this.a=e};function js(t){this.g=t||Rs,t=Mi.PerformanceNavigationTiming?0<(t=Mi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Mi.ia&&Mi.ia.ya&&Mi.ia.ya()&&Mi.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Rs=10;function Ns(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ds(t){return t.b?1:t.a?t.a.size:0}function Ps(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ls(t,e){t.a?t.a.add(e):t.b=e}function Ms(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Vs(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ni(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return $i(t.c)}function Fs(){}function Us(){this.a=new Fs}function qs(t,e,n){var r=n||"";try{rs(t,function(t,n){var i=t;Ui(t)&&(i=ra(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Km){throw e.push(r+"type="+encodeURIComponent("_badmap")),Km}}function zs(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}js.prototype.cancel=function(){var t,e;if(this.c=Vs(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ni(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Fs.prototype.stringify=function(t){return Mi.JSON.stringify(t,void 0)},Fs.prototype.parse=function(t){return Mi.JSON.parse(t,void 0)};var Bs=Mi.JSON.parse;function Hs(t){ta.call(this),this.headers=new is,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Qs,this.D=this.F=!1}Yi(Hs,ta);var Qs="",Gs=/^https?$/i,Ks=["POST","PUT"];function Ys(t){return"content-type"==t.toLowerCase()}function Ws(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Js(t),Zs(t)}function Js(t){t.u||(t.u=!0,ea(t,"complete"),ea(t,"error"))}function Xs(t){if(t.b&&void 0!==Li&&(!t.s[1]||4!=tu(t)||2!=t.W()))if(t.l&&4==tu(t))ya(t.za,0,t);else if(ea(t,"readystatechange"),4==tu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ss)[1]||null;if(!o&&Mi.self&&Mi.self.location){var a=Mi.self.location.protocol;o=a.substr(0,a.length-1)}i=!Gs.test(o?o.toLowerCase():"")}e=i}if(e)ea(t,"complete"),ea(t,"success");else{t.h=6;try{var s=2<tu(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",Js(t)}}finally{Zs(t)}}}function Zs(t,e){if(t.a){$s(t);var n=t.a,r=t.s[0]?Vi:null;t.a=null,t.s=null,e||ea(t,"ready");try{n.onreadystatechange=r}catch(Km){}}}function $s(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Mi.clearTimeout(t.m),t.m=null)}function tu(t){return t.a?t.a.readyState:0}function eu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return so(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ps(t,e,n))}function nu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ru(t){this.pa=0,this.g=[],this.c=new Ea,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=nu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=nu("baseRetryDelayMs",5e3,t),this.Ra=nu("retryDelaySeedMs",1e4,t),this.Ma=nu("forwardChannelMaxRetries",2,t),this.ma=nu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new js(t&&t.concurrentRequestLimit),this.ka=new Us,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function iu(t){if(au(t),3==t.v){var e=t.R++,n=cs(t.B);ps(n,"SID",t.J),ps(n,"RID",e),ps(n,"TYPE","terminate"),lu(t,n),(e=new Ba(t,t.c,e,void 0)).H=2,e.i=vs(cs(n)),n=!1,Mi.navigator&&Mi.navigator.sendBeacon&&(n=Mi.navigator.sendBeacon(e.i.toString(),"")),!n&&Mi.Image&&((new Image).src=e.i,n=!0),n||(e.a=ku(e.g,null),e.a.ba(e.i)),e.u=Ki(),Xa(e)}wu(t)}function ou(t){t.a&&(pu(t),t.a.cancel(),t.a=null)}function au(t){ou(t),t.j&&(Mi.clearTimeout(t.j),t.j=null),yu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Mi.clearTimeout(t.h),t.h=null)}function su(t,e){t.g.push(new xs(t.Oa++,e)),3==t.v&&uu(t)}function uu(t){Ns(t.b)||t.h||(t.h=!0,la(t.Ba,t),t.u=0)}function cu(t,e){var n;n=e?e.f:t.R++;var r=cs(t.B);ps(r,"SID",t.J),ps(r,"RID",n),ps(r,"AID",t.P),lu(t,r),t.i&&t.l&&eu(r,t.i,t.l),n=new Ba(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=hu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ls(t.b,n),Ka(n,r,e)}function lu(t,e){t.f&&rs({},function(t,n){ps(e,n,t)})}function hu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Qi(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{qs(l,a,"req"+c+"_")}catch(ec){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function fu(t){t.a||t.j||(t.T=1,la(t.Aa,t),t.o=0)}function du(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Na(Qi(t.Aa,t),mu(t,t.o)),t.o++,0))}function pu(t){null!=t.s&&(Mi.clearTimeout(t.s),t.s=null)}function vu(t){t.a=new Ba(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=cs(t.la);ps(e,"RID","rpc"),ps(e,"SID",t.J),ps(e,"CI",t.H?"0":"1"),ps(e,"AID",t.P),lu(t,e),ps(e,"TYPE","xmlhttp"),t.i&&t.l&&eu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=vs(cs(e)),n.j=null,n.I=!0,Ya(n,t)}function yu(t){null!=t.m&&(Mi.clearTimeout(t.m),t.m=null)}function gu(t,e){var n=null;if(t.a==e){yu(t),pu(t),t.a=null;var r=2}else{if(!Ps(t.b,e))return;n=e.s,Ms(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ki()-e.u;var i=t.u;ea(r=Ia(),new Ra(r,n,e,i)),uu(t)}else fu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ds(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Na(Qi(t.Ba,t,e),mu(t,t.u)),t.u++,0)))}(t,e)||2==r&&du(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:bu(t,5);break;case 4:bu(t,10);break;case 3:bu(t,6);break;default:bu(t,2)}}function mu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function bu(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Qi(t.Ya,t);n||(n=new us("//www.google.com/images/cleardot.gif"),Mi.location&&"http"==Mi.location.protocol||ls(n,"https"),vs(n)),function(t,e){var n=new Ea;if(Mi.Image){var r=new Image;r.onload=Gi(zs,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gi(zs,n,r,"TestLoadImage: error",!1,e),r.onabort=Gi(zs,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gi(zs,n,r,"TestLoadImage: timeout",!1,e),Mi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ja(2);t.v=0,t.f&&t.f.ra(e),wu(t),au(t)}function wu(t){t.v=0,t.I=-1,t.f&&(0==Vs(t.b).length&&0==t.g.length||(t.b.c.length=0,$i(t.g),t.g.length=0),t.f.qa())}function _u(t,e,n){var r=function(t){return t instanceof us?cs(t):new us(t,void 0)}(n);if(""!=r.c)e&&hs(r,e+"."+r.c),fs(r,r.h);else{var i=Mi.location;r=function(t,e,n,r){var i=new us(null,void 0);return t&&ls(i,t),e&&hs(i,e),n&&fs(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&so(t.V,function(t,e){ps(r,e,t)}),n=t.na,(e=t.A)&&n&&ps(r,e,n),ps(r,"VER",t.ha),lu(t,r),r}function ku(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Hs(t.Na)).F=t.C,e}function Eu(){}function Ou(){if(yo&&!(10<=Number(Io)))throw Error("Environmental error: no available transport.")}function Cu(t,e){ta.call(this),this.a=new ru(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!to(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!to(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Tu(this)}function Su(t){Ua.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Iu(){qa.call(this),this.status=1}function Tu(t){this.a=t}(Di=Hs.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Va),this.a.onreadystatechange=Qi(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Ws(this,o)}t=n||"";var i=new is(this.headers);r&&rs(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Ys,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Mi.FormData&&t instanceof Mi.FormData,!(0<=Ji(Ks,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{$s(this),0<this.o&&((this.D=function(t){return yo&&So(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Qi(this.xa,this)):this.m=ya(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Ws(this,o)}},Di.xa=function(){void 0!==Li&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ea(this,"timeout"),this.abort(8))},Di.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ea(this,"complete"),ea(this,"abort"),Zs(this))},Di.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Zs(this,!0)),Hs.X.G.call(this)},Di.za=function(){this.j||(this.A||this.l||this.g?Xs(this):this.Ua())},Di.Ua=function(){Xs(this)},Di.W=function(){try{return 2<tu(this)?this.a.status:-1}catch(po){return-1}},Di.$=function(){try{return this.a?this.a.responseText:""}catch(po){return""}},Di.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Bs(e)}},Di.ua=function(){return this.h},Di.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Di=ru.prototype).ha=8,Di.v=1,Di.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ba(this,this.c,t,void 0),r=this.l;if(this.O&&(r?lo(r=uo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=hu(this,n,e),ps(i=cs(this.B),"RID",t),ps(i,"CVER",22),this.A&&ps(i,"X-HTTP-Session-Id",this.A),lu(this,i),this.i&&r&&eu(i,this.i,r),Ls(this.b,n),this.Ia&&ps(i,"TYPE","init"),this.da?(ps(i,"$req",e),ps(i,"SID","null"),n.U=!0,Ka(n,i,null)):Ka(n,i,e),this.v=2}}else 3==this.v&&(t?cu(this,t):0==this.g.length||Ns(this.b)||cu(this))},Di.Aa=function(){if(this.j=null,vu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Na(Qi(this.Ta,this),t)}},Di.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ja(10),ou(this),vu(this))},Di.Sa=function(){null!=this.m&&(this.m=null,ou(this),du(this),ja(19))},Di.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ja(2)):(this.c.info("Failed to ping google.com"),ja(1))},(Di=Eu.prototype).ta=function(){},Di.sa=function(){},Di.ra=function(){},Di.qa=function(){},Di.Ja=function(){},Ou.prototype.a=function(t,e){return new Cu(t,e)},Yi(Cu,ta),Cu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ja(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=_u(t,null,t.fa),uu(t)},Cu.prototype.close=function(){iu(this.a)},Cu.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,su(this.a,e)}else this.l?((e={}).__data__=ra(t),su(this.a,e)):su(this.a,t)},Cu.prototype.G=function(){this.a.f=null,delete this.f,iu(this.a),delete this.a,Cu.X.G.call(this)},Yi(Su,Ua),Yi(Iu,qa),Yi(Tu,Eu),Tu.prototype.ta=function(){ea(this.a,"a")},Tu.prototype.sa=function(t){ea(this.a,new Su(t))},Tu.prototype.ra=function(t){ea(this.a,new Iu(t))},Tu.prototype.qa=function(){ea(this.a,"b")},Ou.prototype.createWebChannel=Ou.prototype.a,Cu.prototype.send=Cu.prototype.h,Cu.prototype.open=Cu.prototype.g,Cu.prototype.close=Cu.prototype.close,Da.NO_ERROR=0,Da.TIMEOUT=8,Da.HTTP_ERROR=6,Pa.COMPLETE="complete",Ma.EventType=Fa,Fa.OPEN="a",Fa.CLOSE="b",Fa.ERROR="c",Fa.MESSAGE="d",ta.prototype.listen=ta.prototype.va,Hs.prototype.listenOnce=Hs.prototype.wa,Hs.prototype.getLastError=Hs.prototype.Qa,Hs.prototype.getLastErrorCode=Hs.prototype.ua,Hs.prototype.getStatus=Hs.prototype.W,Hs.prototype.getResponseJson=Hs.prototype.Pa,Hs.prototype.getResponseText=Hs.prototype.$,Hs.prototype.send=Hs.prototype.ba;var Au=Da,xu=Pa,ju=Ca,Ru=Ma,Nu=Hs,Du=a("mrSG"),Pu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Pu.o=-1;var Lu=new xi.b("@firebase/firestore");function Mu(){return Lu.logLevel}function Vu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Lu.logLevel<=xi.a.DEBUG){var r=e.map(qu);Lu.debug.apply(Lu,Object(Du.f)(["Firestore (8.3.1): "+t],r))}}function Fu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Lu.logLevel<=xi.a.ERROR){var r=e.map(qu);Lu.error.apply(Lu,Object(Du.f)(["Firestore (8.3.1): "+t],r))}}function Uu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Lu.logLevel<=xi.a.WARN){var r=e.map(qu);Lu.warn.apply(Lu,Object(Du.f)(["Firestore (8.3.1): "+t],r))}}function qu(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Km){return t}}function zu(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw Fu(e),new Error(e)}function Bu(t,e){t||zu()}function Hu(t,e){return t}function Qu(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Gu=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Qu(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ku(t,e){return t<e?-1:t>e?1:0}function Yu(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Wu(t){return t+"\0"}function Ju(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xu(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Zu(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $u(t){return null==t}function tc(t){return 0===t&&1/t==-1/0}function ec(t){return"number"==typeof t&&Number.isInteger(t)&&!tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var nc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},rc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Du.c)(e,t),e}(Error),ic=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&zu(),void 0===n?n=t.length-e:n>t.length-e&&zu(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Du.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new rc(nc.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ic),ac=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Du.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return ac.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new rc(nc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new rc(nc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new rc(nc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new rc(nc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ic),uc=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(oc.fromString(e))},t.fromName=function(e){return new t(oc.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===oc.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return oc.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new oc(e.slice()))},t}(),cc=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Ku(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();cc.EMPTY_BYTE_STRING=new cc("");var lc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hc(t){if(Bu(!!t),"string"==typeof t){var e=0,n=lc.exec(t);if(Bu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:fc(t.seconds),nanos:fc(t.nanos)}}function fc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function dc(t){return"string"==typeof t?cc.fromBase64String(t):cc.fromUint8Array(t)}var pc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new rc(nc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new rc(nc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new rc(nc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rc(nc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Ku(this.nanoseconds,t.nanoseconds):Ku(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function vc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function yc(t){var e=t.mapValue.fields.__previous_value__;return vc(e)?yc(e):e}function gc(t){var e=hc(t.mapValue.fields.__local_write_time__.timestampValue);return new pc(e.seconds,e.nanos)}function mc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vc(t)?4:10:zu()}function bc(t,e){var n=mc(t);if(n!==mc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gc(t).isEqual(gc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=hc(t.timestampValue),r=hc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return dc(t.bytesValue).isEqual(dc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return fc(t.geoPointValue.latitude)===fc(e.geoPointValue.latitude)&&fc(t.geoPointValue.longitude)===fc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return fc(t.integerValue)===fc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=fc(t.doubleValue),r=fc(e.doubleValue);return n===r?tc(n)===tc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Yu(t.arrayValue.values||[],e.arrayValue.values||[],bc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ju(n)!==Ju(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bc(n[i],r[i])))return!1;return!0}(t,e);default:return zu()}}function wc(t,e){return void 0!==(t.values||[]).find(function(t){return bc(t,e)})}function _c(t,e){var n=mc(t),r=mc(e);if(n!==r)return Ku(n,r);switch(n){case 0:return 0;case 1:return Ku(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=fc(t.integerValue||t.doubleValue),r=fc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return kc(t.timestampValue,e.timestampValue);case 4:return kc(gc(t),gc(e));case 5:return Ku(t.stringValue,e.stringValue);case 6:return function(t,e){var n=dc(t),r=dc(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ku(n[i],r[i]);if(0!==o)return o}return Ku(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ku(fc(t.latitude),fc(e.latitude));return 0!==n?n:Ku(fc(t.longitude),fc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=_c(n[i],r[i]);if(o)return o}return Ku(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Ku(r[a],o[a]);if(0!==s)return s;var u=_c(n[r[a]],i[o[a]]);if(0!==u)return u}return Ku(r.length,o.length)}(t.mapValue,e.mapValue);default:throw zu()}}function kc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ku(t,e);var n=hc(t),r=hc(e),i=Ku(n.seconds,r.seconds);return 0!==i?i:Ku(n.nanos,r.nanos)}function Ec(t){return Oc(t)}function Oc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=hc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?dc(t.bytesValue).toBase64():"referenceValue"in t?uc.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Oc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Oc(t.fields[o])}return e+"}"}(t.mapValue):zu();var e}function Cc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Sc(t){return!!t&&"integerValue"in t}function Ic(t){return!!t&&"arrayValue"in t}function Tc(t){return!!t&&"nullValue"in t}function Ac(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xc(t){return!!t&&"mapValue"in t}var jc=function(t,e){this.key=t,this.version=e},Rc=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Du.c)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(jc),Nc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Du.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(jc),Dc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Du.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(jc),Pc=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Lc(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Pc(t,e,n,r,i,o,a)}function Mc(t){var e=Hu(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Ec(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),$u(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Jc(e.startAt)),e.endAt&&(n+="|ub:",n+=Jc(e.endAt)),e.h=n}return e.h}function Vc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Zc(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!bc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tl(t.startAt,e.startAt)&&tl(t.endAt,e.endAt)}function Fc(t){return uc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Uc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Du.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new qc(t,n,r):"array-contains"===n?new Qc(t,r):"in"===n?new Gc(t,r):"not-in"===n?new Kc(t,r):"array-contains-any"===n?new Yc(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new zc(t,n):new Bc(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(_c(e,this.value)):null!==e&&mc(this.value)===mc(e)&&this.m(_c(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return zu()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),qc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=uc.fromName(r.referenceValue),i}return Object(Du.c)(e,t),e.prototype.matches=function(t){var e=uc.comparator(t.key,this.key);return this.m(e)},e}(Uc),zc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Hc(0,n),r}return Object(Du.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Uc),Bc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Hc(0,n),r}return Object(Du.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Uc);function Hc(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return uc.fromName(t.referenceValue)})}var Qc=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Du.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Ic(e)&&wc(e.arrayValue,this.value)},e}(Uc),Gc=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Du.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&wc(this.value.arrayValue,e)},e}(Uc),Kc=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Du.c)(e,t),e.prototype.matches=function(t){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!wc(this.value.arrayValue,e)},e}(Uc),Yc=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Du.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Ic(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return wc(e.value.arrayValue,t)})},e}(Uc),Wc=function(t,e){this.position=t,this.before=e};function Jc(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Ec(t)}).join(",")}var Xc=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Zc(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function $c(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?uc.comparator(uc.fromName(a.referenceValue),n.key):_c(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function tl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!bc(t.position[n],e.position[n]))return!1;return!0}var el=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function nl(t,e,n,r,i,o,a,s){return new el(t,e,n,r,i,o,a,s)}function rl(t){return new el(t)}function il(t){return!$u(t.limit)&&"F"===t.limitType}function ol(t){return!$u(t.limit)&&"L"===t.limitType}function al(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function sl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function ul(t){return null!==t.collectionGroup}function cl(t){var e=Hu(t);if(null===e.p){e.p=[];var n=sl(e),r=al(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Xc(n)),e.p.push(new Xc(sc.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Xc(sc.keyField(),u))}}}return e.p}function ll(t){var e=Hu(t);if(!e.T)if("F"===e.limitType)e.T=Lc(e.path,e.collectionGroup,cl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=cl(e);r<i.length;r++){var o=i[r];n.push(new Xc(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new Wc(e.endAt.position,!e.endAt.before):null,s=e.startAt?new Wc(e.startAt.position,!e.startAt.before):null;e.T=Lc(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function hl(t,e,n){return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fl(t,e){return Vc(ll(t),ll(e))&&t.limitType===e.limitType}function dl(t){return Mc(ll(t))+"|lt:"+t.limitType}function pl(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Ec(e.value);var e}).join(", ")+"]"),$u(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Jc(t.startAt)),t.endAt&&(e+=", endAt: "+Jc(t.endAt)),"Target("+e+")"}(ll(t))+"; limitType="+t.limitType+")"}function vl(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):uc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!$c(t.startAt,cl(t),e)||t.endAt&&$c(t.endAt,cl(t),e))}(t,e)}function yl(t){return function(e,n){for(var r=!1,i=0,o=cl(t);i<o.length;i++){var a=o[i],s=gl(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function gl(t,e,n){var r=t.field.isKeyField()?uc.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?_c(r,i):zu()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return zu()}}var ml=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new pc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),bl=function(){function t(t){this.fields=t,t.sort(sc.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Yu(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),wl=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!xc(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return bc(this.proto,t.proto)},t}(),_l=function(){function t(t){void 0===t&&(t=wl.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===mc(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(sc.emptyPath(),this.A);return null!=t?new wl(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,i=this.I.field(t),o=xc(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var a=n.P(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function kl(t){var e=[];return Xu(t.fields||{},function(t,n){var r=new sc([t]);if(xc(n)){var i=kl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)}),new bl(e)}function El(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(e)?"-0":e}}function Ol(t){return{integerValue:""+t}}function Cl(t,e){return ec(e)?Ol(e):El(t,e)}var Sl=function(){this._=void 0};function Il(t,e,n){return t instanceof xl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof jl?Rl(t,e):t instanceof Nl?Dl(t,e):function(t,e){var n=Al(t,e),r=Ll(n)+Ll(t.S);return Sc(n)&&Sc(t.S)?Ol(r):El(t.D,r)}(t,e)}function Tl(t,e,n){return t instanceof jl?Rl(t,e):t instanceof Nl?Dl(t,e):n}function Al(t,e){return t instanceof Pl?Sc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var xl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Du.c)(e,t),e}(Sl),jl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Du.c)(e,t),e}(Sl);function Rl(t,e){for(var n=Ml(e),r=function(t){n.some(function(e){return bc(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Nl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Du.c)(e,t),e}(Sl);function Dl(t,e){for(var n=Ml(e),r=function(t){n=n.filter(function(e){return!bc(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Pl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return Object(Du.c)(e,t),e}(Sl);function Ll(t){return fc(t.integerValue||t.doubleValue)}function Ml(t){return Ic(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Vl=function(t,e){this.field=t,this.transform=e},Fl=function(t,e){this.version=t,this.transformResults=e},Ul=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ql(t,e){return void 0!==t.updateTime?e instanceof Rc&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Rc}var zl=function(){};function Bl(t,e,n){return t instanceof Yl?function(t,e,n){var r=t.value,i=Xl(t.fieldTransforms,e,n.transformResults);return r=$l(t.fieldTransforms,r,i),new Rc(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Wl?function(t,e,n){if(!ql(t.precondition,e))return new Dc(t.key,n.version);var r=Jl(t,e,Xl(t.fieldTransforms,e,n.transformResults));return new Rc(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Nc(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Hl(t,e,n){return t instanceof Yl?function(t,e,n){if(!ql(t.precondition,e))return e;var r=t.value,i=Zl(t.fieldTransforms,n,e);r=$l(t.fieldTransforms,r,i);var o=Kl(e);return new Rc(t.key,o,r,{hasLocalMutations:!0})}(t,e,n):t instanceof Wl?function(t,e,n){if(!ql(t.precondition,e))return e;var r=Kl(e),i=Jl(t,e,Zl(t.fieldTransforms,n,e));return new Rc(t.key,r,i,{hasLocalMutations:!0})}(t,e,n):function(t,e){return ql(t.precondition,e)?new Nc(t.key,ml.min()):e}(t,e)}function Ql(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof Rc?e.field(o.field):void 0,s=Al(o.transform,a||null);null!=s&&(n=null==n?(new _l).set(o.field,s):n.set(o.field,s))}return n?n.v():null}(t.fieldTransforms,e)}function Gl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Yu(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof jl&&e instanceof jl||t instanceof Nl&&e instanceof Nl?Yu(t.elements,e.elements,bc):t instanceof Pl&&e instanceof Pl?bc(t.S,e.S):t instanceof xl&&e instanceof xl}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Kl(t){return t instanceof Rc?t.version:ml.min()}var Yl=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Du.c)(e,t),e}(zl),Wl=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(Du.c)(e,t),e}(zl);function Jl(t,e,n){var r;return r=function(t,e){var n=new _l(e);return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.v()}(t,r=e instanceof Rc?e.data():wl.empty()),$l(t.fieldTransforms,r,n)}function Xl(t,e,n){var r=[];Bu(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof Rc&&(s=e.field(o.field)),r.push(Tl(a,s,n[i]))}return r}function Zl(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=null;n instanceof Rc&&(u=n.field(a.field)),r.push(Il(s,u,e))}return r}function $l(t,e,n){for(var r=new _l(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.v()}var th,eh,nh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Du.c)(e,t),e}(zl),rh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Du.c)(e,t),e}(zl),ih=function(t){this.count=t};function oh(t){switch(t){case nc.OK:return zu();case nc.CANCELLED:case nc.UNKNOWN:case nc.DEADLINE_EXCEEDED:case nc.RESOURCE_EXHAUSTED:case nc.INTERNAL:case nc.UNAVAILABLE:case nc.UNAUTHENTICATED:return!1;case nc.INVALID_ARGUMENT:case nc.NOT_FOUND:case nc.ALREADY_EXISTS:case nc.PERMISSION_DENIED:case nc.FAILED_PRECONDITION:case nc.ABORTED:case nc.OUT_OF_RANGE:case nc.UNIMPLEMENTED:case nc.DATA_LOSS:return!0;default:return zu()}}function ah(t){if(void 0===t)return Fu("GRPC error has no .code"),nc.UNKNOWN;switch(t){case th.OK:return nc.OK;case th.CANCELLED:return nc.CANCELLED;case th.UNKNOWN:return nc.UNKNOWN;case th.DEADLINE_EXCEEDED:return nc.DEADLINE_EXCEEDED;case th.RESOURCE_EXHAUSTED:return nc.RESOURCE_EXHAUSTED;case th.INTERNAL:return nc.INTERNAL;case th.UNAVAILABLE:return nc.UNAVAILABLE;case th.UNAUTHENTICATED:return nc.UNAUTHENTICATED;case th.INVALID_ARGUMENT:return nc.INVALID_ARGUMENT;case th.NOT_FOUND:return nc.NOT_FOUND;case th.ALREADY_EXISTS:return nc.ALREADY_EXISTS;case th.PERMISSION_DENIED:return nc.PERMISSION_DENIED;case th.FAILED_PRECONDITION:return nc.FAILED_PRECONDITION;case th.ABORTED:return nc.ABORTED;case th.OUT_OF_RANGE:return nc.OUT_OF_RANGE;case th.UNIMPLEMENTED:return nc.UNIMPLEMENTED;case th.DATA_LOSS:return nc.DATA_LOSS;default:return zu()}}(eh=th||(th={}))[eh.OK=0]="OK",eh[eh.CANCELLED=1]="CANCELLED",eh[eh.UNKNOWN=2]="UNKNOWN",eh[eh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",eh[eh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",eh[eh.NOT_FOUND=5]="NOT_FOUND",eh[eh.ALREADY_EXISTS=6]="ALREADY_EXISTS",eh[eh.PERMISSION_DENIED=7]="PERMISSION_DENIED",eh[eh.UNAUTHENTICATED=16]="UNAUTHENTICATED",eh[eh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",eh[eh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",eh[eh.ABORTED=10]="ABORTED",eh[eh.OUT_OF_RANGE=11]="OUT_OF_RANGE",eh[eh.UNIMPLEMENTED=12]="UNIMPLEMENTED",eh[eh.INTERNAL=13]="INTERNAL",eh[eh.UNAVAILABLE=14]="UNAVAILABLE",eh[eh.DATA_LOSS=15]="DATA_LOSS";var sh=function(){function t(t,e){this.comparator=t,this.root=e||ch.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ch.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ch.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new uh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new uh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new uh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new uh(this.root,t,this.comparator,!0)},t}(),uh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),ch=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw zu();if(this.right.isRed())throw zu();var t=this.left.check();if(t!==this.right.check())throw zu();return t+(this.isRed()?0:1)},t}();ch.EMPTY=null,ch.RED=!0,ch.BLACK=!1,ch.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw zu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw zu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw zu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw zu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw zu()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new ch(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var lh=function(){function t(t){this.comparator=t,this.data=new sh(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new hh(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new hh(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),hh=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),fh=new sh(uc.comparator);function dh(){return fh}function ph(){return dh()}var vh=new sh(uc.comparator);function yh(){return vh}var gh=new sh(uc.comparator);function mh(){return gh}var bh=new lh(uc.comparator);function wh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=bh,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var _h=new lh(Ku);function kh(){return _h}var Eh=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Oh.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(ml.min(),r,kh(),dh(),wh())},t}(),Oh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(cc.EMPTY_BYTE_STRING,n,wh(),wh(),wh())},t}(),Ch=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},Sh=function(t,e){this.targetId=t,this.$=e},Ih=function(t,e,n,r){void 0===n&&(n=cc.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Th=function(){function t(){this.F=0,this.O=jh(),this.k=cc.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=wh(),e=wh(),n=wh();return this.O.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:zu()}}),new Oh(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=jh()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),Ah=function(){function t(t){this.X=t,this.Z=new Map,this.tt=dh(),this.et=xh(),this.nt=new lh(Ku)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof Rc?this.it(r,t.N):t.N instanceof Nc&&this.rt(r,t.key,t.N)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.rt(r=o[i],t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:zu()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach(function(t,r){n.at(r)&&e(r)})},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var i=r.target;if(Fc(i))if(0===n){var o=new uc(i.path);this.rt(e,o,new Nc(o,ml.min()))}else Bu(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach(function(r,i){var o=e.lt(i);if(o){if(r.current&&Fc(o.target)){var a=new uc(o.target.path);null!==e.tt.get(a)||e.wt(i,a)||e.rt(i,a,new Nc(a,t))}r.q&&(n.set(i,r.K()),r.W())}});var r=wh();this.et.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.lt(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Eh(t,n,this.nt,this.tt,r);return this.tt=dh(),this.et=xh(),this.nt=new lh(Ku),i},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new Th,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new lh(Ku),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||Vu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new Th),this.X.getRemoteKeysForTarget(t).forEach(function(n){e.rt(t,n,null)})},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function xh(){return new sh(uc.comparator)}function jh(){return new sh(uc.comparator)}var Rh={asc:"ASCENDING",desc:"DESCENDING"},Nh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dh=function(t,e){this.databaseId=t,this.V=e};function Ph(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lh(t,e){return t.V?e.toBase64():e.toUint8Array()}function Mh(t,e){return Ph(t,e.toTimestamp())}function Vh(t){return Bu(!!t),ml.fromTimestamp(function(t){var e=hc(t);return new pc(e.seconds,e.nanos)}(t))}function Fh(t,e){return function(t){return new oc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Uh(t){var e=oc.fromString(t);return Bu(hf(e)),e}function qh(t,e){return Fh(t.databaseId,e.path)}function zh(t,e){var n=Uh(e);if(n.get(1)!==t.databaseId.projectId)throw new rc(nc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new rc(nc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new uc(Gh(n))}function Bh(t,e){return Fh(t.databaseId,e)}function Hh(t){var e=Uh(t);return 4===e.length?oc.emptyPath():Gh(e)}function Qh(t){return new oc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Gh(t){return Bu(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Kh(t,e,n){return{name:qh(t,e),fields:n.proto.mapValue.fields}}function Yh(t,e,n){var r=zh(t,e.name),i=Vh(e.updateTime),o=new wl({mapValue:{fields:e.fields}});return new Rc(r,i,o,{hasCommittedMutations:!!n})}function Wh(t,e){var n;if(e instanceof Yl)n={update:Kh(t,e.key,e.value)};else if(e instanceof nh)n={delete:qh(t,e.key)};else if(e instanceof Wl)n={update:Kh(t,e.key,e.data),updateMask:lf(e.fieldMask)};else{if(!(e instanceof rh))return zu();n={verify:qh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof xl)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof jl)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Nl)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Pl)return{fieldPath:e.field.canonicalString(),increment:n.S};throw zu()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Mh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:zu()}(t,e.precondition)),n}function Jh(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ul.updateTime(Vh(t.updateTime)):void 0!==t.exists?Ul.exists(t.exists):Ul.none()}(e.currentDocument):Ul.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Bu("REQUEST_TIME"===e.setToServerValue),n=new xl):"appendMissingElements"in e?n=new jl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Nl(e.removeAllFromArray.values||[]):"increment"in e?n=new Pl(t,e.increment):zu();var r=sc.fromServerFormat(e.fieldPath);return new Vl(r,n)}(t,e)}):[];if(e.update){var i=zh(t,e.update.name),o=new wl({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new bl((t.fieldPaths||[]).map(function(t){return sc.fromServerFormat(t)}))}(e.updateMask);return new Wl(i,o,a,n,r)}return new Yl(i,o,n,r)}if(e.delete){var s=zh(t,e.delete);return new nh(s,n)}if(e.verify){var u=zh(t,e.verify);return new rh(u,n)}return zu()}function Xh(t,e){return{documents:[Bh(t,e.path)]}}function Zh(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Bh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Bh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Ac(t.value))return{unaryFilter:{field:af(t.field),op:"IS_NAN"}};if(Tc(t.value))return{unaryFilter:{field:af(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ac(t.value))return{unaryFilter:{field:af(t.field),op:"IS_NOT_NAN"}};if(Tc(t.value))return{unaryFilter:{field:af(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:af(t.field),op:of(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:af(t.field),direction:rf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.V||$u(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=ef(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ef(e.endAt)),n}function $h(t){var e=Hh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Bu(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=tf(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new Xc(sf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return $u(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=nf(n.startAt));var l=null;return n.endAt&&(l=nf(n.endAt)),nl(e,i,s,a,u,"F",c,l)}function tf(t){return t?void 0!==t.unaryFilter?[cf(t)]:void 0!==t.fieldFilter?[uf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return tf(t)}).reduce(function(t,e){return t.concat(e)}):zu():[]}function ef(t){return{before:t.before,values:t.position}}function nf(t){return new Wc(t.values||[],!!t.before)}function rf(t){return Rh[t]}function of(t){return Nh[t]}function af(t){return{fieldPath:t.canonicalString()}}function sf(t){return sc.fromServerFormat(t.fieldPath)}function uf(t){return Uc.create(sf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return zu()}}(t.fieldFilter.op),t.fieldFilter.value)}function cf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=sf(t.unaryFilter.field);return Uc.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=sf(t.unaryFilter.field);return Uc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=sf(t.unaryFilter.field);return Uc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=sf(t.unaryFilter.field);return Uc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return zu()}}function lf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function hf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function ff(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=pf(e)),e=df(t.get(n),e);return pf(e)}function df(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function pf(t){return t+"\x01\x01"}function vf(t){var e=t.length;if(Bu(e>=2),2===e)return Bu("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),oc.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&zu(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:zu()}o=a+2}return new oc(r)}var yf=function(t,e){this.seconds=t,this.nanoseconds=e},gf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};gf.store="owner",gf.key="owner";var mf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};mf.store="mutationQueues",mf.keyPath="userId";var bf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};bf.store="mutations",bf.keyPath="batchId",bf.userMutationsIndex="userMutationsIndex",bf.userMutationsKeyPath=["userId","batchId"];var wf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ff(e)]},t.key=function(t,e,n){return[t,ff(e),n]},t}();wf.store="documentMutations",wf.PLACEHOLDER=new wf;var _f=function(t,e){this.path=t,this.readTime=e},kf=function(t,e){this.path=t,this.version=e},Ef=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ef.store="remoteDocuments",Ef.readTimeIndex="readTimeIndex",Ef.readTimeIndexPath="readTime",Ef.collectionReadTimeIndex="collectionReadTimeIndex",Ef.collectionReadTimeIndexPath=["parentPath","readTime"];var Of=function(t){this.byteSize=t};Of.store="remoteDocumentGlobal",Of.key="remoteDocumentGlobalKey";var Cf=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Cf.store="targets",Cf.keyPath="targetId",Cf.queryTargetsIndexName="queryTargetsIndex",Cf.queryTargetsKeyPath=["canonicalId","targetId"];var Sf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Sf.store="targetDocuments",Sf.keyPath=["targetId","path"],Sf.documentTargetsIndex="documentTargetsIndex",Sf.documentTargetsKeyPath=["path","targetId"];var If=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};If.key="targetGlobalKey",If.store="targetGlobal";var Tf=function(t,e){this.collectionId=t,this.parent=e};Tf.store="collectionParents",Tf.keyPath=["collectionId","parent"];var Af=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Af.store="clientMetadata",Af.keyPath="clientId";var xf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};xf.store="bundles",xf.keyPath="bundleId";var jf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};jf.store="namedQueries",jf.keyPath="name";var Rf=Object(Du.f)(Object(Du.f)([],Object(Du.f)(Object(Du.f)([],Object(Du.f)(Object(Du.f)([],Object(Du.f)(Object(Du.f)([],[mf.store,bf.store,wf.store,Ef.store,Cf.store,gf.store,If.store,Sf.store]),[Af.store])),[Of.store])),[Tf.store])),[xf.store,jf.store]),Nf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Df=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Pf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Lf=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&zu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Mf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new Pf,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new Uf(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=Qf(e.target.error);n.gt.reject(new Uf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Uf(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(Vu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new zf(e)},t}(),Vf=function(){function t(e,n,r){this.name=e,this.version=n,this.Tt=r,12.2===t.It(Object(ji.j)())&&Fu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Vu("SimpleDb","Removing database:",t),Bf(window.indexedDB.deleteDatabase(t)).toPromise()},t.At=function(){if("undefined"==typeof indexedDB)return!1;if(t.Rt())return!0;var e=Object(ji.j)(),n=t.It(e),r=0<n&&n<10,i=t.bt(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Rt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.vt)},t.Pt=function(t,e){return t.store(e)},t.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Vt=function(t){return Object(Du.b)(this,void 0,void 0,function(){var e,n=this;return Object(Du.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Vu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Uf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new rc(nc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Uf(t,n))},i.onupgradeneeded=function(t){Vu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Tt.St(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Vu("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}})})},t.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Du.b)(this,void 0,void 0,function(){var i,o,a,s,u;return Object(Du.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Object(Du.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Vt(t)];case 2:return s.db=h.sent(),e=Mf.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),Lf.reject(t)}).toPromise(),u={},a.catch(function(){}),[4,e.Et];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return Vu("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ff=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return Bf(this.xt.delete())},t}(),Uf=function(t){function e(e,n){var r=this;return(r=t.call(this,nc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Du.c)(e,t),e}(rc);function qf(t){return"IndexedDbTransactionError"===t.name}var zf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Vu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Vu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Bf(n)},t.prototype.add=function(t){return Vu("SimpleDb","ADD",this.store.name,t,t),Bf(this.store.add(t))},t.prototype.get=function(t){var e=this;return Bf(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Vu("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Vu("SimpleDb","DELETE",this.store.name,t),Bf(this.store.delete(t))},t.prototype.count=function(){return Vu("SimpleDb","COUNT",this.store.name),Bf(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Lt=function(t,e){Vu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,function(t,e,n){return n.delete()})},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new Lf(function(n,r){e.onerror=function(t){var e=Qf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.Mt=function(t,e){var n=[];return new Lf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ff(i),a=e(i.primaryKey,i.value,o);if(a instanceof Lf){var s=a.catch(function(t){return o.done(),Lf.reject(t)});n.push(s)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}}).next(function(){return Lf.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Bf(t){return new Lf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Qf(t.target.error);n(e)}})}var Hf=!1;function Qf(t){var e=Vf.It(Object(ji.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new rc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Hf||(Hf=!0,setTimeout(function(){throw r},0)),r}}return t}var Gf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return Object(Du.c)(e,t),e}(Df);function Kf(t,e){var n=Hu(t);return Vf.Pt(n.Qt,e)}var Yf=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Bl(o,e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=Hl(a,e,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(t)&&(e=Hl(a,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},wh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Yu(this.mutations,t.mutations,function(t,e){return Gl(t,e)})&&Yu(this.baseMutations,t.baseMutations,function(t,e){return Gl(t,e)})},t}(),Wf=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Bu(e.mutations.length===r.length);for(var i=mh(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Jf=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=ml.min()),void 0===o&&(o=ml.min()),void 0===a&&(a=cc.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Xf=function(t){this.Kt=t};function Zf(t,e){if(e.document)return Yh(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=uc.fromSegments(e.noDocument.path),r=rd(e.noDocument.readTime);return new Nc(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=uc.fromSegments(e.unknownDocument.path);return r=rd(e.unknownDocument.version),new Dc(i,r)}return zu()}function $f(t,e,n){var r=td(n),i=e.key.path.popLast().toArray();if(e instanceof Rc){var o=function(t,e){return{name:qh(t,e.key),fields:e.toProto().mapValue.fields,updateTime:Ph(t,e.version.toTimestamp())}}(t.Kt,e),a=e.hasCommittedMutations;return new Ef(null,null,o,a,r,i)}if(e instanceof Nc){var s=e.key.path.toArray(),u=nd(e.version);return a=e.hasCommittedMutations,new Ef(null,new _f(s,u),null,a,r,i)}if(e instanceof Dc){var c=e.key.path.toArray(),l=nd(e.version);return new Ef(new kf(c,l),null,null,!0,r,i)}return zu()}function td(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ed(t){var e=new pc(t[0],t[1]);return ml.fromTimestamp(e)}function nd(t){var e=t.toTimestamp();return new yf(e.seconds,e.nanoseconds)}function rd(t){var e=new pc(t.seconds,t.nanoseconds);return ml.fromTimestamp(e)}function id(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Jh(t.Kt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Jh(t.Kt,e)}),o=pc.fromMillis(e.localWriteTimeMs);return new Yf(e.batchId,o,n,i)}function od(t){var e,n,r=rd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?rd(t.lastLimboFreeSnapshotVersion):ml.min();return void 0!==t.query.documents?(Bu(1===(n=t.query).documents.length),e=ll(rl(Hh(n.documents[0])))):e=function(t){return ll($h(t))}(t.query),new Jf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,cc.fromBase64String(t.resumeToken))}function ad(t,e){var n,r=nd(e.snapshotVersion),i=nd(e.lastLimboFreeSnapshotVersion);n=Fc(e.target)?Xh(t.Kt,e.target):Zh(t.Kt,e.target);var o=e.resumeToken.toBase64();return new Cf(e.targetId,Mc(e.target),r,o,e.sequenceNumber,i,n)}function sd(t){var e=$h({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?hl(e,e.limit,"L"):e}var ud=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return cd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:rd(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return cd(t).put({bundleId:(n=e).id,createTime:nd(Vh(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return ld(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:sd(e.bundledQuery),readTime:rd(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return ld(t).put(function(t){return{name:t.name,readTime:nd(Vh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function cd(t){return Kf(t,xf.store)}function ld(t){return Kf(t,jf.store)}var hd=function(){function t(){this.Wt=new fd}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),Lf.resolve()},t.prototype.getCollectionParents=function(t,e){return Lf.resolve(this.Wt.getEntries(e))},t}(),fd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new lh(oc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new lh(oc.comparator)).toArray()},t}(),dd=function(){function t(){this.jt=new fd}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.jt.add(e)});var o={collectionId:r,parent:ff(i)};return pd(t).put(o)}return Lf.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Wu(e),""],!1,!0);return pd(t).kt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(vf(o.parent))}return n})},t}();function pd(t){return Kf(t,Tf.store)}var vd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yd=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function gd(t,e,n){var r=t.store(bf.store),i=t.store(wf.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.qt({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){Bu(1===s)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=wf.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Lf.waitFor(o).next(function(){return c})}function md(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw zu();e=t.noDocument}return JSON.stringify(e).length}yd.DEFAULT_COLLECTION_PERCENTILE=10,yd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yd.DEFAULT=new yd(41943040,yd.DEFAULT_COLLECTION_PERCENTILE,yd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yd.DISABLED=new yd(-1,0,0);var bd=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,i){return Bu(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _d(t).qt({index:bf.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=kd(t),a=_d(t);return a.add({}).next(function(s){Bu("number"==typeof s);for(var u=new Yf(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Wh(t.Kt,e)}),i=n.mutations.map(function(e){return Wh(t.Kt,e)});return new bf(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],h=new lh(function(t,e){return Ku(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],v=wf.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,wf.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Gt.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.zt[s]=u.keys()}),Lf.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return _d(t).get(e).next(function(t){return t?(Bu(t.userId===n.userId),id(n.D,t)):null})},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?Lf.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return _d(t).qt({index:bf.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Bu(e.batchId>=r),o=id(n.D,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return _d(t).qt({index:bf.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _d(t).kt(bf.userMutationsIndex,n).next(function(t){return t.map(function(t){return id(e.D,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=wf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return kd(t).qt({range:i},function(r,i,a){var s=r[0],u=r[2],c=vf(r[1]);if(s===n.userId&&e.path.isEqual(c))return _d(t).get(u).next(function(t){if(!t)throw zu();Bu(t.userId===n.userId),o.push(id(n.D,t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new lh(Ku),i=[];return e.forEach(function(e){var o=wf.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=kd(t).qt({range:a},function(t,i,o){var a=t[0],s=t[2],u=vf(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),Lf.waitFor(i).next(function(){return n.Yt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=wf.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new lh(Ku);return kd(t).qt({range:a},function(t,e,o){var a=t[0],u=t[2],c=vf(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.Yt(t,s)})},t.prototype.Yt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(_d(t).get(e).next(function(t){if(null===t)throw zu();Bu(t.userId===n.userId),r.push(id(n.D,t))}))}),Lf.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return gd(t.Qt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Xt(e.batchId)}),Lf.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Lf.resolve();var r=IDBKeyRange.lowerBound(wf.prefixForUser(e.userId)),i=[];return kd(t).qt({range:r},function(t,n,r){if(t[0]===e.userId){var o=vf(t[1]);i.push(o)}else r.done()}).next(function(){Bu(0===i.length)})})},t.prototype.containsKey=function(t,e){return wd(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return Ed(t).get(this.userId).next(function(t){return t||new mf(e.userId,-1,"")})},t}();function wd(t,e,n){var r=wf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return kd(t).qt({range:o,Bt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function _d(t){return Kf(t,bf.store)}function kd(t){return Kf(t,wf.store)}function Ed(t){return Kf(t,mf.store)}var Od=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),Cd=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next(function(n){var r=new Od(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next(function(t){return ml.fromTimestamp(new pc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ie(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next(function(){return n.se(t).next(function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Sd(t).delete(e.targetId)}).next(function(){return n.se(t)}).next(function(e){return Bu(e.targetCount>0),e.targetCount-=1,n.ie(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Sd(t).qt(function(a,s){var u=od(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Lf.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Sd(t).qt(function(t,n){var r=od(n);e(r)})},t.prototype.se=function(t){return Id(t).get(If.key).next(function(t){return Bu(null!==t),t})},t.prototype.ie=function(t,e){return Id(t).put(If.key,e)},t.prototype.re=function(t,e){return Sd(t).put(ad(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Mc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Sd(t).qt({range:r,index:Cf.queryTargetsIndexName},function(t,n,r){var o=od(n);Vc(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Td(t);return e.forEach(function(e){var a=ff(e.path);i.push(o.put(new Sf(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),Lf.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Td(t);return Lf.forEach(e,function(e){var o=ff(e.path);return Lf.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Td(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Td(t),i=wh();return r.qt({range:n,Bt:!0},function(t,e,n){var r=vf(t[1]),o=new uc(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=ff(e.path),r=IDBKeyRange.bound([n],[Wu(n)],!1,!0),i=0;return Td(t).qt({index:Sf.documentTargetsIndex,Bt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.yt=function(t,e){return Sd(t).get(e).next(function(t){return t?od(t):null})},t}();function Sd(t){return Kf(t,Cf.store)}function Id(t){return Kf(t,If.store)}function Td(t){return Kf(t,Sf.store)}function Ad(t){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(e){if(t.code!==nc.FAILED_PRECONDITION||t.message!==Nf)throw t;return Vu("LocalStore","Unexpectedly lost primary lease"),[2]})})}function xd(t,e){var n=t[1],r=e[1],i=Ku(t[0],e[0]);return 0===i?Ku(n,r):i}var jd=function(){function t(t){this.ce=t,this.buffer=new lh(xd),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();xd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Rd=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;Vu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Du.b)(e,void 0,void 0,function(){var e;return Object(Du.d)(this,function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return qf(e=n.sent())?(Vu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ad(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}})})})},t}(),Nd=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Lf.resolve(Pu.o);var r=new jd(e);return this.we.forEachTarget(t,function(t){return r.he(t.sequenceNumber)}).next(function(){return n.we.me(t,function(t){return r.he(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Vu("LruGarbageCollector","Garbage collection skipped; disabled"),Lf.resolve(vd)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Vu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),vd):n.ye(t,e)})},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Vu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Mu()<=xi.a.DEBUG&&Vu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Lf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Dd=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Nd(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.ge=function(t){var e=0;return this.me(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Pd(t,n)},t.prototype.removeReference=function(t,e,n){return Pd(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Pd(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return Ed(t).Ut(function(r){return wd(t,r,e).next(function(t){return t&&(n=!0),Lf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(t,function(a,s){if(s<=e){var u=n.Ee(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),Td(t).delete([0,ff(a.path)])})});i.push(u)}}).next(function(){return Lf.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Pd(t,e)},t.prototype.pe=function(t,e){var n,r=Td(t),i=Pu.o;return r.qt({index:Sf.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==Pu.o&&e(new uc(vf(n)),i),i=a,n=o):i=Pu.o}).next(function(){i!==Pu.o&&e(new uc(vf(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Pd(t,e){return Td(t).put(function(t,e){return new Sf(0,ff(t.path),e)}(e,t.currentSequenceNumber))}var Ld=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Xu(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Zu(this.inner)},t}(),Md=function(){function t(){this.changes=new Ld(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:ml.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Lf.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Vd=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return qd(t).put(zd(e),n)},t.prototype.removeEntry=function(t,e){var n=qd(t),r=zd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Te(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return qd(t).get(zd(e)).next(function(t){return n.Ie(t)})},t.prototype.Ae=function(t,e){var n=this;return qd(t).get(zd(e)).next(function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:md(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=ph();return this.Re(t,e,function(t,e){var i=n.Ie(e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.be=function(t,e){var n=this,r=ph(),i=new sh(uc.comparator);return this.Re(t,e,function(t,e){var o=n.Ie(e);o?(r=r.insert(t,o),i=i.insert(t,md(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{ve:r,Pe:i}})},t.prototype.Re=function(t,e,n){if(e.isEmpty())return Lf.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return qd(t).qt({range:r},function(t,e,r){for(var a=uc.fromSegments(t);o&&uc.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=yh(),o=e.path.length+1,a={};if(n.isEqual(ml.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=td(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Ef.collectionReadTimeIndex}return qd(t).qt(a,function(t,n,a){if(t.length===o){var s=Zf(r.D,n);e.path.isPrefixOf(s.key.path)?s instanceof Rc&&vl(e,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Fd(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Ud(t).get(Of.key).next(function(t){return Bu(!!t),t})},t.prototype.Te=function(t,e){return Ud(t).put(Of.key,e)},t.prototype.Ie=function(t){if(t){var e=Zf(this.D,t);return e instanceof Nc&&e.version.isEqual(ml.min())?null:e}return null},t}(),Fd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new Ld(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Du.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new lh(function(t,e){return Ku(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s=e.Se.get(o);if(a.maybeDocument){var u=$f(e.Ve.D,a.maybeDocument,e.getReadTime(o));i=i.add(o.path.popLast());var c=md(u);r+=c-s,n.push(e.Ve.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=$f(e.Ve.D,new Nc(o,ml.min()),e.getReadTime(o));n.push(e.Ve.addEntry(t,o,l))}else n.push(e.Ve.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))}),n.push(this.Ve.updateMetadata(t,r)),Lf.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next(function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next(function(t){var e=t.ve;return t.Pe.forEach(function(t,e){n.Se.set(t,e)}),e})},e}(Md);function Ud(t){return Kf(t,Of.store)}function qd(t){return Kf(t,Ef.store)}function zd(t){return t.path.toArray()}var Bd=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var i=this;Bu(n<r&&n>=0&&r<=11);var o=new Mf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(gf.store)}(t),function(t){t.createObjectStore(mf.store,{keyPath:mf.keyPath}),t.createObjectStore(bf.store,{keyPath:bf.keyPath,autoIncrement:!0}).createIndex(bf.userMutationsIndex,bf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(wf.store)}(t),Hd(t),function(t){t.createObjectStore(Ef.store)}(t));var a=Lf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Sf.store),t.deleteObjectStore(Cf.store),t.deleteObjectStore(If.store)}(t),Hd(t)),a=a.next(function(){return function(t){var e=t.store(If.store),n=new If(0,0,ml.min().toTimestamp(),0);return e.put(If.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(bf.store).kt().next(function(n){t.deleteObjectStore(bf.store),t.createObjectStore(bf.store,{keyPath:bf.keyPath,autoIncrement:!0}).createIndex(bf.userMutationsIndex,bf.userMutationsKeyPath,{unique:!0});var r=e.store(bf.store),i=n.map(function(t){return r.put(t)});return Lf.waitFor(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(Af.store,{keyPath:Af.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.De(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(Of.store)}(t),i.Ce(o)})),n<7&&r>=7&&(a=a.next(function(){return i.xe(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Ne(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ef.store);e.createIndex(Ef.readTimeIndex,Ef.readTimeIndexPath,{unique:!1}),e.createIndex(Ef.collectionReadTimeIndex,Ef.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.$e(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(xf.store,{keyPath:xf.keyPath})}(t),function(t){t.createObjectStore(jf.store,{keyPath:jf.keyPath})}(t)})),a},t.prototype.Ce=function(t){var e=0;return t.store(Ef.store).qt(function(t,n){e+=md(n)}).next(function(){var n=new Of(e);return t.store(Of.store).put(Of.key,n)})},t.prototype.De=function(t){var e=this,n=t.store(mf.store),r=t.store(bf.store);return n.kt().next(function(n){return Lf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(bf.userMutationsIndex,i).next(function(r){return Lf.forEach(r,function(r){Bu(r.userId===n.userId);var i=id(e.D,r);return gd(t,n.userId,i).next(function(){})})})})})},t.prototype.xe=function(t){var e=t.store(Sf.store),n=t.store(Ef.store);return t.store(If.store).get(If.key).next(function(t){var r=[];return n.qt(function(n,i){var o=new oc(n),a=function(t){return[0,ff(t)]}(o);r.push(e.get(a).next(function(n){return n?Lf.resolve():function(n){return e.put(new Sf(0,ff(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Lf.waitFor(r)})})},t.prototype.Ne=function(t,e){t.createObjectStore(Tf.store,{keyPath:Tf.keyPath});var n=e.store(Tf.store),r=new fd,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:ff(i)})}};return e.store(Ef.store).qt({Bt:!0},function(t,e){var n=new oc(t);return i(n.popLast())}).next(function(){return e.store(wf.store).qt({Bt:!0},function(t,e){var n=vf(t[1]);return i(n.popLast())})})},t.prototype.$e=function(t){var e=this,n=t.store(Cf.store);return n.qt(function(t,r){var i=od(r),o=ad(e.D,i);return n.put(o)})},t}();function Hd(t){t.createObjectStore(Sf.store,{keyPath:Sf.keyPath}).createIndex(Sf.documentTargetsIndex,Sf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Cf.store,{keyPath:Cf.keyPath}).createIndex(Cf.queryTargetsIndexName,Cf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(If.store)}var Qd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Gd=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=a,this.document=s,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new rc(nc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Dd(this,i),this.We=n+"main",this.D=new Xf(u),this.je=new Vf(this.We,11,new Bd(this.D)),this.Ge=new Cd(this.referenceDelegate,this.D),this.Gt=new dd,this.ze=function(t,e){return new Vd(t,e)}(this.D,this.Gt),this.He=new ud,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&Fu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new rc(nc.FAILED_PRECONDITION,Qd);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ge.getHighestSequenceNumber(e)})}).then(function(e){t.Me=new Pu(e,t.Oe)}).then(function(){t.Le=!0}).catch(function(e){return t.je&&t.je.close(),Promise.reject(e)})},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(Du.b)(e,void 0,void 0,function(){return Object(Du.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct(function(n){return Object(Du.b)(e,void 0,void 0,function(){return Object(Du.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget(function(){return Object(Du.b)(e,void 0,void 0,function(){return Object(Du.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Yd(e).put(new Af(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nn(e).next(function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable(function(){return t.Ke(!1)}))})}).next(function(){return t.sn(e)}).next(function(n){return t.isPrimary&&!n?t.rn(e).next(function(){return!1}):!!n&&t.on(e).next(function(){return!0})})}).catch(function(e){if(qf(e))return Vu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Vu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable(function(){return t.Ke(e)}),t.isPrimary=e})},t.prototype.nn=function(t){var e=this;return Kd(t).get(gf.key).next(function(t){return Lf.resolve(e.cn(t))})},t.prototype.an=function(t){return Yd(t).delete(this.clientId)},t.prototype.un=function(){return Object(Du.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Du.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Kf(t,Af.store);return e.kt().next(function(t){var n=r.ln(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Lf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Je)for(e=0,n=t;e<n.length;e++)this.Je.removeItem(this.fn(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.Ye().then(function(){return t.un()}).then(function(){return t.tn()})})},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?Lf.resolve(!0):Kd(t).get(gf.key).next(function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new rc(nc.FAILED_PRECONDITION,Qd);return!1}}return!(!e.networkEnabled||!e.inForeground)||Yd(t).kt().next(function(t){return void 0===e.ln(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Vu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Du.b)(this,void 0,void 0,function(){var t=this;return Object(Du.d)(this,function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[gf.store,Af.store],function(e){var n=new Gf(e,Pu.o);return t.rn(n).next(function(){return t.an(n)})})];case 1:return e.sent(),this.je.close(),this.yn(),[2]}})})},t.prototype.ln=function(t,e){var n=this;return t.filter(function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)})},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Yd(e).kt().next(function(e){return t.ln(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return bd.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Vu("IndexedDbPersistence","Starting transaction:",t),this.je.runTransaction(t,"readonly"===e?"readonly":"readwrite",Rf,function(o){return r=new Gf(o,i.Me?i.Me.next():Pu.o),"readwrite-primary"===e?i.nn(r).next(function(t){return!!t||i.sn(r)}).next(function(e){if(!e)throw Fu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Fe.enqueueRetryable(function(){return i.Ke(!1)}),new rc(nc.FAILED_PRECONDITION,Nf);return n(r)}).next(function(t){return i.on(r).next(function(){return t})}):i.pn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.pn=function(t){var e=this;return Kd(t).get(gf.key).next(function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new rc(nc.FAILED_PRECONDITION,Qd)})},t.prototype.on=function(t){var e=new gf(this.clientId,this.allowTabSynchronization,Date.now());return Kd(t).put(gf.key,e)},t.At=function(){return Vf.At()},t.prototype.rn=function(t){var e=this,n=Kd(t);return n.get(gf.key).next(function(t){return e.cn(t)?(Vu("IndexedDbPersistence","Releasing primary lease."),n.delete(gf.key)):Lf.resolve()})},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Fu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()})},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return Vu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Fu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){Fu("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Kd(t){return Kf(t,gf.store)}function Yd(t){return Kf(t,Af.store)}function Wd(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Jd=function(t,e){this.progress=t,this.En=e},Xd=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.An(t,e,r)})},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.Rn=function(t,e,n){var r=ph();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next(function(e){return n.vn(t,e)})},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.Rn(t,e,r),o=dh();return i.forEach(function(t,e){e||(e=new Nc(t,ml.min())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return uc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):ul(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new uc(e)).next(function(t){var e=yh();return t instanceof Rc&&(e=e.insert(t.key,t)),e})},t.prototype.Vn=function(t,e,n){var r=this,i=e.collectionGroup,o=yh();return this.Gt.getCollectionParents(t,i).next(function(a){return Lf.forEach(a,function(a){var s=function(t,e){return new el(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.Sn(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.Sn=function(t,e,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Dn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=Hl(u,r.get(c),o.localWriteTime);r=l instanceof Rc?r.insert(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){vl(e,n)||(r=r.remove(t))}),r})},t.prototype.Dn=function(t,e,n){for(var r=wh(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Wl&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Rc&&(c=c.insert(t,e))}),c})},t}(),Zd=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=wh(),i=wh(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),$d=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(ml.min())?this.On(t,e):this.Fn.bn(t,r).next(function(o){var a=i.kn(e,o);return(il(e)||ol(e))&&i.Mn(e.limitType,a,r,n)?i.On(t,e):(Mu()<=xi.a.DEBUG&&Vu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),pl(e)),i.Fn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.kn=function(t,e){var n=new lh(yl(t));return e.forEach(function(e,r){r instanceof Rc&&vl(t,r)&&(n=n.add(r))}),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.On=function(t,e){return Mu()<=xi.a.DEBUG&&Vu("QueryEngine","Using full collection scan to execute query:",pl(e)),this.Fn.getDocumentsMatchingQuery(t,e,ml.min())},t}(),tp=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new sh(Ku),this.qn=new Ld(function(t){return Mc(t)},Vc),this.Un=ml.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new Xd(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Bn)})},t}();function ep(t,e,n,r){return new tp(t,e,n,r)}function np(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Du.d)(this,function(a){switch(a.label){case 0:return n=Hu(t),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Tn.getAllMutationBatches(t).next(function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Xd(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],a=wh(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i.bn(t,a).next(function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}})})}function rp(t,e){var n=Hu(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Lf.resolve();return o.forEach(function(t){a=a.next(function(){return r.getEntry(e,t)}).next(function(e){var o=e,a=n.docVersions.get(t);Bu(null!==a),(!o||o.version.compareTo(a)<0)&&(o=i.applyToRemoteDocument(t,o,n))&&r.addEntry(o,n.commitVersion)})}),a.next(function(){return t.Tn.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}function ip(t){var e=Hu(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ge.getLastRemoteSnapshotVersion(t)})}function op(t,e){var n=Hu(t),r=e.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var a=[];e.targetChanges.forEach(function(e,o){var s=i.get(o);if(s){a.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Bu(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.Ge.updateTargetData(t,c))}}});var s=dh();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(ap(t,o,e.documentUpdates,r,void 0).next(function(t){s=t})),!r.isEqual(ml.min())){var u=n.Ge.getLastRemoteSnapshotVersion(t).next(function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)});a.push(u)}return Lf.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Kn.vn(t,s)})}).then(function(t){return n.Bn=i,t})}function ap(t,e,n,r,i){var o=wh();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=dh();return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof Nc&&a.version.isEqual(ml.min())?(e.removeEntry(n,u),o=o.insert(n,a)):null==s||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Vu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function sp(t,e){var n=Hu(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)})}function up(t,e){var n=Hu(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Ge.getTargetData(t,e).next(function(i){return i?Lf.resolve(r=i):n.Ge.allocateTargetId(t).next(function(i){return r=new Jf(e,i,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function cp(t,e,n){return Object(Du.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(Du.d)(this,function(s){switch(s.label){case 0:r=Hu(t),i=r.Bn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!qf(a=s.sent()))throw a;return Vu("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(i.target),[2]}})})}function lp(t,e,n){var r=Hu(t),i=ml.min(),o=wh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Hu(t),i=r.qn.get(n);return void 0!==i?Lf.resolve(r.Bn.get(i)):r.Ge.getTargetData(e,n)}(r,t,ll(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?i:ml.min(),n?o:wh())}).next(function(t){return{documents:t,jn:o}})})}function hp(t,e){var n=Hu(t),r=Hu(n.Ge),i=n.Bn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.yt(t,e).next(function(t){return t?t.target:null})})}function fp(t){var e=Hu(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Hu(t),i=dh(),o=td(n),a=qd(e),s=IDBKeyRange.lowerBound(o,!0);return a.qt({index:Ef.readTimeIndex,range:s},function(t,e){var n=Zf(r.D,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{En:i,readTime:ed(o)}})}(e.Qn,t,e.Un)}).then(function(t){var n=t.En;return e.Un=t.readTime,n})}function dp(t){return Object(Du.b)(this,void 0,void 0,function(){var e;return Object(Du.d)(this,function(n){return[2,(e=Hu(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=qd(t),n=ml.min();return e.qt({index:Ef.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=ed(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Un=t})]})})}function pp(t,e,n,r){return Object(Du.b)(this,void 0,void 0,function(){var i,o,a,s,u,c,l,h,f,d;return Object(Du.d)(this,function(p){switch(p.label){case 0:for(i=Hu(t),o=wh(),a=dh(),s=mh(),u=0,c=n;u<c.length;u++)h=e.Gn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,e.zn(l)),s=s.insert(h,e.Hn(l.metadata.readTime));return f=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,up(i,function(t){return ll(rl(oc.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return ap(t,f,a,ml.min(),s).next(function(e){return f.apply(t),e}).next(function(e){return i.Ge.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.Ge.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Kn.vn(t,e)})})})]}})})}function vp(t,e,n){return void 0===n&&(n=wh()),Object(Du.b)(this,void 0,void 0,function(){var r,i;return Object(Du.d)(this,function(o){switch(o.label){case 0:return[4,up(t,ll(sd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Hu(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Vh(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(t,e);var a=r.withResumeToken(cc.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(a.targetId,a),i.Ge.updateTargetData(t,a).next(function(){return i.Ge.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.Ge.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.He.saveNamedQuery(t,e)})})]}})})}var yp=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Lf.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:Vh(n.createTime)}),Lf.resolve()},t.prototype.getNamedQuery=function(t,e){return Lf.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:sd(t.bundledQuery),readTime:Vh(t.readTime)}}(e)),Lf.resolve()},t}(),gp=function(){function t(){this.Xn=new lh(mp.Zn),this.ts=new lh(mp.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new mp(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.ss(new mp(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.os=function(t){var e=this,n=new uc(new oc([])),r=new mp(n,t),i=new mp(n,t+1),o=[];return this.ts.forEachInRange([r,i],function(t){e.ss(t),o.push(t.key)}),o},t.prototype.cs=function(){var t=this;this.Xn.forEach(function(e){return t.ss(e)})},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new uc(new oc([])),n=new mp(e,t),r=new mp(e,t+1),i=wh();return this.ts.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new mp(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),mp=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return uc.comparator(t.key,e.key)||Ku(t.hs,e.hs)},t.es=function(t,e){return Ku(t.hs,e.hs)||uc.comparator(t.key,e.key)},t}(),bp=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new lh(mp.Zn)}return t.prototype.checkEmpty=function(t){return Lf.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ls;this.ls++;var o=new Yf(i,e,n,r);this.Tn.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.fs=this.fs.add(new mp(u.key,i)),this.Gt.addToCollectionParentIndex(t,u.key.path.popLast())}return Lf.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Lf.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.ws(e+1),r=n<0?0:n;return Lf.resolve(this.Tn.length>r?this.Tn[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Lf.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return Lf.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new mp(e,0),i=new mp(e,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],function(t){var e=n.ds(t.hs);o.push(e)}),Lf.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new lh(Ku);return e.forEach(function(t){var e=new mp(t,0),i=new mp(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,i],function(t){r=r.add(t.hs)})}),Lf.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;uc.isDocumentKey(i)||(i=i.child(""));var o=new mp(new uc(i),0),a=new lh(Ku);return this.fs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.hs)),!0)},o),Lf.resolve(this._s(a))},t.prototype._s=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.ds(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Bu(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return Lf.forEach(e.mutations,function(i){var o=new mp(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.fs=r})},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new mp(e,0),r=this.fs.firstAfterOrEqual(n);return Lf.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Lf.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),wp=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new sh(uc.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:a,readTime:n}),this.size+=a-o,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Lf.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=ph();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Lf.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=yh(),i=new uc(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.maybeDocument,c=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||u instanceof Rc&&vl(e,u)&&(r=r.insert(u.key,u))}return Lf.resolve(r)},t.prototype.ps=function(t,e){return Lf.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new _p(this)},t.prototype.getSize=function(t){return Lf.resolve(this.size)},t}(),_p=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return Object(Du.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i&&i.maybeDocument?n.push(e.Ve.addEntry(t,i.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)}),Lf.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(Md),kp=function(){function t(t){this.persistence=t,this.Es=new Ld(function(t){return Mc(t)},Vc),this.lastRemoteSnapshotVersion=ml.min(),this.highestTargetId=0,this.Ts=0,this.Is=new gp,this.targetCount=0,this.As=Od.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach(function(t,n){return e(n)}),Lf.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Lf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Lf.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),Lf.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),Lf.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new Od(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,Lf.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),Lf.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,Lf.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.Es.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.Es.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Lf.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Lf.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return Lf.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),Lf.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Lf.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),Lf.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return Lf.resolve(n)},t.prototype.containsKey=function(t,e){return Lf.resolve(this.Is.containsKey(e))},t}(),Ep=function(){function t(t,e){var n=this;this.Rs={},this.Me=new Pu(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new kp(this),this.Gt=new hd,this.ze=function(t,e){return new wp(t,function(t){return n.referenceDelegate.bs(t)})}(this.Gt),this.D=new Xf(e),this.He=new yp(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new bp(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;Vu("MemoryPersistence","Starting transaction:",t);var i=new Op(this.Me.next());return this.referenceDelegate.vs(),n(i).next(function(t){return r.referenceDelegate.Ps(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Vs=function(t,e){return Lf.or(Object.values(this.Rs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Op=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Du.c)(e,t),e}(Df),Cp=function(){function t(t){this.persistence=t,this.Ss=new gp,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw zu()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),Lf.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),Lf.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),Lf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach(function(t){return n.xs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.xs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Lf.forEach(this.xs,function(r){var i=uc.fromPath(r);return e.Ns(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Ds=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next(function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())})},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return Lf.or([function(){return Lf.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),Sp=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Ip(t,e){return"firestore_clients_"+t+"_"+e}function Tp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Ap(t,e){return"firestore_targets_"+t+"_"+e}Sp.UNAUTHENTICATED=new Sp(null),Sp.GOOGLE_CREDENTIALS=new Sp("google-credentials-uid"),Sp.FIRST_PARTY=new Sp("first-party-uid");var xp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new rc(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Fu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),jp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new rc(i.error.code,i.error.message)),o?new t(e,i.state,r):(Fu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Rp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=kh(),a=0;i&&a<r.activeTargetIds.length;++a)i=ec(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Fu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Np=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Fu("SharedClientState","Failed to parse online state: "+e),null)},t}(),Dp=function(){function t(){this.activeTargetIds=kh()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Pp=function(){function t(t,e,n,r,i){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new sh(Ku),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=Ip(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new Dp),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Du.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Object(Du.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(i=this.getItem(Ip(this.persistenceKey,r)))&&(o=Rp.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(a=this.storage.getItem(this.zs))&&(s=this.Ys(a))&&this.Xs(s),u=0,c=this.Us;u<c.length;u++)this.Bs(c[u]);return this.Us=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Ap(this.persistenceKey,t));if(n){var r=jp.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Ap(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.ei(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Vu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Vu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Vu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Vu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Fu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable(function(){return Object(Du.b)(e,void 0,void 0,function(){var t,e,r,i,o,a;return Object(Du.d)(this,function(s){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(a=function(t){var e=Pu.o;if(null!=t)try{var n=JSON.parse(t);Bu("number"==typeof n),e=n}catch(t){Fu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Pu.o&&this.sequenceNumberHandler(a);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new xp(this.currentUser,t,e,n),i=Tp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fs())},t.prototype.ei=function(t){var e=Tp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){this.storage.setItem(this.zs,JSON.stringify({clientId:this.Ms,onlineState:t}))},t.prototype.si=function(t,e,n){var r=Ap(this.persistenceKey,t),i=new jp(t,e,n);this.setItem(r,i.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return Rp.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]);return xp.$s(new Sp(void 0!==n[2]?n[2]:null),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return jp.$s(r,e)},t.prototype.Ys=function(t){return Np.$s(t)},t.prototype.hi=function(t){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(Vu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.Zs(this.qs),o=this.Zs(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.mi(a,s).then(function(){n.qs=r})},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=kh();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Lp=function(){function t(){this.yi=new Dp,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new Dp,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Mp=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),Vp=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){Vu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){Vu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Fp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Up=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),qp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Du.c)(e,t),e.prototype.qi=function(t,e,n,r){return new Promise(function(i,o){var a=new Nu;a.listenOnce(xu.COMPLETE,function(){try{switch(a.getLastErrorCode()){case Au.NO_ERROR:var e=a.getResponseJson();Vu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Au.TIMEOUT:Vu("Connection",'RPC "'+t+'" timed out'),o(new rc(nc.DEADLINE_EXCEEDED,"Request time out"));break;case Au.HTTP_ERROR:var n=a.getStatus();if(Vu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(nc).indexOf(e)>=0?e:nc.UNKNOWN}(r.status);o(new rc(s,r.message))}else o(new rc(nc.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new rc(nc.UNAVAILABLE,"Connection failed."));break;default:zu()}}finally{Vu("Connection",'RPC "'+t+'" completed.')}});var s=JSON.stringify(r);a.send(e,"POST",s,n,15)})},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Ou,i=Ia(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(o.initMessageHeaders,e),Object(ji.p)()||Object(ji.r)()||Object(ji.m)()||Object(ji.n)()||Object(ji.s)()||Object(ji.l)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Vu("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Up({vi:function(t){c?Vu("Connection","Not sending because WebChannel is closed:",t):(u||(Vu("Connection","Opening WebChannel transport."),s.open(),u=!0),Vu("Connection","WebChannel sending:",t),s.send(t))},Pi:function(){return s.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(s,Ru.EventType.OPEN,function(){c||Vu("Connection","WebChannel transport opened.")}),h(s,Ru.EventType.CLOSE,function(){c||(c=!0,Vu("Connection","WebChannel transport closed"),l.$i())}),h(s,Ru.EventType.ERROR,function(t){c||(c=!0,Uu("Connection","WebChannel transport errored:",t),l.$i(new rc(nc.UNAVAILABLE,"The operation could not be completed")))}),h(s,Ru.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Bu(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Vu("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=th[t];if(void 0!==e)return ah(e)}(i),a=r.message;void 0===o&&(o=nc.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.$i(new rc(o,a)),s.close()}else Vu("Connection","WebChannel received:",n),l.Fi(n)}}),h(i,ju.STAT_EVENT,function(t){10===t.stat?Vu("Connection","Detected buffering proxy"):11===t.stat&&Vu("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ni()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Oi=(t.ssl?"https":"http")+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var i=this.Li(t,e);Vu("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(t,i,o,n).then(function(t){return Vu("RestConnection","Received: ",t),t},function(e){throw Uu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){return this.Oi+"/v1/"+e+":"+Fp[t]},t}());function zp(){return"undefined"!=typeof window?window:null}function Bp(){return"undefined"!=typeof document?document:null}function Hp(t){return new Dh(t,!0)}var Qp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&Vu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,function(){return e.Hi=Date.now(),t()}),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),Gp=function(){function t(t,e,n,r,i,o){this.Fe=t,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Qp(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,function(){return t.dr()}))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(t){return this.ar()?[2,this.close(0)]:[2]})})},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===nc.RESOURCE_EXHAUSTED?(Fu(e.toString()),Fu("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===nc.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}})})},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then(function(e){t.sr===n&&t.gr(e)},function(n){e(function(){var e=new rc(nc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)})})},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi(function(){n(function(){return e.state=2,e.listener.Vi()})}),this.stream.Di(function(t){n(function(){return e.pr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi(function(){return Object(Du.b)(t,void 0,void 0,function(){return Object(Du.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.pr=function(t){return Vu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget(function(){return e.sr===t?n():(Vu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Kp=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,a}return Object(Du.c)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:zu()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.V?(Bu(void 0===e||"string"==typeof e),cc.fromBase64String(e||"")):(Bu(void 0===e||e instanceof Uint8Array),cc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?nc.UNKNOWN:ah(t.code);return new rc(e,t.message||"")}(s);n=new Ih(r,i,o,a||null)}else if("documentChange"in e){i=zh(t,(r=e.documentChange).document.name),o=Vh(r.document.updateTime);var s=new wl({mapValue:{fields:r.document.fields}}),u=(a=new Rc(i,o,s,{}),r.targetIds||[]);n=new Ch(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=zh(t,(r=e.documentDelete).document),o=r.readTime?Vh(r.readTime):ml.min(),s=new Nc(i,o),n=new Ch([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=zh(t,(r=e.documentRemove).document),n=new Ch([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return zu();var c=e.filter;i=new ih(r=c.count||0),n=new Sh(o=c.targetId,i)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return ml.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ml.min():e.readTime?Vh(e.readTime):ml.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=Qh(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=Fc(r)?{documents:Xh(t,r)}:{query:Zh(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Lh(t,e.resumeToken):e.snapshotVersion.compareTo(ml.min())>0&&(n.readTime=Ph(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zu()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=Qh(this.D),e.removeTarget=t,this.wr(e)},e}(Gp),Yp=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,a.Rr=!1,a}return Object(Du.c)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(Bu(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(Bu(void 0!==e),t.map(function(t){return function(t,e){var n=Vh(t.updateTime?t.updateTime:e);return n.isEqual(ml.min())&&(n=Vh(e)),new Fl(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Vh(t.commitTime);return this.listener.Pr(n,e)}return Bu(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=Qh(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Wh(e.D,t)})};this.wr(n)},e}(Gp),Wp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.er=n,i.D=r,i.Dr=!1,i}return Object(Du.c)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new rc(nc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Mi(t,e,n,i)}).catch(function(t){throw t.code===nc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Ui(t,e,n,i)}).catch(function(t){throw t.code===nc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Dr=!1},e}(function(){}),Jp=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()}))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(Fu(e),this.Fr=!1):Vu("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),Xp=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi(function(t){n.enqueueAndForget(function(){return Object(Du.b)(o,void 0,void 0,function(){return Object(Du.d)(this,function(t){switch(t.label){case 0:return av(this)?(Vu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Du.b)(this,void 0,void 0,function(){var e;return Object(Du.d)(this,function(n){switch(n.label){case 0:return(e=Hu(t)).Qr.add(4),[4,$p(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,Zp(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.jr=new Jp(n,r)};function Zp(t){return Object(Du.b)(this,void 0,void 0,function(){var e,n;return Object(Du.d)(this,function(r){switch(r.label){case 0:if(!av(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function $p(t){return Object(Du.b)(this,void 0,void 0,function(){var e,n;return Object(Du.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function tv(t,e){var n=Hu(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),ov(n)?iv(n):_v(n).ar()&&nv(n,e))}function ev(t,e){var n=Hu(t),r=_v(n);n.Ur.delete(e),r.ar()&&rv(n,e),0===n.Ur.size&&(r.ar()?r.lr():av(n)&&n.jr.set("Unknown"))}function nv(t,e){t.Gr.H(e.targetId),_v(t).Ir(e)}function rv(t,e){t.Gr.H(e),_v(t).Ar(e)}function iv(t){t.Gr=new Ah({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),_v(t).start(),t.jr.Or()}function ov(t){return av(t)&&!_v(t).cr()&&t.Ur.size>0}function av(t){return 0===Hu(t).Qr.size}function sv(t){t.Gr=void 0}function uv(t){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(e){return t.Ur.forEach(function(e,n){nv(t,e)}),[2]})})}function cv(t,e){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(n){return sv(t),ov(t)?(t.jr.Lr(e),iv(t)):t.jr.set("Unknown"),[2]})})}function lv(t,e,n){return Object(Du.b)(this,void 0,void 0,function(){var r,i,o;return Object(Du.d)(this,function(a){switch(a.label){case 0:if(t.jr.set("Online"),!(e instanceof Ih&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Du.d)(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.Ur.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.Ur.delete(o),t.Gr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Vu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,hv(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ch?t.Gr.st(e):e instanceof Sh?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(ml.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,ip(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Ur.get(r);i&&t.Ur.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(cc.EMPTY_BYTE_STRING,n.snapshotVersion)),rv(t,e);var r=new Jf(n.target,e,1,n.sequenceNumber);nv(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Vu("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,hv(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function hv(t,e,n){return Object(Du.b)(this,void 0,void 0,function(){var r=this;return Object(Du.d)(this,function(i){switch(i.label){case 0:if(!qf(e))throw e;return t.Qr.add(1),[4,$p(t)];case 1:return i.sent(),t.jr.set("Offline"),n||(n=function(){return ip(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Du.b)(r,void 0,void 0,function(){return Object(Du.d)(this,function(e){switch(e.label){case 0:return Vu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,Zp(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function fv(t,e){return e().catch(function(n){return hv(t,n,e)})}function dv(t){return Object(Du.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Du.d)(this,function(a){switch(a.label){case 0:e=Hu(t),n=kv(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return av(t)&&t.qr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,sp(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(t,e){t.qr.push(e);var n=kv(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,hv(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return pv(e)&&vv(e),[2]}})})}function pv(t){return av(t)&&!kv(t).cr()&&t.qr.length>0}function vv(t){kv(t).start()}function yv(t){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(e){return kv(t).Sr(),[2]})})}function gv(t){return Object(Du.b)(this,void 0,void 0,function(){var e,n,r;return Object(Du.d)(this,function(i){for(e=kv(t),n=0,r=t.qr;n<r.length;n++)e.vr(r[n].mutations);return[2]})})}function mv(t,e,n){return Object(Du.b)(this,void 0,void 0,function(){var r,i;return Object(Du.d)(this,function(o){switch(o.label){case 0:return r=t.qr.shift(),i=Wf.from(r,e,n),[4,fv(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,dv(t)];case 2:return o.sent(),[2]}})})}function bv(t,e){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(n){switch(n.label){case 0:return e&&kv(t).br?[4,function(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r;return Object(Du.d)(this,function(i){switch(i.label){case 0:return oh(r=e.code)&&r!==nc.ABORTED?(n=t.qr.shift(),kv(t).hr(),[4,fv(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,dv(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return pv(t)&&vv(t),[2]}})})}function wv(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n;return Object(Du.d)(this,function(r){switch(r.label){case 0:return n=Hu(t),e?(n.Qr.delete(2),[4,Zp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,$p(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function _v(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=Hu(t);return r.Cr(),new Kp(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:uv.bind(null,t),Di:cv.bind(null,t),Tr:lv.bind(null,t)}),t.Kr.push(function(n){return Object(Du.b)(e,void 0,void 0,function(){return Object(Du.d)(this,function(e){switch(e.label){case 0:return n?(t.zr.hr(),ov(t)?iv(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),sv(t),e.label=3;case 3:return[2]}})})})),t.zr}function kv(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=Hu(t);return r.Cr(),new Yp(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:yv.bind(null,t),Di:bv.bind(null,t),Vr:gv.bind(null,t),Pr:mv.bind(null,t)}),t.Kr.push(function(n){return Object(Du.b)(e,void 0,void 0,function(){return Object(Du.d)(this,function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,dv(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(Vu("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}})})})),t.Hr}var Ev=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Pf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rc(nc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Ov(t,e){if(Fu("AsyncQueue",e+": "+t),qf(t))return new rc(nc.UNAVAILABLE,e+": "+t);throw t}var Cv=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||uc.comparator(e.key,n.key)}:function(t,e){return uc.comparator(t.key,e.key)},this.keyedMap=yh(),this.sortedSet=new sh(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Sv=function(){function t(){this.Jr=new sh(uc.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):zu():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Iv=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Cv.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Tv=function(){this.Xr=void 0,this.listeners=[]},Av=function(){this.queries=new Ld(function(t){return dl(t)},fl),this.onlineState="Unknown",this.Zr=new Set};function xv(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(Du.d)(this,function(c){switch(c.label){case 0:if(n=Hu(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Tv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Xr=c.sent(),[3,4];case 3:return s=c.sent(),u=Ov(s,"Initialization of query '"+pl(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.eo(n.onlineState),o.Xr&&e.no(o.Xr)&&Dv(n),[2]}})})}function jv(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(Du.d)(this,function(s){return n=Hu(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Rv(t,e){for(var n=Hu(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].no(a)&&(r=!0);s.Xr=a}}r&&Dv(n)}function Nv(t,e,n){var r=Hu(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function Dv(t){t.Zr.forEach(function(t){t.next()})}var Pv=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Iv(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.io?this.oo(t)&&(this.so.next(t),o=!0):this.co(t,this.onlineState)&&(this.ao(t),o=!0),this.ro=t,o},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=Iv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),Lv=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),Mv=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return zh(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?Yh(this.D,t.document,!1):new Nc(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return Vh(t)},t}();!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new Mv(this.D),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Gn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||wh()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Du.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Du.d)(this,function(o){switch(o.label){case 0:return[4,pp(this.localStore,new Mv(this.D),this.documents,this.lo.id)];case 1:t=o.sent(),e=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,vp(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Jd(Object.assign({},this.progress),t))]}})})}}();var Vv=function(t){this.key=t},Fv=function(t){this.key=t},Uv=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=wh(),this.mutatedKeys=wh(),this.po=yl(t),this.Eo=new Cv(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new Sv,i=e?e.Eo:this.Eo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=il(this.query)&&i.size===this.query.limit?i.last():null,c=ol(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=e instanceof Rc?e:null;h&&(h=vl(n.query,h)?h:null);var f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Ro(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.po(h,u)>0||c&&n.po(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),il(this.query)||ol(this.query))for(;a.size>this.query.limit;){var l=il(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:a,Ao:r,Mn:s,mutatedKeys:o}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var o=t.Ao.Yr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zu()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)}),this.bo(n);var a=e?this.vo():[],s=0===this.yo.size&&this.current?1:0,u=s!==this.mo;return this.mo=s,0!==o.length||u?{snapshot:new Iv(this.query,t.Eo,i,o,t.mutatedKeys,0===s,u,!1),Po:a}:{Po:a}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Sv,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._o=e._o.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e._o=e._o.delete(t)}),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=wh(),this.Eo.forEach(function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))});var n=[];return e.forEach(function(e){t.yo.has(e)||n.push(new Fv(e))}),this.yo.forEach(function(t){e.has(t)||n.push(new Vv(t))}),n},t.prototype.So=function(t){this._o=t.jn,this.yo=wh();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return Iv.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),qv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},zv=function(t){this.key=t,this.Co=!1},Bv=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new Ld(function(t){return dl(t)},fl),this.$o=new Map,this.Fo=new Set,this.Oo=new sh(uc.comparator),this.ko=new Map,this.Mo=new gp,this.Lo={},this.Bo=new Map,this.qo=Od.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function Hv(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(Du.d)(this,function(s){switch(s.label){case 0:return n=by(t),(i=n.No.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Do(),[3,4]):[3,1];case 1:return[4,up(n.localStore,ll(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Qv(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&tv(n.remoteStore,o),s.label=4;case 4:return[2,r]}})})}function Qv(t,e,n,r){return Object(Du.b)(this,void 0,void 0,function(){var i,o,a,s,u,c;return Object(Du.d)(this,function(l){switch(l.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return Object(Du.b)(this,void 0,void 0,function(){var i,o,a;return Object(Du.d)(this,function(s){switch(s.label){case 0:return(i=e.view.Io(n)).Mn?[4,lp(t.localStore,e.query,!1).then(function(t){return e.view.Io(t.documents,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(iy(t,e.targetId,a.Po),a.snapshot)]}})})}(t,e,n,r)},[4,lp(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Uv(e,i.jn),a=o.Io(i.documents),s=Oh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),iy(t,n,u.Po),c=new qv(e,n,o),[2,(t.No.set(e,c),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),u.snapshot)]}})})}function Gv(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r,i;return Object(Du.d)(this,function(o){switch(o.label){case 0:return n=Hu(t),r=n.No.get(e),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter(function(t){return!fl(t,e)})),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,cp(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),ev(n.remoteStore,r.targetId),ny(n,r.targetId)}).catch(Ad)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ny(n,r.targetId),[4,cp(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Kv(t,e,n){return Object(Du.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(Du.d)(this,function(s){switch(s.label){case 0:r=wy(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=Hu(t),i=pc.now(),o=e.reduce(function(t,e){return t.add(e.key)},wh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Kn.bn(t,o).next(function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Ql(c,n.get(c.key));null!=l&&a.push(new Wl(c.key,l,kl(l.proto.mapValue),Ul.exists(!0)))}return r.Tn.addMutationBatch(t,i,a,e)})}).then(function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}})}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new sh(Ku)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,sy(r,i.changes)];case 3:return s.sent(),[4,dv(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Ov(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function Yv(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r;return Object(Du.d)(this,function(i){switch(i.label){case 0:n=Hu(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,op(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.ko.get(e);r&&(Bu(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?Bu(r.Co):t.removedDocuments.size>0&&(Bu(r.Co),r.Co=!1))}),[4,sy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Ad(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Wv(t,e,n){var r=Hu(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach(function(t,n){var r=n.view.eo(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Hu(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(e)&&(r=!0)}),r&&Dv(n)}(r.eventManager,e),i.length&&r.xo.Tr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Jv(t,e,n){return Object(Du.b)(this,void 0,void 0,function(){var r,i,o,a,s,u;return Object(Du.d)(this,function(c){switch(c.label){case 0:return(r=Hu(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.ko.get(e),(o=i&&i.key)?(a=(a=new sh(uc.comparator)).insert(o,new Nc(o,ml.min())),s=wh().add(o),u=new Eh(ml.min(),new Map,new lh(Ku),a,s),[4,Yv(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(e),ay(r),[3,4];case 2:return[4,cp(r.localStore,e,!1).then(function(){return ny(r,e,n)}).catch(Ad)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Xv(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r,i;return Object(Du.d)(this,function(o){switch(o.label){case 0:n=Hu(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,rp(n.localStore,e)];case 2:return i=o.sent(),ey(n,r,null),ty(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,sy(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ad(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Zv(t,e,n){return Object(Du.b)(this,void 0,void 0,function(){var r,i;return Object(Du.d)(this,function(o){switch(o.label){case 0:r=Hu(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Hu(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Tn.lookupMutationBatch(t,e).next(function(e){return Bu(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),ey(r,e,n),ty(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,sy(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ad(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function $v(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(Du.d)(this,function(s){switch(s.label){case 0:av((n=Hu(t)).remoteStore)||Vu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Hu(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Bo.get(r)||[]).push(e),n.Bo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Ov(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function ty(t,e){(t.Bo.get(e)||[]).forEach(function(t){t.resolve()}),t.Bo.delete(e)}function ey(t,e,n){var r=Hu(t),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function ny(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.$o.get(e);r<i.length;r++){var o=i[r];t.No.delete(o),n&&t.xo.Ko(o,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach(function(e){t.Mo.containsKey(e)||ry(t,e)})}function ry(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(ev(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),ay(t))}function iy(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Vv?(t.Mo.addReference(o.key,e),oy(t,o)):o instanceof Fv?(Vu("SyncEngine","Document no longer in limbo: "+o.key),t.Mo.removeReference(o.key,e),t.Mo.containsKey(o.key)||ry(t,o.key)):zu()}}function oy(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||(Vu("SyncEngine","New document in limbo: "+n),t.Fo.add(r),ay(t))}function ay(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new uc(oc.fromString(e)),r=t.qo.next();t.ko.set(r,new zv(n)),t.Oo=t.Oo.insert(n,r),tv(t.remoteStore,new Jf(ll(rl(n.path)),r,2,Pu.o))}}function sy(t,e,n){return Object(Du.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(Du.d)(this,function(s){switch(s.label){case 0:return r=Hu(t),i=[],o=[],a=[],r.No.isEmpty()?[3,3]:(r.No.forEach(function(t,s){a.push(r.Qo(s,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Zd.Nn(s.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.xo.Tr(i),[4,function(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return Object(Du.d)(this,function(l){switch(l.label){case 0:n=Hu(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Lf.forEach(e,function(e){return Lf.forEach(e.Cn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Lf.forEach(e.xn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!qf(r=l.sent()))throw r;return Vu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Bn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Bn=n.Bn.insert(s,c));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function uy(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r;return Object(Du.d)(this,function(i){switch(i.label){case 0:return(n=Hu(t)).currentUser.isEqual(e)?[3,3]:(Vu("SyncEngine","User change. New user:",e.toKey()),[4,np(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Bo.forEach(function(t){t.forEach(function(t){t.reject(new rc(nc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,sy(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function cy(t,e){var n=Hu(t),r=n.ko.get(e);if(r&&r.Co)return wh().add(r.key);var i=wh(),o=n.$o.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.No.get(s[a]);i=i.unionWith(u.view.To)}return i}function ly(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r,i;return Object(Du.d)(this,function(o){switch(o.label){case 0:return[4,lp((n=Hu(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.So(r),[2,(n.isPrimaryClient&&iy(n,e.targetId,i.Po),i)]}})})}function hy(t){return Object(Du.b)(this,void 0,void 0,function(){var e;return Object(Du.d)(this,function(n){return[2,fp((e=Hu(t)).localStore).then(function(t){return sy(e,t)})]})})}function fy(t,e,n,r){return Object(Du.b)(this,void 0,void 0,function(){var i,o;return Object(Du.d)(this,function(a){switch(a.label){case 0:return[4,function(t,e){var n=Hu(t),r=Hu(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Jt(t,e).next(function(e){return e?n.Kn.bn(t,e):Lf.resolve(null)})})}((i=Hu(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,dv(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ey(i,e,r||null),ty(i,e),function(t,e){Hu(Hu(t).Tn).Xt(e)}(i.localStore,e)):zu(),a.label=4;case 4:return[4,sy(i,o)];case 5:return a.sent(),[3,7];case 6:Vu("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function dy(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(Du.d)(this,function(c){switch(c.label){case 0:return by(n=Hu(t)),wy(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,py(n,r.toArray())]);case 1:return i=c.sent(),n.Uo=!0,[4,wv(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)tv(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(s=[],u=Promise.resolve(),n.$o.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then(function(){return ny(n,e),cp(n.localStore,e,!0)}),ev(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,py(n,s)];case 5:return c.sent(),function(t){var e=Hu(t);e.ko.forEach(function(t,n){ev(e.remoteStore,n)}),e.Mo.cs(),e.ko=new Map,e.Oo=new sh(uc.comparator)}(n),n.Uo=!1,[4,wv(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function py(t,e,n){return Object(Du.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return Object(Du.d)(this,function(v){switch(v.label){case 0:n=Hu(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.$o.get(s=a[o]))&&0!==c.length?[4,up(n.localStore,ll(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.No.get(h[l]),[4,ly(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,hp(n.localStore,s)];case 8:return p=v.sent(),[4,up(n.localStore,p)];case 9:return u=v.sent(),[4,Qv(n,vy(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}})})}function vy(t){return nl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function yy(t){var e=Hu(t);return Hu(Hu(e.localStore).persistence).gn()}function gy(t,e,n,r){return Object(Du.b)(this,void 0,void 0,function(){var i,o,a;return Object(Du.d)(this,function(s){switch(s.label){case 0:return(i=Hu(t)).Uo?(Vu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,fp(i.localStore)];case 3:return o=s.sent(),a=Eh.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,sy(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,cp(i.localStore,e,!0)];case 6:return s.sent(),ny(i,e,r),[3,8];case 7:zu(),s.label=8;case 8:return[2]}})})}function my(t,e,n){return Object(Du.b)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,h;return Object(Du.d)(this,function(f){switch(f.label){case 0:if(!(r=by(t)).Uo)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.$o.has(a=o[i])?(Vu("SyncEngine","Adding an already active target "+a),[3,5]):[4,hp(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,up(r.localStore,s)];case 3:return u=f.sent(),[4,Qv(r,vy(s),u.targetId,!1)];case 4:f.sent(),tv(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Du.d)(this,function(e){switch(e.label){case 0:return r.$o.has(t)?[4,cp(r.localStore,t,!1).then(function(){ev(r.remoteStore,t),ny(r,t)}).catch(Ad)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function by(t){var e=Hu(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jv.bind(null,e),e.xo.Tr=Rv.bind(null,e.eventManager),e.xo.Ko=Nv.bind(null,e.eventManager),e}function wy(t){var e=Hu(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zv.bind(null,e),e}var _y=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(e){switch(e.label){case 0:return this.D=Hp(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}})})},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return ep(this.persistence,new $d,t.initialUser,this.D)},t.prototype.Go=function(t){return new Ep(Cp.Cs,this.D)},t.prototype.jo=function(t){return new Lp},t.prototype.terminate=function(){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),ky=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Jo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Du.c)(e,t),e.prototype.initialize=function(e){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,dp(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,wy(this.Jo.syncEngine)];case 4:return n.sent(),[4,dv(this.Jo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ho=function(t){return ep(this.persistence,new $d,t.initialUser,this.D)},e.prototype.zo=function(t){return new Rd(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.Go=function(t){var e=Wd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?yd.withCacheSize(this.cacheSizeBytes):yd.DEFAULT;return new Gd(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,zp(),Bp(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new Lp},e}(_y),Ey=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Du.c)(e,t),e.prototype.initialize=function(e){return Object(Du.b)(this,void 0,void 0,function(){var n,r=this;return Object(Du.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof Pp?(this.sharedClientState.syncEngine={wi:fy.bind(null,n),_i:gy.bind(null,n),mi:my.bind(null,n),gn:yy.bind(null,n),di:hy.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en(function(t){return Object(Du.b)(r,void 0,void 0,function(){return Object(Du.d)(this,function(e){switch(e.label){case 0:return[4,dy(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jo=function(t){var e=zp();if(!Pp.At(e))throw new rc(nc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Wd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Pp(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(ky),Oy=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n=this;return Object(Du.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Wv(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=uy.bind(null,this.syncEngine),[4,wv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Av},t.prototype.createDatastore=function(t){var e=Hp(t.databaseInfo.databaseId),n=new qp(t.databaseInfo);return function(t,e,n){return new Wp(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Wv(a.syncEngine,t,0)},o=Vp.At()?new Vp:new Mp,new Xp(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new Bv(t,e,n,r,i,o);return a&&(s.Uo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Du.b)(this,void 0,void 0,function(){var e;return Object(Du.d)(this,function(n){switch(n.label){case 0:return e=Hu(t),Vu("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,$p(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Cy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Sy=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new Pf,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then(function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Wo=function(){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}})})},t.prototype.ec=function(){return Object(Du.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Du.d)(this,function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(t=i.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new Lv(JSON.parse(r),t.length+n)]}})})},t.prototype.rc=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.nc=function(){return Object(Du.b)(this,void 0,void 0,function(){var t,e;return Object(Du.d)(this,function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.ic=function(t){return Object(Du.b)(this,void 0,void 0,function(){var e;return Object(Du.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(Du.b)(this,void 0,void 0,function(){var t,e;return Object(Du.d)(this,function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Du.b)(this,void 0,void 0,function(){var e,n=this;return Object(Du.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new rc(nc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(Du.d)(this,function(u){switch(u.label){case 0:return n=Hu(t),r=Qh(n.D)+"/documents",i={documents:e.map(function(t){return qh(n.D,t)})},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Bu(!!e.found);var n=zh(t,e.found.name),r=Vh(e.found.updateTime),i=new wl({mapValue:{fields:e.found.fields}});return new Rc(n,r,i,{})}(t,e):"missing"in e?function(t,e){Bu(!!e.missing),Bu(!!e.readTime);var n=zh(t,e.missing),r=Vh(e.readTime);return new Nc(n,r)}(t,e):zu()}(n.D,t);a.set(e.key.toString(),e)}),s=[],[2,(e.forEach(function(t){var e=a.get(t.toString());Bu(!!e),s.push(e)}),s)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Nc||t instanceof Rc?n.recordVersion(t):zu()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new nh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Du.b)(this,void 0,void 0,function(){var t,e=this;return Object(Du.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=uc.fromPath(n);e.mutations.push(new rh(r,e.precondition(r)))}),[4,function(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r,i;return Object(Du.d)(this,function(o){switch(o.label){case 0:return n=Hu(t),r=Qh(n.D)+"/documents",i={writes:e.map(function(t){return Wh(n.D,t)})},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof Rc)e=t.version;else{if(!(t instanceof Nc))throw zu();e=ml.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new rc(nc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ul.updateTime(e):Ul.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ml.min()))throw new rc(nc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ul.updateTime(e)}return Ul.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Iy=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new Qp(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi(function(){return Object(Du.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Du.d)(this,function(r){return t=new Sy(this.datastore),(e=this.uc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.hc(t)})})}).catch(function(t){n.hc(t)}),[2]})})})},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!$u(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget(function(){return e.ac(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!oh(e)}return!1},t}(),Ty=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Sp.UNAUTHENTICATED,this.clientId=Gu.u(),this.credentialListener=function(){},this.receivedInitialUser=new Pf,this.credentials.setChangeListener(function(t){Vu("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new rc(nc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Pf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Du.b)(t,void 0,void 0,function(){var t,n;return Object(Du.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Ov(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Ay(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Du.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Vu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(Du.b)(i,void 0,void 0,function(){return Object(Du.d)(this,function(t){switch(t.label){case 0:return[4,np(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function xy(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r;return Object(Du.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,jy(t)];case 1:return n=i.sent(),Vu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(Du.b)(this,void 0,void 0,function(){var n,r;return Object(Du.d)(this,function(i){switch(i.label){case 0:return(n=Hu(t)).asyncQueue.verifyOperationInProgress(),Vu("RemoteStore","RemoteStore received new credentials"),r=av(n),n.Qr.add(3),[4,$p(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Qr.delete(3),[4,Zp(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function jy(t){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Vu("FirestoreClient","Using default OfflineComponentProvider"),[4,Ay(t,new _y)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Ry(t){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Vu("FirestoreClient","Using default OnlineComponentProvider"),[4,xy(t,new Oy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Ny(t){return jy(t).then(function(t){return t.persistence})}function Dy(t){return jy(t).then(function(t){return t.localStore})}function Py(t){return Ry(t).then(function(t){return t.remoteStore})}function Ly(t){return Ry(t).then(function(t){return t.syncEngine})}function My(t){return Object(Du.b)(this,void 0,void 0,function(){var e,n;return Object(Du.d)(this,function(r){switch(r.label){case 0:return[4,Ry(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Hv.bind(null,e.syncEngine),n.onUnlisten=Gv.bind(null,e.syncEngine),n)]}})})}function Vy(t,e,n){var r=this;void 0===n&&(n={});var i=new Pf;return t.asyncQueue.enqueueAndForget(function(){return Object(Du.b)(r,void 0,void 0,function(){var r;return Object(Du.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Cy({next:function(o){e.enqueueAndForget(function(){return jv(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new rc(nc.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new rc(nc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Pv(rl(n.path),o,{includeMetadataChanges:!0,uo:!0});return xv(t,a)},[4,My(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Fy(t,e,n){var r=this;void 0===n&&(n={});var i=new Pf;return t.asyncQueue.enqueueAndForget(function(){return Object(Du.b)(r,void 0,void 0,function(){var r;return Object(Du.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Cy({next:function(n){e.enqueueAndForget(function(){return jv(t,a)}),n.fromCache&&"server"===r.source?i.reject(new rc(nc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Pv(n,o,{includeMetadataChanges:!0,uo:!0});return xv(t,a)},[4,My(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Uy=function(t,e,n,r,i,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},qy=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),zy=new Map,By=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Hy=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Sp.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Qy=function(){function t(t){var e=this;this.fc=null,this.currentUser=Sp.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then(function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.dc!==e?(Vu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Bu("string"==typeof n.accessToken),new By(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return Bu(null===t||"string"==typeof t),new Sp(t)},t}(),Gy=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=Sp.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Ky=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new Gy(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(Sp.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Yy(t,e,n){if(!n)throw new rc(nc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Wy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new rc(nc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Jy(t,e,n,r){if(!0===e&&!0===r)throw new rc(nc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Xy(t){if(!uc.isDocumentKey(t))throw new rc(nc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Zy(t){if(uc.isDocumentKey(t))throw new rc(nc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function $y(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":zu()}function tg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new rc(nc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=$y(t);throw new rc(nc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function eg(t,e){if(e<=0)throw new rc(nc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ng=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new rc(nc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new rc(nc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Jy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),rg=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new ng({}),this._settingsFrozen=!1,t instanceof qy?(this._databaseId=t,this._credentials=new Hy):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new rc(nc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qy(t.options.projectId)}(t),this._credentials=new Qy(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new rc(nc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new rc(nc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ng(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Hy;switch(t.type){case"gapi":var e=t.client;return Bu(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ky(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new rc(nc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=zy.get(this))&&(Vu("ComponentProvider","Removing Datastore"),zy.delete(this),t.terminate()),Promise.resolve();var t},t}(),ig=function(t){this._delegate=t},og=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new sg(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),ag=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),sg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,rl(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(Du.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new og(this.firestore,null,new uc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(ag);function ug(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof ig&&(t=t._delegate),Yy("collection","path",e),t instanceof rg)return Zy(n=oc.fromString.apply(oc,Object(Du.f)([e],r))),new sg(t,null,n);if(!(t instanceof og||t instanceof sg))throw new rc(nc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Zy(n=oc.fromString.apply(oc,Object(Du.f)([t.path],r)).child(oc.fromString(e))),new sg(t.firestore,null,n)}function cg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof ig&&(t=t._delegate),1===arguments.length&&(e=Gu.u()),Yy("doc","path",e),t instanceof rg)return Xy(n=oc.fromString.apply(oc,Object(Du.f)([e],r))),new og(t,null,new uc(n));if(!(t instanceof og||t instanceof sg))throw new rc(nc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Xy(n=t._path.child(oc.fromString.apply(oc,Object(Du.f)([e],r)))),new og(t.firestore,t instanceof sg?t._converter:null,new uc(n))}function lg(t,e){return t instanceof ig&&(t=t._delegate),e instanceof ig&&(e=e._delegate),(t instanceof og||t instanceof sg)&&(e instanceof og||e instanceof sg)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function hg(t,e){return t instanceof ig&&(t=t._delegate),e instanceof ig&&(e=e._delegate),t instanceof ag&&e instanceof ag&&t.firestore===e.firestore&&fl(t._query,e._query)&&t._converter===e._converter}var fg=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new Qp(this,"async_queue_retry"),this.bc=function(){var e=Bp();e&&Vu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=Bp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=Bp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise(function(t){}):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.gc.push(t),e.Vc()})},t.prototype.Vc=function(){return Object(Du.b)(this,void 0,void 0,function(){var t,e=this;return Object(Du.d)(this,function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!qf(t=n.sent()))throw t;return Vu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi(function(){return e.Vc()}),n.label=5;case 5:return[2]}})})},t.prototype.Pc=function(t){var e=this,n=this.yc.then(function(){return e.Ac=!0,t().catch(function(t){throw e.Ic=t,e.Ac=!1,Fu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ac=!1,t})});return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var i=Ev.createAndSchedule(this,t,e,n,function(t){return r.Sc(t)});return this.Tc.push(i),i},t.prototype.vc=function(){this.Ic&&zu()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(Du.b)(this,void 0,void 0,function(){var t;return Object(Du.d)(this,function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then(function(){e.Tc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Dc()})},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function dg(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Pf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var pg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new fg,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Du.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||yg(this),this._firestoreClient.terminate()},e}(rg);function vg(t){return t._firestoreClient||yg(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yg(t){var e=t._freezeSettings(),n=function(t,e,n){return new Uy(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new Ty(t._credentials,t._queue,n)}function gg(t,e,n){var r=this,i=new Pf;return t.asyncQueue.enqueue(function(){return Object(Du.b)(r,void 0,void 0,function(){var r;return Object(Du.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Ay(t,n)];case 1:return o.sent(),[4,xy(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===nc.FAILED_PRECONDITION||t.code===nc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function mg(t){if(t._initialized||t._terminated)throw new rc(nc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var bg=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new rc(nc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sc(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),wg=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(cc.fromBase64String(e))}catch(e){throw new rc(nc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(cc.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),_g=function(t){this._methodName=t},kg=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new rc(nc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new rc(nc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Ku(this._lat,t._lat)||Ku(this._long,t._long)},t}(),Eg=/^__.*__$/,Og=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Wl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Yl(t,this.data,e,this.fieldTransforms)},t}(),Cg=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Wl(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Sg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zu()}}var Ig=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return Kg(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(Sg(this.Fc)&&Eg.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),Tg=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||Hp(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new Ig({Fc:t,methodName:e,Kc:n,path:sc.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function Ag(t){var e=t._freezeSettings(),n=Hp(t._databaseId);return new Tg(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xg(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Wc(o.merge||o.mergeFields?2:0,e,n,i);Bg("Data must be an object, but it was:",a,r);var s,u,c=qg(r,a);if(o.merge)s=new bl(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Hg(e,f[h],n);if(!a.contains(d))throw new rc(nc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Yg(l,d)||l.push(d)}s=new bl(l),u=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,u=a.fieldTransforms;return new Og(new wl(c),s,u)}var jg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Du.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw t.Uc(1===t.Fc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(_g);function Rg(t,e,n){return new Ig({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var Ng=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Du.c)(e,t),e.prototype._toFieldTransform=function(t){return new Vl(t.path,new xl)},e.prototype.isEqual=function(t){return t instanceof e},e}(_g),Dg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Du.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Rg(this,t,!0),n=this.jc.map(function(t){return Ug(t,e)}),r=new jl(n);return new Vl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(_g),Pg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Du.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Rg(this,t,!0),n=this.jc.map(function(t){return Ug(t,e)}),r=new Nl(n);return new Vl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(_g),Lg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Gc=n,r}return Object(Du.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Pl(t.D,Cl(t.D,this.Gc));return new Vl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(_g);function Mg(t,e,n,r){var i=t.Wc(1,e,n);Bg("Data must be an object, but it was:",i,r);var o=[],a=new _l;Xu(r,function(t,r){var s=Gg(e,t,n);r instanceof ig&&(r=r._delegate);var u=i.Bc(s);if(r instanceof jg)o.push(s);else{var c=Ug(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new bl(o);return new Cg(a.v(),s,i.fieldTransforms)}function Vg(t,e,n,r,i,o){var a=t.Wc(1,e,n),s=[Hg(e,r,n)],u=[i];if(o.length%2!=0)throw new rc(nc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Hg(e,o[c])),u.push(o[c+1]);for(var l=[],h=new _l,f=s.length-1;f>=0;--f)if(!Yg(l,s[f])){var d=s[f],p=u[f];p instanceof ig&&(p=p._delegate);var v=a.Bc(d);if(p instanceof jg)l.push(d);else{var y=Ug(p,v);null!=y&&(l.push(d),h.set(d,y))}}var g=new bl(l);return new Cg(h.v(),g,a.fieldTransforms)}function Fg(t,e,n,r){return void 0===r&&(r=!1),Ug(n,t.Wc(r?4:3,e))}function Ug(t,e){if(t instanceof ig&&(t=t._delegate),zg(t))return Bg("Unsupported field value:",e,t),qg(t,e);if(t instanceof _g)return function(t,e){if(!Sg(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Ug(o[i],e.qc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof ig&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Cl(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=pc.fromDate(t);return{timestampValue:Ph(e.D,n)}}if(t instanceof pc)return n=new pc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ph(e.D,n)};if(t instanceof kg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof wg)return{bytesValue:Lh(e.D,t._byteString)};if(t instanceof og){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Fh(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+$y(t))}(t,e)}function qg(t,e){var n={};return Zu(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xu(t,function(t,r){var i=Ug(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function zg(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof pc||t instanceof kg||t instanceof wg||t instanceof og||t instanceof _g)}function Bg(t,e,n){if(!zg(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=$y(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}}function Hg(t,e,n){if(e instanceof ig&&(e=e._delegate),e instanceof bg)return e._internalPath;if("string"==typeof e)return Gg(t,e);throw Kg("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Qg=new RegExp("[~\\*/\\[\\]]");function Gg(t,e,n){if(e.search(Qg)>=0)throw Kg("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(bg.bind.apply(bg,Object(Du.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Kg("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Kg(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new rc(nc.INVALID_ARGUMENT,(s+=". ")+t+u)}function Yg(t,e){return t.some(function(t){return t.isEqual(e)})}var Wg=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new og(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Jg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(Xg("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Jg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Du.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Wg);function Xg(t,e){return"string"==typeof e?Gg(t,e):e instanceof ig?e._delegate._internalPath:e._internalPath}var Zg=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),$g=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(Du.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new tm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(Xg("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Wg),tm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Du.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}($g),em=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Zg(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new tm(n._firestore,n._userDataWriter,r.key,r,new Zg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new rc(nc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new tm(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Zg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new tm(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Zg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:nm(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function nm(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zu()}}function rm(t,e){return t instanceof $g&&e instanceof $g?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof em&&e instanceof em&&t._firestore===e._firestore&&hg(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function im(t){if(ol(t)&&0===t.explicitOrderBy.length)throw new rc(nc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var om=function(){};function am(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var sm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).zc=e,i.Hc=n,i.Jc=r,i.type="where",i}return Object(Du.c)(e,t),e.prototype._apply=function(t){var e=Ag(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new rc(nc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){pm(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(dm(r,t,l[c]));s={arrayValue:{values:u}}}else s=dm(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||pm(a,o),s=Fg(n,"where",a,"in"===o||"not-in"===o);var h=Uc.create(i,o,s);return function(t,e){if(e.g()){var n=sl(t);if(null!==n&&!n.isEqual(e.field))throw new rc(nc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=al(t);null!==r&&vm(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new rc(nc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new ag(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(om),um=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return Object(Du.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new rc(nc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new rc(nc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Xc(e,n);return function(t,e){if(null===al(t)){var n=sl(t);null!==n&&vm(0,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new ag(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new el(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(om),cm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(Du.c)(e,t),e.prototype._apply=function(t){return new ag(t.firestore,t._converter,hl(t._query,this.Xc,this.Zc))},e}(om),lm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(Du.c)(e,t),e.prototype._apply=function(t){var e=fm(t,this.type,this.ta,this.ea);return new ag(t.firestore,t._converter,function(t,e){return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(om),hm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(Du.c)(e,t),e.prototype._apply=function(t){var e=fm(t,this.type,this.ta,this.ea);return new ag(t.firestore,t._converter,function(t,e){return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(om);function fm(t,e,n,r){if(n[0]instanceof ig&&(n[0]=n[0]._delegate),n[0]instanceof Wg)return function(t,e,n,r,i){if(!r)throw new rc(nc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=cl(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Cc(e,r.key));else{var c=r.field(u.field);if(vc(c))throw new rc(nc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new rc(nc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Wc(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Ag(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new rc(nc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new rc(nc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ul(t)&&-1!==c.indexOf("/"))throw new rc(nc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(oc.fromString(c));if(!uc.isDocumentKey(l))throw new rc(nc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new uc(l);s.push(Cc(e,h))}else{var f=Fg(n,r,c);s.push(f)}}return new Wc(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function dm(t,e,n){if(n instanceof ig&&(n=n._delegate),"string"==typeof n){if(""===n)throw new rc(nc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ul(e)&&-1!==n.indexOf("/"))throw new rc(nc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(oc.fromString(n));if(!uc.isDocumentKey(r))throw new rc(nc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Cc(t,new uc(r))}if(n instanceof og)return Cc(t,n._key);throw new rc(nc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+$y(n)+".")}function pm(t,e){if(!Array.isArray(t)||0===t.length)throw new rc(nc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new rc(nc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function vm(t,e,n){if(!n.isEqual(e))throw new rc(nc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ym=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),mc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(dc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw zu()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Xu(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new kg(fc(t.latitude),fc(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=yc(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(gc(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=hc(t);return new pc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=oc.fromString(t);Bu(hf(n));var r=new qy(n.get(1),n.get(3)),i=new uc(n.popFirst(5));return r.isEqual(e)||Fu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function gm(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var mm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Du.c)(e,t),e.prototype.convertBytes=function(t){return new wg(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new og(this.firestore,null,e)},e}(ym),bm=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ag(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=wm(t,this._firestore),i=gm(r._converter,e,n),o=xg(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Ul.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=wm(t,this._firestore);return e instanceof ig&&(e=e._delegate),o="string"==typeof e||e instanceof bg?Vg(this._dataReader,"WriteBatch.update",a._key,e,n,r):Mg(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,Ul.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=wm(t,this._firestore);return this._mutations=this._mutations.concat(new nh(e._key,Ul.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new rc(nc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function wm(t,e){if(t instanceof ig&&(t=t._delegate),t.firestore!==e)throw new rc(nc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var _m=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Du.c)(e,t),e.prototype.convertBytes=function(t){return new wg(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new og(this.firestore,null,e)},e}(ym);function km(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=tg(t,og);var o=tg(t.firestore,pg),a=Ag(o);return e instanceof ig&&(e=e._delegate),Om(o,[("string"==typeof e||e instanceof bg?Vg(a,"updateDoc",t._key,e,n,r):Mg(a,"updateDoc",t._key,e)).toMutation(t._key,Ul.exists(!0))])}function Em(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof ig&&(t=t._delegate);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||dg(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(dg(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof og)c=tg(t.firestore,pg),l=rl(t._key.path),u={next:function(e){i[s]&&i[s](Cm(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=tg(t,ag);c=tg(d.firestore,pg),l=d._query;var p=new _m(c);u={next:function(t){i[s]&&i[s](new em(c,p,d,t))},error:i[s+1],complete:i[s+2]},im(t._query)}return function(t,e,n,r){var i=this,o=new Cy(r),a=new Pv(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Du.b)(i,void 0,void 0,function(){var e;return Object(Du.d)(this,function(n){switch(n.label){case 0:return e=xv,[4,My(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){o.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(Du.b)(i,void 0,void 0,function(){var e;return Object(Du.d)(this,function(n){switch(n.label){case 0:return e=jv,[4,My(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(vg(c),l,h,u)}function Om(t,e){return function(t,e){var n=this,r=new Pf;return t.asyncQueue.enqueueAndForget(function(){return Object(Du.b)(n,void 0,void 0,function(){var n;return Object(Du.d)(this,function(i){switch(i.label){case 0:return n=Kv,[4,Ly(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(vg(t),e)}function Cm(t,e,n){var r=n.docs.get(e._key),i=new _m(t);return new $g(t,i,e._key,r,new Zg(n.hasPendingWrites,n.fromCache),e._converter)}var Sm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Du.c)(e,t),e.prototype.get=function(e){var n=this,r=wm(e,this._firestore),i=new _m(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new $g(n._firestore,i,r._key,t._document,new Zg(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ag(t)}return t.prototype.get=function(t){var e=this,n=wm(t,this._firestore),r=new mm(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return zu();var i=t[0];if(i instanceof Nc)return new Wg(e._firestore,r,n._key,null,n._converter);if(i instanceof Rc)return new Wg(e._firestore,r,i.key,i,n._converter);throw zu()})},t.prototype.set=function(t,e,n){var r=wm(t,this._firestore),i=gm(r._converter,e,n),o=xg(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=wm(t,this._firestore);return e instanceof ig&&(e=e._delegate),o="string"==typeof e||e instanceof bg?Vg(this._dataReader,"Transaction.update",a._key,e,n,r):Mg(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=wm(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Im(){if("undefined"==typeof Uint8Array)throw new rc(nc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Tm(){if("undefined"==typeof atob)throw new rc(nc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Am=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Du.c)(e,t),e.fromBase64String=function(t){return Tm(),new e(wg.fromBase64String(t))},e.fromUint8Array=function(t){return Im(),new e(wg.fromUint8Array(t))},e.prototype.toBase64=function(){return Tm(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Im(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(ig),xm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){mg(t=tg(t,pg));var n=vg(t),r=t._freezeSettings(),i=new Oy;return gg(n,i,new ky(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){mg(t=tg(t,pg));var e=vg(t),n=t._freezeSettings(),r=new Oy;return gg(e,r,new Ey(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new rc(nc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Pf;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Du.b)(e,void 0,void 0,function(){var e;return Object(Du.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Du.b)(this,void 0,void 0,function(){return Object(Du.d)(this,function(e){switch(e.label){case 0:return Vf.At()?[4,Vf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Wd(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),jm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof qy||(i.sa=e),i}return Object(Du.c)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=tg(t,rg))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Uu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Du.b)(e,void 0,void 0,function(){var e,n;return Object(Du.d)(this,function(r){switch(r.label){case 0:return[4,Ny(t)];case 1:return e=r.sent(),[4,Py(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Hu(t);return e.Qr.delete(0),Zp(e)}(n))]}})})})}(vg(tg(this._delegate,pg)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Du.b)(e,void 0,void 0,function(){var e,n;return Object(Du.d)(this,function(r){switch(r.label){case 0:return[4,Ny(t)];case 1:return e=r.sent(),[4,Py(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Du.b)(this,void 0,void 0,function(){var e;return Object(Du.d)(this,function(n){switch(n.label){case 0:return(e=Hu(t)).Qr.add(0),[4,$p(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}})})}(n))]}})})})}(vg(tg(this._delegate,pg)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Jy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Pf;return t.asyncQueue.enqueueAndForget(function(){return Object(Du.b)(e,void 0,void 0,function(){var e;return Object(Du.d)(this,function(r){switch(r.label){case 0:return e=$v,[4,Ly(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(vg(tg(this._delegate,pg)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Cy(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Du.b)(n,void 0,void 0,function(){var e;return Object(Du.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Hu(t).Zr.add(e),e.next()},[4,My(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(Du.b)(n,void 0,void 0,function(){var e;return Object(Du.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Hu(t).Zr.delete(e)},[4,My(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(vg(t=tg(t,pg)),dg(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new rc(nc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qm(this,ug(this._delegate,t))}catch(t){throw Mm(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Lm(this,cg(this._delegate,t))}catch(t){throw Mm(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new zm(this,function(t,e){if(t=tg(t,rg),Yy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new rc(nc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ag(t,null,function(t){return new el(oc.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Mm(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Pf;return t.asyncQueue.enqueueAndForget(function(){return Object(Du.b)(n,void 0,void 0,function(){var n;return Object(Du.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Ry(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Iy(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(vg(t),function(n){return e(new Sm(t,n))})}(this._delegate,function(n){return t(new Nm(e,n))})},e.prototype.batch=function(){var t=this;return vg(this._delegate),new Dm(new bm(this._delegate,function(e){return Om(t._delegate,e)}))},e.prototype.loadBundle=function(t){throw new rc(nc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new rc(nc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(ig),Rm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Du.c)(e,t),e.prototype.convertBytes=function(t){return new Am(new wg(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Lm.ia(e,this.firestore,null)},e}(ym),Nm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new Rm(e),r}return Object(Du.c)(e,t),e.prototype.get=function(t){var e=this,n=Gm(t);return this._delegate.get(n).then(function(t){return new Um(e._firestore,new $g(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},e.prototype.set=function(t,e,n){var r=Gm(t);return n?(Wy("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Gm(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(Du.f)([a,e,n],i)),this},e.prototype.delete=function(t){var e=Gm(t);return this._delegate.delete(e),this},e}(ig),Dm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Du.c)(e,t),e.prototype.set=function(t,e,n){var r=Gm(t);return n?(Wy("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Gm(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(Du.f)([a,e,n],i)),this},e.prototype.delete=function(t){var e=Gm(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(ig),Pm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this)._firestore=e,i._userDataWriter=n,i}return Object(Du.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new tm(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new qm(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Rm(t),n),i.set(n,o)),o},e}(ig);Pm.oa=new WeakMap;var Lm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Rm(e),r}return Object(Du.c)(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new rc(nc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new og(n._delegate,r,new uc(t)))},e.ia=function(t,n,r){return new e(n,new og(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Qm(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qm(this.firestore,ug(this._delegate,t))}catch(t){throw Mm(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof ig&&(t=t._delegate),t instanceof og&&lg(this._delegate,t)},e.prototype.set=function(t,e){e=Wy("DocumentReference.set",e);try{return function(t,e,n){t=tg(t,og);var r=tg(t.firestore,pg),i=gm(t._converter,e,n);return Om(r,[xg(Ag(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Ul.none())])}(this._delegate,t,e)}catch(t){throw Mm(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?km(this._delegate,t):km.apply(void 0,Object(Du.f)([this._delegate,t,e],n))}catch(t){throw Mm(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Om(tg((t=this._delegate).firestore,pg),[new nh(t._key,Ul.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Vm(e),i=Fm(e,function(e){return new Um(t.firestore,new $g(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return Em(this._delegate,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=tg(t,og);var e=tg(t.firestore,pg),n=vg(e),r=new _m(e);return function(t,e){var n=this,r=new Pf;return t.asyncQueue.enqueueAndForget(function(){return Object(Du.b)(n,void 0,void 0,function(){var n;return Object(Du.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Du.b)(this,void 0,void 0,function(){var r,i;return Object(Du.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Hu(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Kn.In(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof Rc?n.resolve(i):i instanceof Nc?n.resolve(null):n.reject(new rc(nc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Ov(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Dy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new $g(e,r,t._key,n,new Zg(n instanceof Rc&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=tg(t,og);var e=tg(t.firestore,pg);return Vy(vg(e),t._key,{source:"server"}).then(function(n){return Cm(e,t,n)})}(this._delegate):function(t){t=tg(t,og);var e=tg(t.firestore,pg);return Vy(vg(e),t._key).then(function(n){return Cm(e,t,n)})}(this._delegate)).then(function(t){return new Um(e.firestore,new $g(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Pm.ra(this.firestore,t):null))},e}(ig);function Mm(t,e,n){return t.message=t.message.replace(e,n),t}function Vm(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!dg(r))return r}return{}}function Fm(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=dg(t[0])?t[0]:dg(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Um=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Du.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Lm(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return rm(this._delegate,t._delegate)},e}(ig),qm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Du.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Um),zm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Rm(e),r}return Object(Du.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,am(this._delegate,function(t,e,n){var r=e,i=Xg("where",t);return new sm(i,r,n)}(t,n,r)))}catch(t){throw Mm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,am(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Xg("orderBy",t);return new um(r,n)}(t,n)))}catch(t){throw Mm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,am(this._delegate,function(t){return eg("limit",t),new cm("limit",t,"F")}(t)))}catch(t){throw Mm(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,am(this._delegate,function(t){return eg("limitToLast",t),new cm("limitToLast",t,"L")}(t)))}catch(t){throw Mm(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,am(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lm("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Mm(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,am(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lm("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Mm(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,am(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hm("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Mm(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,am(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hm("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Mm(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return hg(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=tg(t,ag);var e=tg(t.firestore,pg),n=vg(e),r=new _m(e);return function(t,e){var n=this,r=new Pf;return t.asyncQueue.enqueueAndForget(function(){return Object(Du.b)(n,void 0,void 0,function(){var n;return Object(Du.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Du.b)(this,void 0,void 0,function(){var r,i,o,a,s;return Object(Du.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,lp(t,e,!0)];case 1:return s=u.sent(),r=new Uv(e,s.jn),i=r.Io(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Ov(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,Dy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new em(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=tg(t,ag);var e=tg(t.firestore,pg),n=vg(e),r=new _m(e);return Fy(n,t._query,{source:"server"}).then(function(n){return new em(e,r,t,n)})}(this._delegate):function(t){t=tg(t,ag);var e=tg(t.firestore,pg),n=vg(e),r=new _m(e);return im(t._query),Fy(n,t._query).then(function(n){return new em(e,r,t,n)})}(this._delegate)).then(function(t){return new Hm(e.firestore,new em(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Vm(e),i=Fm(e,function(e){return new Hm(t.firestore,new em(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Em(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Pm.ra(this.firestore,t):null))},e}(ig),Bm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Du.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new qm(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(ig),Hm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Du.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new zm(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new qm(t._firestore,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Bm(e._firestore,t)})},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new qm(n._firestore,r))})},e.prototype.isEqual=function(t){return rm(this._delegate,t._delegate)},e}(ig),Qm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Du.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Lm(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Lm(this.firestore,void 0===t?cg(this._delegate):cg(this._delegate,t))}catch(t){throw Mm(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=tg(t.firestore,pg),r=cg(t),i=gm(t._converter,e);return Om(n,[xg(Ag(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Ul.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Lm(e.firestore,t)})},e.prototype.isEqual=function(t){return lg(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Pm.ra(this.firestore,t):null))},e}(zm);function Gm(t){return t instanceof ig&&(t=t._delegate),tg(t,og)}var Km,Ym=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(bg.bind.apply(bg,Object(Du.f)([void 0],e))))||this}return Object(Du.c)(e,t),e.documentId=function(){return new e(sc.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof ig&&(t=t._delegate),t instanceof bg&&this._delegate._internalPath.isEqual(t._internalPath)},e}(ig),Wm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Du.c)(e,t),e.serverTimestamp=function(){var t=new Ng("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new jg("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Dg("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Pg("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Lg("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(ig),Jm=a("/6Yf"),Xm={Firestore:jm,GeoPoint:kg,Timestamp:pc,Blob:Am,Transaction:Nm,WriteBatch:Dm,DocumentReference:Lm,DocumentSnapshot:Um,Query:zm,QueryDocumentSnapshot:qm,QuerySnapshot:Hm,CollectionReference:Qm,FieldPath:Ym,FieldValue:Wm,setLogLevel:function(t){Lu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function Zm(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pi.b;return new ee.a(function(n){var r;return null!=e?e.schedule(function(){r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(t,e)}function $m(t,e){return Zm(t,e).pipe(Object(re.a)(function(t){return{payload:t,type:"query"}}))}function tb(t,e){return $m(t,e).pipe(mi(void 0),bi(),Object(re.a)(function(t){var e=n(t,2),r=e[0],i=e[1],o=i.payload.docChanges(),a=o.map(function(t){return{type:t.type,payload:t}});return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach(function(t,e){var n=o.find(function(e){return e.doc.ref.isEqual(t.ref)}),i=null==r?void 0:r.payload.docs.find(function(e){return e.ref.isEqual(t.ref)});n&&JSON.stringify(n.doc.metadata)===JSON.stringify(t.metadata)||!n&&i&&JSON.stringify(i.metadata)===JSON.stringify(t.metadata)||a.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})}),a}))}function eb(t,e,n){return tb(t,n).pipe(ki(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return nb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return nb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return nb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(function(t){return t.payload}),e)},[]),Ci(),Object(re.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function nb(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function rb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new Jm.a("firestore",function(t){return function(t,e){return new jm(t,new pg(t,e),new xm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Xm)))})(Km=Ai.a),Km.registerVersion("@firebase/firestore","2.2.1");var ib=function(){function t(e,n,r){d(this,t),this.ref=e,this.query=n,this.afs=r}return v(t,[{key:"stateChanges",value:function(t){var e=tb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(re.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}))),e.pipe(mi(void 0),bi(),Ln(function(t){var e=n(t,2),r=e[0];return e[1].length>0||!r}),Object(re.a)(function(t){var e=n(t,2);e[0];return e[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(ki(function(t,e){return[].concat(o(t),o(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=rb(t);return eb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $m(this.query,this.afs.schedulers.outsideAngular).pipe(Object(re.a)(function(n){return n.payload.docs.map(function(n){return t.idField?Object.assign(Object.assign({},n.data()),e({},t.idField,n.id)):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(te.a)(this.query.get(t)).pipe(Object(Ar.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new ob(this.ref.doc(t),this.afs)}}]),t}(),ob=function(){function t(e,n){d(this,t),this.ref=e,this.afs=n}return v(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=hb(this.ref.collection(t),e),r=n.ref,i=n.query;return new ib(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return Zm(this.ref,this.afs.schedulers.outsideAngular).pipe(mi(void 0),bi(),Object(re.a)(function(t){var e=n(t,2),r=e[0],i=e[1];return i.exists?(null==r?void 0:r.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}})).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(re.a)(function(n){var r=n.payload;return t.idField?Object.assign(Object.assign({},r.data()),e({},t.idField,r.id)):r.data()}))}},{key:"get",value:function(t){return Object(te.a)(this.ref.get(t)).pipe(Object(Ar.b)(this.afs.schedulers.insideAngular))}}]),t}(),ab=function(){function t(e,n){d(this,t),this.query=e,this.afs=n}return v(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?tb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(re.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Ln(function(t){return t.length>0}),this.afs.keepUnstableUntilFirst):tb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(ki(function(t,e){return[].concat(o(t),o(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=rb(t);return eb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $m(this.query,this.afs.schedulers.outsideAngular).pipe(Object(re.a)(function(n){return n.payload.docs.map(function(n){return t.idField?Object.assign(e({},t.idField,n.id),n.data()):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(te.a)(this.query.get(t)).pipe(Object(Ar.b)(this.afs.schedulers.insideAngular))}}]),t}(),sb=new u.r("angularfire2.enableFirestorePersistence"),ub=new u.r("angularfire2.firestore.persistenceSettings"),cb=new u.r("angularfire2.firestore.settings"),lb=new u.r("angularfire2.firestore.use-emulator");function hb(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var fb,db,pb=((db=function(){function t(e,r,i,a,s,u,c,l,h){d(this,t),this.schedulers=new Sr.e(u),this.keepUnstableUntilFirst=Object(Sr.i)(this.schedulers);var f=Object(Sr.h)(e,u,r);!Ti.a.auth&&h&&Object(Sr.k)();var p=l,v=n(Object(Sr.g)("".concat(f.name,".firestore"),"AngularFirestore",f,function(){var t=u.runOutsideAngular(function(){return f.firestore()});return a&&t.settings(a),p&&t.useEmulator.apply(t,o(p)),i&&!lt(s)?[t,u.runOutsideAngular(function(){try{return Object(te.a)(t.enablePersistence(c||void 0).then(function(){return!0},function(){return!1}))}catch(Km){return"undefined"!=typeof console&&console.warn(Km),Object(Rn.a)(!1)}})]:[t,Object(Rn.a)(!1)]},[a,p,i]),2);this.firestore=v[0],this.persistenceEnabled$=v[1]}return v(t,[{key:"collection",value:function(t,e){var n=hb("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new ib(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new ab(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run(function(){return e});return new ob(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||db)(u.Yb(Sr.c),u.Yb(Sr.b,8),u.Yb(sb,8),u.Yb(cb,8),u.Yb(u.C),u.Yb(u.A),u.Yb(ub,8),u.Yb(lb,8),u.Yb(oi,8))},db.\u0275prov=Object(u.Ib)({factory:function(){return new db(Object(u.Yb)(Sr.c),Object(u.Yb)(Sr.b,8),Object(u.Yb)(sb,8),Object(u.Yb)(cb,8),Object(u.Yb)(u.C),Object(u.Yb)(u.A),Object(u.Yb)(ub,8),Object(u.Yb)(lb,8),Object(u.Yb)(oi,8))},token:db,providedIn:"any"}),db),vb=((fb=function(){function t(){d(this,t)}return v(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:sb,useValue:!0},{provide:ub,useValue:e}]}}}]),t}()).\u0275fac=function(t){return new(t||fb)},fb.\u0275mod=u.Kb({type:fb}),fb.\u0275inj=u.Jb({providers:[pb]}),fb),yb=function(t){y(n,t);var e=m(n);function n(t){var r;return d(this,n),(r=e.call(this))._value=t,r}return v(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=f(k(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Lr.a;return this._value}},{key:"next",value:function(t){f(k(n.prototype),"next",this).call(this,this._value=t)}}]),n}(Ir.a),gb=function(t){y(n,t);var e=m(n);function n(){return d(this,n),e.apply(this,arguments)}return v(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(Pn.a),mb=function(t){y(n,t);var e=m(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return v(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(Pn.a),bb=a("SeVD");function wb(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new mb(t,n,r);if(!i.closed)return e instanceof ee.a?e.subscribe(i):Object(bb.a)(e)(i)}var _b=a("yCtX"),kb={},Eb=function(){function t(e){d(this,t),this.resultSelector=e}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new Ob(t,this.resultSelector))}}]),t}(),Ob=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return v(n,[{key:"_next",value:function(t){this.values.push(kb),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(wb(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===kb?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(gb);function Cb(t){return new ee.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(te.a)(n):Object(Br.b)()).subscribe(e)})}var Sb=a("EQ5u");function Ib(t){return function(e){var n=new Tb(t),r=e.lift(n);return n.caught=r}}var Tb=function(){function t(e){d(this,t),this.selector=e}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new Ab(t,this.selector,this.caught))}}]),t}(),Ab=function(t){y(n,t);var e=m(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return v(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void f(k(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new xr.a(this);this.add(r);var i=Object(xr.c)(e,r);i!==r&&this.add(i)}}}]),n}(xr.b);function xb(t){return function(e){return 0===t?Object(Br.b)():e.lift(new jb(t))}}var jb=function(){function t(e){if(d(this,t),this.total=e,this.total<0)throw new zr}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new Rb(t,this.total))}}]),t}(),Rb=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return v(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(Pn.a),Nb=a("vkgz"),Db=a("x+ZX"),Pb=function(){function t(e){d(this,t),this.callback=e}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new Lb(t,this.callback))}}]),t}(),Lb=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).add(new Pr.a(r)),i}return n}(Pn.a),Mb=function t(e,n){d(this,t),this.id=e,this.url=n},Vb=function(t){y(n,t);var e=m(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return v(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Mb),Fb=function(t){y(n,t);var e=m(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return v(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Mb),Ub=function(t){y(n,t);var e=m(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,t,r)).reason=i,o}return v(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Mb),qb=function(t){y(n,t);var e=m(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,t,r)).error=i,o}return v(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Mb),zb=function(t){y(n,t);var e=m(n);function n(t,r,i,o){var a;return d(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return v(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Mb),Bb=function(t){y(n,t);var e=m(n);function n(t,r,i,o){var a;return d(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return v(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Mb),Hb=function(t){y(n,t);var e=m(n);function n(t,r,i,o,a){var s;return d(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return v(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Mb),Qb=function(t){y(n,t);var e=m(n);function n(t,r,i,o){var a;return d(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return v(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Mb),Gb=function(t){y(n,t);var e=m(n);function n(t,r,i,o){var a;return d(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return v(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Mb),Kb=function(){function t(e){d(this,t),this.route=e}return v(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Yb=function(){function t(e){d(this,t),this.route=e}return v(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Wb=function(){function t(e){d(this,t),this.snapshot=e}return v(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Jb=function(){function t(e){d(this,t),this.snapshot=e}return v(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Xb=function(){function t(e){d(this,t),this.snapshot=e}return v(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Zb=function(){function t(e){d(this,t),this.snapshot=e}return v(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),$b=function(){function t(e,n,r){d(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return v(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),tw=function(){function t(e){d(this,t),this.params=e||{}}return v(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function ew(t){return new tw(t)}function nw(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function rw(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function iw(t,e){var n,r=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!ow(t[n=r[o]],e[n]))return!1;return!0}function ow(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=o(t).sort(),r=o(e).sort();return n.every(function(t,e){return r[e]===t})}return t===e}function aw(t){return Array.prototype.concat.apply([],t)}function sw(t){return t.length>0?t[t.length-1]:null}function uw(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function cw(t){return Object(u.qb)(t)?t:Object(u.rb)(t)?Object(te.a)(Promise.resolve(t)):Object(Rn.a)(t)}function lw(t,e,n){return n?function(t,e){return iw(t,e)}(t.queryParams,e.queryParams)&&hw(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return ow(t[n],e[n])})}(t.queryParams,e.queryParams)&&fw(t.root,e.root)}function hw(t,e){if(!gw(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!hw(t.children[n],e.children[n]))return!1}return!0}function fw(t,e){return dw(t,e,e.segments)}function dw(t,e,n){if(t.segments.length>n.length)return!!gw(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!gw(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!fw(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!gw(t.segments,i)&&!!t.children.primary&&dw(t.children.primary,e,o)}var pw=function(){function t(e,n,r){d(this,t),this.root=e,this.queryParams=n,this.fragment=r}return v(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ew(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return ww.serialize(this)}}]),t}(),vw=function(){function t(e,n){var r=this;d(this,t),this.segments=e,this.children=n,this.parent=null,uw(n,function(t,e){return t.parent=r})}return v(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return _w(this)}}]),t}(),yw=function(){function t(e,n){d(this,t),this.path=e,this.parameters=n}return v(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=ew(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Tw(this)}}]),t}();function gw(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var mw=function t(){d(this,t)},bw=function(){function t(){d(this,t)}return v(t,[{key:"parse",value:function(t){var e=new Nw(t);return new pw(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r;return"/".concat(kw(t.root,!0)).concat((n=t.queryParams,r=Object.keys(n).map(function(t){var e=n[t];return Array.isArray(e)?e.map(function(e){return"".concat(Ow(t),"=").concat(Ow(e))}).join("&"):"".concat(Ow(t),"=").concat(Ow(e))}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),ww=new bw;function _w(t){return t.segments.map(function(t){return Tw(t)}).join("/")}function kw(t,e){if(!t.hasChildren())return _w(t);if(e){var n=t.children.primary?kw(t.children.primary,!1):"",r=[];return uw(t.children,function(t,e){"primary"!==e&&r.push("".concat(e,":").concat(kw(t,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(t,e){var n=[];return uw(t.children,function(t,r){"primary"===r&&(n=n.concat(e(t,r)))}),uw(t.children,function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,function(e,n){return"primary"===n?[kw(t.children.primary,!1)]:["".concat(n,":").concat(kw(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(_w(t),"/").concat(i[0]):"".concat(_w(t),"/(").concat(i.join("//"),")")}function Ew(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ow(t){return Ew(t).replace(/%3B/gi,";")}function Cw(t){return Ew(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sw(t){return decodeURIComponent(t)}function Iw(t){return Sw(t.replace(/\+/g,"%20"))}function Tw(t){return"".concat(Cw(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(Cw(t),"=").concat(Cw(e[t]))}).join("")));var e}var Aw=/^[^\/()?;=#]+/;function xw(t){var e=t.match(Aw);return e?e[0]:""}var jw=/^[^=?&#]+/,Rw=/^[^?&#]+/,Nw=function(){function t(e){d(this,t),this.url=e,this.remaining=e}return v(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vw([],{}):new vw([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new vw(t,e)),n}},{key:"parseSegment",value:function(){var t=xw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new yw(Sw(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=xw(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=xw(this.remaining);r&&(n=r,this.capture(n))}t[Sw(e)]=Sw(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(jw);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Rw);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Iw(e),o=Iw(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=xw(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new vw([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Dw=function(){function t(e){d(this,t),this._root=e}return v(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Pw(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=Pw(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Lw(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return Lw(t,this._root).map(function(t){return t.value})}}]),t}();function Pw(t,e){if(t===e.value)return e;var n,r=s(e.children);try{for(r.s();!(n=r.n()).done;){var i=Pw(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Lw(t,e){if(t===e.value)return[e];var n,r=s(e.children);try{for(r.s();!(n=r.n()).done;){var i=Lw(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Mw=function(){function t(e,n){d(this,t),this.value=e,this.children=n}return v(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Vw(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var Fw=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).snapshot=r,Qw(w(i),t),i}return v(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Dw);function Uw(t,e){var n=function(t,e){var n=new Bw([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Hw("",new Mw(n,[]))}(t,e),r=new yb([new yw("",{})]),i=new yb({}),o=new yb({}),a=new yb({}),s=new yb(""),u=new qw(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new Fw(new Mw(u,[]),n)}var qw=function(){function t(e,n,r,i,o,a,s,u){d(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return v(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(re.a)(function(t){return ew(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(re.a)(function(t){return ew(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function zw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Bw=function(){function t(e,n,r,i,o,a,s,u,c,l,h){d(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return v(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=ew(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ew(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),Hw=function(t){y(n,t);var e=m(n);function n(t,r){var i;return d(this,n),(i=e.call(this,r)).url=t,Qw(w(i),r),i}return v(n,[{key:"toString",value:function(){return Gw(this._root)}}]),n}(Dw);function Qw(t,e){e.value._routerState=t,e.children.forEach(function(e){return Qw(t,e)})}function Gw(t){var e=t.children.length>0?" { ".concat(t.children.map(Gw).join(", ")," } "):"";return"".concat(t.value).concat(e)}function Kw(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,iw(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),iw(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!iw(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),iw(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Yw(t,e){return iw(t.params,e.params)&&function(t,e){return gw(t,e)&&t.every(function(t,n){return iw(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Yw(t.parent,e.parent))}function Ww(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var i=function(t,e,n){return e.children.map(function(e){var r,i=s(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.shouldReuseRoute(e.value,o.value.snapshot))return Ww(t,e,o)}}catch(a){i.e(a)}finally{i.f()}return Ww(t,e)})}(t,e,n);return new Mw(r,i)}var o=t.retrieve(e.value);if(o){var a=o.route;return Jw(e,a),a}var u,c=new qw(new yb((u=e.value).url),new yb(u.params),new yb(u.queryParams),new yb(u.fragment),new yb(u.data),u.outlet,u.component,u),l=e.children.map(function(e){return Ww(t,e)});return new Mw(c,l)}function Jw(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)Jw(t.children[n],e.children[n])}function Xw(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Zw(t){return"object"==typeof t&&null!=t&&t.outlets}function $w(t,e,n,r,i){var o={};return r&&uw(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new pw(n.root===t?e:t_(n.root,t,e),o,i)}function t_(t,e,n){var r={};return uw(t.children,function(t,i){r[i]=t===e?n:t_(t,e,n)}),new vw(t.segments,r)}var e_=function(){function t(e,n,r){if(d(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Xw(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(Zw);if(i&&i!==sw(r))throw new Error("{outlets:{}} has to be the last command")}return v(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),n_=function t(e,n,r){d(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function r_(t,e,n){if(t||(t=new vw([],{})),0===t.segments.length&&t.hasChildren())return i_(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=n[r];if(Zw(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!u_(u,c,a))return o;r+=2}else{if(!u_(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new vw(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new vw(t.segments.slice(r.pathIndex),t.children),i_(o,0,i)}return r.match&&0===i.length?new vw(t.segments,{}):r.match&&!t.hasChildren()?o_(t,e,n):r.match?i_(t,0,i):o_(t,e,n)}function i_(t,e,n){if(0===n.length)return new vw(t.segments,{});var r=function(t){return Zw(t[0])?t[0].outlets:{primary:t}}(n),i={};return uw(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=r_(t.children[r],e,n))}),uw(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new vw(t.segments,i)}function o_(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){var o=n[i];if(Zw(o)){var a=a_(o.outlets);return new vw(r,a)}if(0===i&&Xw(n[0]))r.push(new yw(t.segments[e].path,s_(n[0]))),i++;else{var s=Zw(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&Xw(u)?(r.push(new yw(s,s_(u))),i+=2):(r.push(new yw(s,{})),i++)}}return new vw(r,{})}function a_(t){var e={};return uw(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=o_(new vw([],{}),0,t))}),e}function s_(t){var e={};return uw(t,function(t,n){return e[n]="".concat(t)}),e}function u_(t,e,n){return t==n.path&&iw(e,n.parameters)}var c_=function(){function t(e,n,r,i){d(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return v(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Kw(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=Vw(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),uw(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Vw(t),o=0,a=Object.keys(i);o<a.length;o++){var s=a[o];this.deactivateRouteAndItsChildren(i[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=Vw(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new Zb(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Jb(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(Kw(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),l_(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function l_(t){Kw(t.value),t.children.forEach(l_)}var h_=function t(e,n){d(this,t),this.routes=e,this.module=n};function f_(t){return"function"==typeof t}function d_(t){return t instanceof pw}var p_=Symbol("INITIAL_VALUE");function v_(){return jr(function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i;return Object(gi.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(ne.a)(e[0])&&(e=e[0]),Object(_b.a)(e,i).lift(new Eb(r))}(t.map(function(t){return t.pipe(Hr(1),mi(p_))})).pipe(ki(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==p_)return t;if(r===p_&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||d_(r))return r}return t},t)},p_),Ln(function(t){return t!==p_}),Object(re.a)(function(t){return d_(t)?t:!0===t}),Hr(1))})}var y_,g_=((y_=function t(){d(this,t)}).\u0275fac=function(t){return new(t||y_)},y_.\u0275cmp=u.Gb({type:y_,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&u.Nb(0,"router-outlet")},directives:function(){return[pk]},encapsulation:2}),y_);function m_(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];b_(r,w_(e,r))}}function b_(t,e){t.children&&m_(t.children,e)}function w_(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function __(t){var e=t.children&&t.children.map(__),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=g_),n}function k_(t){return t.outlet||"primary"}function E_(t,e){var n=t.filter(function(t){return k_(t)===e});return n.push.apply(n,o(t.filter(function(t){return k_(t)!==e}))),n}var O_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function C_(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},O_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(e.matcher||rw)(n,t,e);if(!i)return Object.assign({},O_);var o={};uw(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function S_(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(t,e,n){return n.some(function(n){return I_(t,e,n)&&"primary"!==k_(n)})}(t,n,r)){var o=new vw(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,a=s(n);try{for(a.s();!(o=a.n()).done;){var u=o.value;if(""===u.path&&"primary"!==k_(u)){var c=new vw([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,i[k_(u)]=c}}}catch(l){a.e(l)}finally{a.f()}return i}(t,e,r,new vw(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return I_(t,e,n)})}(t,n,r)){var a=new vw(t.segments,function(t,e,n,r,i,o){var a,u={},c=s(r);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(I_(t,n,l)&&!i[k_(l)]){var h=new vw([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===o?t.segments.length:e.length,u[k_(l)]=h}}}catch(f){c.e(f)}finally{c.f()}return Object.assign(Object.assign({},i),u)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var u=new vw(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function I_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function T_(t,e,n,r){return!!(k_(t)===r||"primary"!==r&&I_(e,n,t))&&("**"===t.path||C_(e,t,n).matched)}function A_(t,e,n){return 0===e.length&&!t.children[n]}var x_=function t(e){d(this,t),this.segmentGroup=e||null},j_=function t(e){d(this,t),this.urlTree=e};function R_(t){return new ee.a(function(e){return e.error(new x_(t))})}function N_(t){return new ee.a(function(e){return e.error(new j_(t))})}function D_(t){return new ee.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var P_=function(){function t(e,n,r,i,o){d(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(u.y)}return v(t,[{key:"apply",value:function(){var t=this,e=S_(this.urlTree.root,[],[],this.config).segmentGroup,n=new vw(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(Object(re.a)(function(e){return t.createUrlTree(L_(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Ib(function(e){if(e instanceof j_)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof x_)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(re.a)(function(n){return e.createUrlTree(L_(n),t.queryParams,t.fragment)})).pipe(Ib(function(t){if(t instanceof x_)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new vw([],{primary:t}):t;return new pw(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(re.a)(function(t){return new vw([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?i.unshift(s):i.push(s)}return Object(te.a)(i).pipe(Dn(function(i){var o=n.children[i],a=E_(e,i);return r.expandSegmentGroup(t,a,o,i).pipe(Object(re.a)(function(t){return{segment:t,outlet:i}}))}),ki(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Ln(function(e,n){return t(e,n,r)}):ti.a,xb(1),n?Kr(e):Jr(function(){return new qr}))}}())}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object(te.a)(n).pipe(Dn(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Ib(function(t){if(t instanceof x_)return Object(Rn.a)(null);throw t}))}),ei(function(t){return!!t}),Ib(function(t,n){if(t instanceof qr||"EmptyError"===t.name){if(A_(e,r,i))return Object(Rn.a)(new vw([],{}));throw new x_(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return T_(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):R_(e):R_(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?N_(o):this.lineralizeSegments(n,o).pipe(Object(Nn.a)(function(n){var o=new vw(n,{});return i.expandSegment(t,o,e,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=C_(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return R_(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?N_(f):this.lineralizeSegments(r,f).pipe(Object(Nn.a)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Rn.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(re.a)(function(t){return n._loadedConfig=t,new vw(r,{})})):Object(Rn.a)(new vw(r,{}));var a=C_(e,n,r),s=a.matched,u=a.consumedSegments,c=a.lastChild;if(!s)return R_(e);var l=r.slice(c);return this.getChildConfig(t,n,r).pipe(Object(Nn.a)(function(t){var r=t.module,a=t.routes,s=S_(e,u,l,a),c=s.segmentGroup,h=s.slicedSegments,f=new vw(c.segments,c.children);if(0===h.length&&f.hasChildren())return o.expandChildren(r,a,f).pipe(Object(re.a)(function(t){return new vw(u,t)}));if(0===a.length&&0===h.length)return Object(Rn.a)(new vw(u,{}));var d=k_(n)===i;return o.expandSegment(r,f,a,h,d?"primary":i,!0).pipe(Object(re.a)(function(t){return new vw(u.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(Rn.a)(new h_(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Rn.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Nn.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(re.a)(function(t){return e._loadedConfig=t,t})):function(t){return new ee.a(function(e){return e.error(nw("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):Object(Rn.a)(new h_([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;if(!i||0===i.length)return Object(Rn.a)(!0);var o=i.map(function(r){var i,o=t.get(r);if(function(t){return t&&f_(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!f_(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return cw(i)});return Object(Rn.a)(o).pipe(v_(),Object(Nb.a)(function(t){if(d_(t)){var e=nw('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),Object(re.a)(function(t){return!0===t}))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Rn.a)(n);if(r.numberOfChildren>1||!r.children.primary)return D_(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new pw(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return uw(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return uw(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new vw(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=s(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function L_(t){for(var e={},n=0,r=Object.keys(t.children);n<r.length;n++){var i=r[n],o=L_(t.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new vw(t.segments.concat(e.segments),e.children)}return t}(new vw(t.segments,e))}var M_=function t(e){d(this,t),this.path=e,this.route=this.path[this.path.length-1]},V_=function t(e,n){d(this,t),this.component=e,this.route=n};function F_(t,e,n){var r=t._root;return q_(r,e?e._root:null,n,[r.value])}function U_(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function q_(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Vw(e);return t.children.forEach(function(t){!function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!gw(t.url,e.url);case"pathParamsOrQueryParamsChange":return!gw(t.url,e.url)||!iw(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yw(t,e)||!iw(t.queryParams,e.queryParams);case"paramsChange":default:return!Yw(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new M_(r)):(o.data=a.data,o._resolvedData=a._resolvedData),q_(t,e,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new V_(s.outlet.component,a))}else a&&z_(e,s,i),i.canActivateChecks.push(new M_(r)),q_(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),uw(o,function(t,e){return z_(t,n.getContext(e),i)}),i}function z_(t,e,n){var r=Vw(t),i=t.value;uw(r,function(t,r){z_(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new V_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var B_=function t(){d(this,t)};function H_(t){return new ee.a(function(e){return e.error(t)})}var Q_=function(){function t(e,n,r,i,o,a){d(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return v(t,[{key:"recognize",value:function(){var t=S_(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;var n=new Bw([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Mw(n,e),i=new Hw(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=zw(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var n=[],r=0,i=Object.keys(e.children);r<i.length;r++){var a=i[r],u=e.children[a],c=E_(t,a),l=this.processSegmentGroup(c,u,a);if(null===l)return null;n.push.apply(n,o(l))}var h=function(t){var e,n=[],r=s(t);try{var i=function(){var t,r=e.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(r))return n.push(r),"continue";var i=n.find(function(t){return r.value.routeConfig===t.value.routeConfig});void 0!==i?(t=i.children).push.apply(t,o(r.children)):n.push(r)};for(r.s();!(e=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}return n}(n);return h.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),h}},{key:"processSegment",value:function(t,e,n,r){var i,o=s(t);try{for(o.s();!(i=o.n()).done;){var a=i.value,u=this.processSegmentAgainstRoute(a,e,n,r);if(null!==u)return u}}catch(c){o.e(c)}finally{o.f()}return A_(e,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo||!T_(t,e,n,r))return null;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?sw(n).parameters:{};i=new Bw(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Y_(t),k_(t),t.component,t,G_(e),K_(e)+n.length,W_(t))}else{var u=C_(e,t,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),i=new Bw(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Y_(t),k_(t),t.component,t,G_(e),K_(e)+o.length,W_(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=S_(e,o,a,c.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return null===d?null:[new Mw(i,d)]}if(0===c.length&&0===f.length)return[new Mw(i,[])];var p=k_(t)===r,v=this.processSegment(c,h,f,p?"primary":r);return null===v?null:[new Mw(i,v)]}}]),t}();function G_(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function K_(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Y_(t){return t.data||{}}function W_(t){return t.resolve||{}}function J_(t){return jr(function(e){var n=t(e);return n?Object(te.a)(n).pipe(Object(re.a)(function(){return e})):Object(Rn.a)(e)})}var X_=function(t){y(n,t);var e=m(n);function n(){return d(this,n),e.apply(this,arguments)}return n}(function(){function t(){d(this,t)}return v(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),Z_=new u.r("ROUTES"),$_=function(){function t(e,n,r,i){d(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return v(t,[{key:"load",value:function(t,e){var n=this;if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren).pipe(Object(re.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new h_(aw(i.injector.get(Z_,void 0,u.q.Self|u.q.Optional)).map(__),i)}),Ib(function(t){throw e._loader$=void 0,t}));return e._loader$=new Sb.a(r,function(){return new Ir.a}).pipe(Object(Db.a)()),e._loader$}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(te.a)(this.loader.load(t)):cw(t()).pipe(Object(Nn.a)(function(t){return t instanceof u.w?Object(Rn.a)(t):Object(te.a)(e.compiler.compileModuleAsync(t))}))}}]),t}(),tk=function t(){d(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new ek,this.attachRef=null},ek=function(){function t(){d(this,t),this.contexts=new Map}return v(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new tk,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),nk=function(){function t(){d(this,t)}return v(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function rk(t){throw t}function ik(t,e,n){return e.parse("/")}function ok(t,e){return Object(Rn.a)(null)}var ak,sk,uk=((sk=function(){function t(e,n,r,i,o,a,s,c){var l=this;d(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ir.a,this.errorHandler=rk,this.malformedUriErrorHandler=ik,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ok,afterPreactivation:ok},this.urlHandlingStrategy=new nk,this.routeReuseStrategy=new X_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(u.y),this.console=o.get(u.Y);var h=o.get(u.A);this.isNgZoneEnabled=h instanceof u.A&&u.A.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new pw(new vw([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $_(a,s,function(t){return l.triggerEvent(new Kb(t))},function(t){return l.triggerEvent(new Yb(t))}),this.routerState=Uw(this.currentUrlTree,this.rootComponentType),this.transitions=new yb({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return v(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Ln(function(t){return 0!==t.id}),Object(re.a)(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),jr(function(t){var r,i,o,a,s=!1,u=!1;return Object(Rn.a)(t).pipe(Object(Nb.a)(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),jr(function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Rn.a)(t).pipe(jr(function(t){var r=e.transitions.getValue();return n.next(new Vb(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?Br.a:Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,jr(function(t){return function(t,e,n,r,i){return new P_(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(re.a)(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))})),Object(Nb.a)(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return Object(Nn.a)(function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new Q_(t,e,n,r,i,o).recognize();return null===a?H_(new B_):Object(Rn.a)(a)}catch(Km){return H_(Km)}}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(re.a)(function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})}));var a})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(Nb.a)(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects);var r=new zb(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new Vb(u,e.serializeUrl(c),l,h);n.next(d);var p=Uw(c,e.rootComponentType).snapshot;return Object(Rn.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Br.a}),J_(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),Object(Nb.a)(function(t){var n=new Bb(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(re.a)(function(t){return Object.assign(Object.assign({},t),{guards:F_(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return Object(Nn.a)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(Rn.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(te.a)(t).pipe(Object(Nn.a)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Rn.a)(!0);var a=o.map(function(o){var a,s=U_(o,e,i);if(function(t){return t&&f_(t.canDeactivate)}(s))a=cw(s.canDeactivate(t,e,n,r));else{if(!f_(s))throw new Error("Invalid CanDeactivate guard");a=cw(s(t,e,n,r))}return a.pipe(ei())});return Object(Rn.a)(a).pipe(v_())}(t.component,t.route,n,e,r)}),ei(function(t){return!0!==t},!0))}(s,r,i,t).pipe(Object(Nn.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(te.a)(e).pipe(Dn(function(e){return yi(function(t,e){return null!==t&&e&&e(new Wb(t)),Object(Rn.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Xb(t)),Object(Rn.a)(!0)}(e.route,r),function(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return Cb(function(){var i=e.guards.map(function(i){var o,a=U_(i,e.node,n);if(function(t){return t&&f_(t.canActivateChild)}(a))o=cw(a.canActivateChild(r,t));else{if(!f_(a))throw new Error("Invalid CanActivateChild guard");o=cw(a(r,t))}return o.pipe(ei())});return Object(Rn.a)(i).pipe(v_())})});return Object(Rn.a)(i).pipe(v_())}(t,e.path,n),function(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Rn.a)(!0);var i=r.map(function(r){return Cb(function(){var i,o=U_(r,e,n);if(function(t){return t&&f_(t.canActivate)}(o))i=cw(o.canActivate(e,t));else{if(!f_(o))throw new Error("Invalid CanActivate guard");i=cw(o(e,t))}return i.pipe(ei())})});return Object(Rn.a)(i).pipe(v_())}(t,e.route,n))}),ei(function(t){return!0!==t},!0))}(r,a,t,e):Object(Rn.a)(n)}),Object(re.a)(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Object(Nb.a)(function(t){if(d_(t.guardsResult)){var n=nw('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var r=new Hb(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(r)}),Ln(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Ub(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),J_(function(t){if(t.guards.canActivateChecks.length)return Object(Rn.a)(t).pipe(Object(Nb.a)(function(t){var n=new Qb(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),jr(function(t){var r,i,o=!1;return Object(Rn.a)(t).pipe((r=e.paramsInheritanceStrategy,i=e.ngModule.injector,Object(Nn.a)(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return Object(Rn.a)(t);var o=0;return Object(te.a)(n).pipe(Dn(function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(Rn.a)({});var o={};return Object(te.a)(i).pipe(Object(Nn.a)(function(i){return function(t,e,n,r){var i=U_(t,e,r);return cw(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Nb.a)(function(t){o[i]=t}))}),xb(1),Object(Nn.a)(function(){return Object.keys(o).length===i.length?Object(Rn.a)(o):Br.a}))}(t._resolve,t,e,r).pipe(Object(re.a)(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),zw(t,n).resolve),null}))}(t.route,e,r,i)}),Object(Nb.a)(function(){return o++}),xb(1),Object(Nn.a)(function(e){return o===n.length?Object(Rn.a)(t):Br.a}))})),Object(Nb.a)({next:function(){return o=!0},complete:function(){if(!o){var r=new Ub(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))}),Object(Nb.a)(function(t){var n=new Gb(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),J_(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),Object(re.a)(function(t){var n=function(t,e,n){var r=Ww(t,e._root,n?n._root:void 0);return new Fw(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),Object(Nb.a)(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(re.a)(function(t){return new c_(o,t.targetRouterState,t.currentRouterState,a).activate(i),t})),Object(Nb.a)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new Ub(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Pb(r))}),Ib(function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=d_(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Ub(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new qb(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(vl){t.reject(vl)}}var s;return Br.a}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(i,e,r,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){m_(t),this.config=t.map(__),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,i=e.fragment,a=e.queryParamsHandling,s=e.preserveFragment,u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:i,l=null;switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return $w(e.root,e.root,e,r,i);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new e_(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var a={};return uw(r.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),[].concat(o(t),[{outlets:a}])}if(r.segmentPath)return[].concat(o(t),[r.segmentPath])}return"string"!=typeof r?[].concat(o(t),[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[].concat(o(t),[r])},[]);return new e_(n,e,r)}(n);if(a.toRoot())return $w(e.root,new vw([],{}),e,r,i);var s=function(t,e,n){if(t.isAbsolute)return new n_(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new n_(r,r===e.root,0)}var i=Xw(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new n_(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(a,e,t),u=s.processChildren?i_(s.segmentGroup,s.index,a.commands):r_(s.segmentGroup,s.index,a.commands);return $w(s.segmentGroup,u,e,r,i)}(u,this.currentUrlTree,t,l,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=d_(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(Km){e=this.malformedUriErrorHandler(Km,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(d_(t))return lw(this.currentUrlTree,t,e);var n=this.parseUrl(t);return lw(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Fb(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);var o,a,s,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise(function(t,e){o=t,a=e});var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}()).\u0275fac=function(t){return new(t||sk)(u.Yb(u.N),u.Yb(mw),u.Yb(ek),u.Yb(U),u.Yb(u.s),u.Yb(u.x),u.Yb(u.i),u.Yb(void 0))},sk.\u0275prov=u.Ib({token:sk,factory:sk.\u0275fac}),sk),ck=((ak=function(){function t(e,n,r){var i=this;d(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new Ir.a,this.subscription=e.events.subscribe(function(t){t instanceof Fb&&i.updateTargetUrlAndHref()})}return v(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:lk(this.skipLocationChange),replaceUrl:lk(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:lk(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||ak)(u.Mb(uk),u.Mb(qw),u.Mb(R))},ak.\u0275dir=u.Hb({type:ak,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&u.bc("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(u.Ub("href",e.href,u.uc),u.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[u.yb]}),ak);function lk(t){return""===t||!!t}var hk,fk,dk,pk=((hk=function(){function t(e,n,r,i,o){d(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.n,this.deactivateEvents=new u.n,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return v(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new vk(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}()).\u0275fac=function(t){return new(t||hk)(u.Mb(ek),u.Mb(u.Q),u.Mb(u.j),u.Zb("name"),u.Mb(u.h))},hk.\u0275dir=u.Hb({type:hk,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),hk),vk=function(){function t(e,n,r){d(this,t),this.route=e,this.childContexts=n,this.parent=r}return v(t,[{key:"get",value:function(t,e){return t===qw?this.route:t===ek?this.childContexts:this.parent.get(t,e)}}]),t}(),yk=function t(){d(this,t)},gk=function(){function t(){d(this,t)}return v(t,[{key:"preload",value:function(t,e){return Object(Rn.a)(null)}}]),t}(),mk=((dk=function(){function t(e,n,r,i,o){d(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new $_(n,r,function(t){return e.triggerEvent(new Kb(t))},function(t){return e.triggerEvent(new Yb(t))})}return v(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Ln(function(t){return t instanceof Fb}),Dn(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(u.y);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=s(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(u){i.e(u)}finally{i.f()}return Object(te.a)(r).pipe(Object(vi.a)(),Object(re.a)(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return(e._loadedConfig?Object(Rn.a)(e._loadedConfig):n.loader.load(t.injector,e)).pipe(Object(Nn.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}()).\u0275fac=function(t){return new(t||dk)(u.Yb(uk),u.Yb(u.x),u.Yb(u.i),u.Yb(u.s),u.Yb(yk))},dk.\u0275prov=u.Ib({token:dk,factory:dk.\u0275fac}),dk),bk=((fk=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return v(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Vb?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Fb&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof $b&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new $b(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||fk)(u.Yb(uk),u.Yb(ft),u.Yb(void 0))},fk.\u0275prov=u.Ib({token:fk,factory:fk.\u0275fac}),fk),wk=new u.r("ROUTER_CONFIGURATION"),_k=new u.r("ROUTER_FORROOT_GUARD"),kk=[U,{provide:mw,useClass:bw},{provide:uk,useFactory:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=new uk(null,t,e,n,r,i,o,aw(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(s,h),s.enableTracing){var f=l();h.events.subscribe(function(t){f.logGroup("Router Event: ".concat(t.constructor.name)),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return h},deps:[mw,ek,U,u.s,u.x,u.i,Z_,wk,[function(){return function t(){d(this,t)}}(),new u.B],[function(){return function t(){d(this,t)}}(),new u.B]]},ek,{provide:qw,useFactory:function(t){return t.routerState.root},deps:[uk]},{provide:u.x,useClass:u.K},mk,gk,function(){function t(){d(this,t)}return v(t,[{key:"preload",value:function(t,e){return e().pipe(Ib(function(){return Object(Rn.a)(null)}))}}]),t}(),{provide:wk,useValue:{enableTracing:!1}}];function Ek(){return new u.z("Router",uk)}var Ok,Ck=((Ok=function(){function t(e,n){d(this,t)}return v(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[kk,Ak(e),{provide:_k,useFactory:Tk,deps:[[uk,new u.B,new u.J]]},{provide:wk,useValue:n||{}},{provide:R,useFactory:Ik,deps:[g,[new u.p(M),new u.B],wk]},{provide:bk,useFactory:Sk,deps:[uk,ft,wk]},{provide:yk,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:gk},{provide:u.z,multi:!0,useFactory:Ek},[jk,{provide:u.d,multi:!0,useFactory:Rk,deps:[jk]},{provide:Pk,useFactory:Nk,deps:[jk]},{provide:u.b,multi:!0,useExisting:Pk}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Ak(e)]}}}]),t}()).\u0275fac=function(t){return new(t||Ok)(u.Yb(_k,8),u.Yb(uk,8))},Ok.\u0275mod=u.Kb({type:Ok}),Ok.\u0275inj=u.Jb({}),Ok);function Sk(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new bk(t,e,n)}function Ik(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new F(t,e):new V(t,e)}function Tk(t){return"guarded"}function Ak(t){return[{provide:u.a,multi:!0,useValue:t},{provide:Z_,multi:!0,useValue:t}]}var xk,jk=((xk=function(){function t(e){d(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new Ir.a}return v(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(O,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(uk),i=t.injector.get(wk);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return t.initNavigation?Object(Rn.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(wk),n=this.injector.get(mk),r=this.injector.get(bk),i=this.injector.get(uk),o=this.injector.get(u.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}()).\u0275fac=function(t){return new(t||xk)(u.Yb(u.s))},xk.\u0275prov=u.Ib({token:xk,factory:xk.\u0275fac}),xk);function Rk(t){return t.appInitializer.bind(t)}function Nk(t){return t.bootstrapListener.bind(t)}var Dk,Pk=new u.r("Router Initializer"),Lk=a("mCNh"),Mk=Object(re.a)(function(t){return!!t}),Vk=((Dk=function t(e,n){var r=this;d(this,t),this.router=e,this.auth=n,this.canActivate=function(t,e){var n=t.data.authGuardPipe||function(){return Mk};return r.auth.user.pipe(Hr(1),n(t,e),Object(re.a)(function(t){return"boolean"==typeof t?t:Array.isArray(t)?r.router.createUrlTree(t):r.router.parseUrl(t)}))}}).\u0275fac=function(t){return new(t||Dk)(u.Yb(uk),u.Yb(hi))},Dk.\u0275prov=Object(u.Ib)({factory:function(){return new Dk(Object(u.Yb)(uk),Object(u.Yb)(hi))},token:Dk,providedIn:"any"}),Dk);Object(re.a)(function(t){return!!t&&!t.isAnonymous});var Fk=jr(function(t){return t?t.getIdTokenResult():Object(Rn.a)(null)});Object(re.a)(function(t){return!!t&&t.emailVerified}),Object(Lk.a)(Fk,Object(re.a)(function(t){return t?t.claims:[]}));var Uk,qk,zk=((Uk=function t(){d(this,t)}).\u0275fac=function(t){return new(t||Uk)},Uk.\u0275mod=u.Kb({type:Uk}),Uk.\u0275inj=u.Jb({providers:[Vk]}),Uk),Bk=function(){function t(e,n,r,i){d(this,t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new Hk(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}]),t}(),Hk=function(t){y(n,t);var e=m(n);function n(t,r,i,o,a){var s;return d(this,n),(s=e.call(this,t)).keySelector=r,s.elementSelector=i,s.durationSelector=o,s.subjectSelector=a,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return v(n,[{key:"_next",value:function(t){var e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}},{key:"_group",value:function(t,e){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(s){this.error(s)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new Ir.a,n.set(e,i);var o=new Gk(e,i,this);if(this.destination.next(o),this.durationSelector){var a;try{a=this.durationSelector(new Gk(e,i))}catch(s){return void this.error(s)}this.add(a.subscribe(new Qk(e,i,this)))}}i.closed||i.next(r)}},{key:"_error",value:function(t){var e=this.groups;e&&(e.forEach(function(e,n){e.error(t)}),e.clear()),this.destination.error(t)}},{key:"_complete",value:function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()}},{key:"removeGroup",value:function(t){this.groups.delete(t)}},{key:"unsubscribe",value:function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&f(k(n.prototype),"unsubscribe",this).call(this))}}]),n}(Pn.a),Qk=function(t){y(n,t);var e=m(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,r)).key=t,o.group=r,o.parent=i,o}return v(n,[{key:"_next",value:function(t){this.complete()}},{key:"_unsubscribe",value:function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)}}]),n}(Pn.a),Gk=function(t){y(n,t);var e=m(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this)).key=t,o.groupSubject=r,o.refCountSubscription=i,o}return v(n,[{key:"_subscribe",value:function(t){var e=new Pr.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new Kk(n)),e.add(r.subscribe(t)),e}}]),n}(ee.a),Kk=function(t){y(n,t);var e=m(n);function n(t){var r;return d(this,n),(r=e.call(this)).parent=t,t.count++,r}return v(n,[{key:"unsubscribe",value:function(){var t=this.parent;t.closed||this.closed||(f(k(n.prototype),"unsubscribe",this).call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}]),n}(Pr.a),Yk=new u.r("angularfire2.analytics.analyticsCollectionEnabled"),Wk=new u.r("angularfire2.analytics.appVersion"),Jk=new u.r("angularfire2.analytics.appName"),Xk=new u.r("angularfire2.analytics.debugMode"),Zk=new u.r("angularfire2.analytics.config"),$k=((qk=function(){function t(e,n,r,i,o,s,u,c){var l=this;if(d(this,t),this.analyticsInitialized=new Promise(function(){}),ct(u)){window.dataLayer=window.dataLayer||[];var h=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"config"===e[0]&&"firebase"===e[2].origin&&(l.measurementId=e[1],!0)},f=function(t){window.gtag=function(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];t&&t.apply(void 0,a),"event"===a[0]&&a[2].send_to===l.measurementId&&(i&&(a[2].app_name=i),r&&(a[2].app_version=r)),o&&"undefined"!=typeof console&&(e=console).info.apply(e,a),(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];window.dataLayer.push(arguments)}).apply(void 0,a)}};window.dataLayer.some(h)?(this.analyticsInitialized=Promise.resolve(),f()):this.analyticsInitialized=new Promise(function(t){f(function(){h.apply(void 0,arguments)&&t()})}),s&&this.updateConfig(s),o&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();var p=Object(Rn.a)(void 0).pipe(Object(Ar.b)(new Sr.e(c).outsideAngular),jr(function(){return ct(u)?c.runOutsideAngular(function(){return a.e(5).then(a.bind(null,"AAub"))}):Br.a}),Object(re.a)(function(){return Object(Sr.g)("analytics","AngularFireAnalytics",e,function(){var t=e.analytics();return!1===n&&t.setAnalyticsCollectionEnabled(!1),t},[e,n,s,o])}),Ur({bufferSize:1,refCount:!1}));return Object(Sr.j)(this,p,c)}return v(t,[{key:"updateConfig",value:function(t){return Object(Du.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.analyticsInitialized;case 2:window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}));case 3:case"end":return e.stop()}},e,this)}))}}]),t}()).\u0275fac=function(t){return new(t||qk)(u.Yb(Sr.d),u.Yb(Yk,8),u.Yb(Wk,8),u.Yb(Jk,8),u.Yb(Xk,8),u.Yb(Zk,8),u.Yb(u.C),u.Yb(u.A))},qk.\u0275prov=Object(u.Ib)({factory:function(){return new qk(Object(u.Yb)(Sr.d),Object(u.Yb)(Yk,8),Object(u.Yb)(Wk,8),Object(u.Yb)(Jk,8),Object(u.Yb)(Xk,8),Object(u.Yb)(Zk,8),Object(u.Yb)(u.C),Object(u.Yb)(u.A))},token:qk,providedIn:"any"}),qk);Object(Sr.f)($k,[{app:null,logEvent:null,setCurrentScreen:null,setUserId:null,setUserProperties:null,setAnalyticsCollectionEnabled:null}]);var tE,eE,nE,rE,iE,oE=((tE=function(){function t(e,n,r,i){var o;d(this,t),this.disposables=[],lt(n)?this.initialized=Promise.resolve():(this.initialized=i.runOutsideAngular(function(){return new Promise(function(t){return o=t})}),this.disposables=[r.authState.subscribe(function(t){e.setUserId(null==t?void 0:t.uid),o()}),r.credential.subscribe(function(t){if(t){var n=t.user.isAnonymous?"anonymous":t.additionalUserInfo.providerId;t.additionalUserInfo.isNewUser&&e.logEvent("sign_up",{method:n}),e.logEvent("login",{method:n})}})])}return v(t,[{key:"ngOnDestroy",value:function(){this.disposables.forEach(function(t){return t.unsubscribe()})}}]),t}()).\u0275fac=function(t){return new(t||tE)(u.Yb($k),u.Yb(u.C),u.Yb(hi),u.Yb(u.A))},tE.\u0275prov=u.Ib({token:tE,factory:tE.\u0275fac}),tE),aE=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31),sE={},uE=function(t){var e=[t.screen_class,t.outlet].join("#");if(sE.hasOwnProperty(e))return sE[e];var n=aE++;return sE[e]=n,n},cE=((nE=function(){function t(e,r,i,o,a,s,u){var c=this;if(d(this,t),!r||!ct(a))return this;s.runOutsideAngular(function(){var t,a=r.events.pipe(Ln(function(t){return t instanceof Zb}));c.disposable=a.pipe(jr(function(t){var e,n=(null===(e=r.parseUrl(r.url.replace(/(?:\().+(?:\))/g,function(t){return t.replace("://",":///")})).root.children[t.snapshot.outlet])||void 0===e?void 0:e.toString())||"",a=r.routerState.root.children.map(function(t){return t}).find(function(e){return e.outlet===t.snapshot.outlet});if(!a)return Object(Rn.a)(null);for(var s=a;s.firstChild;)s=s.firstChild;var u=s.pathFromRoot.map(function(t){var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(function(t){return t}).join("/")||"/",c={screen_name:u,page_path:"/".concat(n),firebase_event_origin:"auto",firebase_screen:u,outlet:t.snapshot.outlet};i&&(c.page_title=i.getTitle());var l=a.component;if(l){if(l===g_){for(var h=t.snapshot;h.firstChild;)h=h.firstChild;l=h.component}}else l=t.snapshot.component;if("string"==typeof l)return Object(Rn.a)(Object.assign(Object.assign({},c),{screen_class:l}));if(l){var f=o.resolveComponentFactory(l);return Object(Rn.a)(Object.assign(Object.assign({},c),{screen_class:f.selector}))}return Object(Rn.a)(null)}),Ln(function(t){return t}),Object(re.a)(function(t){return Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:uE(t)},t)}),(t=function(t){return t.outlet},function(e){return e.lift(new Bk(t,void 0,void 0,void 0))}),Object(Nn.a)(function(t){return t.pipe(Ci(function(t,e){return JSON.stringify(t)===JSON.stringify(e)}),mi(void 0),bi(),Object(re.a)(function(t){var e=n(t,2),r=e[0],i=e[1];return r?Object.assign({firebase_previous_class:r.screen_class,firebase_previous_screen:r.screen_name,firebase_previous_id:r.firebase_screen_id},i):i}),jr(function(t){return Object(Du.b)(c,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=u,!n.t0){n.next=4;break}return n.next=4,u.initialized;case 4:return n.next=6,e.logEvent("screen_view",t);case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}},n)}))}))})).subscribe()})}return v(t,[{key:"ngOnDestroy",value:function(){this.disposable&&this.disposable.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||nE)(u.Yb($k),u.Yb(uk,8),u.Yb($t,8),u.Yb(u.j),u.Yb(u.C),u.Yb(u.A),u.Yb(oE,8))},nE.\u0275prov=u.Ib({token:nE,factory:nE.\u0275fac}),nE),lE=((eE=function t(e,n,r){d(this,t),e.app.then(function(){})}).\u0275fac=function(t){return new(t||eE)(u.Yb($k),u.Yb(cE,8),u.Yb(oE,8))},eE.\u0275mod=u.Kb({type:eE}),eE.\u0275inj=u.Jb({providers:[$k]}),eE),hE=new u.r("WindowToken","undefined"!=typeof window&&window.document?{providedIn:"root",factory:function(){return window}}:{providedIn:"root",factory:function(){}}),fE=((iE=function(){function t(e,n){d(this,t),this.document=e,this.window=n,this.copySubject=new Ir.a,this.copyResponse$=this.copySubject.asObservable(),this.config={}}return v(t,[{key:"configure",value:function(t){this.config=t}},{key:"copy",value:function(t){if(!this.isSupported||!t)return this.pushCopyResponse({isSuccess:!1,content:t});var e=this.copyFromContent(t);return this.pushCopyResponse(e?{content:t,isSuccess:e}:{isSuccess:!1,content:t})}},{key:"isSupported",get:function(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}},{key:"isTargetValid",value:function(t){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){if(t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}},{key:"copyFromInputElement",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{this.selectTarget(t);var n=this.copyText();return this.clearSelection(e?t:void 0,this.window),n&&this.isCopySuccessInIE11()}catch(r){return!1}}},{key:"isCopySuccessInIE11",value:function(){var t=this.window.clipboardData;return!(t&&t.getData&&!t.getData("Text"))}},{key:"copyFromContent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.document.body;if(this.tempTextArea&&!e.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{e.appendChild(this.tempTextArea)}catch(r){throw new Error("Container should be a Dom element")}}this.tempTextArea.value=t;var n=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),n}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.document.body;this.tempTextArea&&(t.removeChild(this.tempTextArea),this.tempTextArea=void 0)}},{key:"selectTarget",value:function(t){return t.select(),t.setSelectionRange(0,t.value.length),t.value.length}},{key:"copyText",value:function(){return this.document.execCommand("copy")}},{key:"clearSelection",value:function(t,e){var n;t&&t.focus(),null===(n=e.getSelection())||void 0===n||n.removeAllRanges()}},{key:"createTempTextArea",value:function(t,e){var n,r="rtl"===t.documentElement.getAttribute("dir");return(n=t.createElement("textarea")).style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[r?"right":"left"]="-9999px",n.style.top=(e.pageYOffset||t.documentElement.scrollTop)+"px",n.setAttribute("readonly",""),n}},{key:"pushCopyResponse",value:function(t){this.copySubject.next(t)}},{key:"pushCopyReponse",value:function(t){this.pushCopyResponse(t)}}]),t}()).\u0275fac=function(t){return new(t||iE)(u.Yb(p),u.Yb(hE,8))},iE.\u0275prov=Object(u.Ib)({factory:function(){return new iE(Object(u.Yb)(p),Object(u.Yb)(hE,8))},token:iE,providedIn:"root"}),iE),dE=((rE=function t(){d(this,t)}).\u0275fac=function(t){return new(t||rE)},rE.\u0275mod=u.Kb({type:rE}),rE.\u0275inj=u.Jb({imports:[[ut]]}),rE),pE=a("n6bG");function vE(t,e,n,r){return Object(pE.a)(n)&&(r=n,n=void 0),r?vE(t,e,n).pipe(Object(re.a)(function(t){return Object(ne.a)(t)?r.apply(void 0,o(t)):r(t)})):new ee.a(function(r){yE(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function yE(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var a=t;t.addEventListener(e,n,i),o=function(){return a.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(e,n),o=function(){return s.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,l=t.length;c<l;c++)yE(t[c],e,n,r,i)}r.add(o)}var gE=a("Y7HM");function mE(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var bE=function(){function t(){d(this,t)}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new wE(t))}}]),t}(),wE=function(t){y(n,t);var e=m(n);function n(t){var r;return d(this,n),(r=e.call(this,t)).hasFirst=!1,r.observables=[],r.subscriptions=[],r}return v(n,[{key:"_next",value:function(t){this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=wb(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}},{key:"notifyNext",value:function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)}}]),n}(gb);a("KqfI");var _E=a("Lhse");function kE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return"function"==typeof r&&e.pop(),Object(_b.a)(e,void 0).lift(new EE(r))}var EE=function(){function t(e){d(this,t),this.resultSelector=e}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new OE(t,this.resultSelector))}}]),t}(),OE=function(t){y(n,t);var e=m(n);function n(t,r){var i;arguments.length>2&&void 0!==arguments[2]||Object.create(null);return d(this,n),(i=e.call(this,t)).resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return v(n,[{key:"_next",value:function(t){var e=this.iterators;Object(ne.a)(t)?e.push(new SE(t)):e.push("function"==typeof t[_E.a]?new CE(t[_E.a]()):new IE(this.destination,this,t))}},{key:"_complete",value:function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){var i=t[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,a=[],s=0;s<e;s++){var u=t[s],c=u.next();if(u.hasCompleted()&&(o=!0),c.done)return void n.complete();a.push(c.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()}},{key:"_tryresultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Pn.a),CE=function(){function t(e){d(this,t),this.iterator=e,this.nextResult=e.next()}return v(t,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t}},{key:"hasCompleted",value:function(){var t=this.nextResult;return Boolean(t&&t.done)}}]),t}(),SE=function(){function t(e){d(this,t),this.array=e,this.index=0,this.length=0,this.length=e.length}return v(t,[{key:_E.a,value:function(){return this}},{key:"next",value:function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),t}(),IE=function(t){y(n,t);var e=m(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,t)).parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return v(n,[{key:_E.a,value:function(){return this}},{key:"next",value:function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(t){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(){return Object(xr.c)(this.observable,new xr.a(this))}}]),n}(xr.b);function TE(t){return function(e){return e.lift(new AE(t))}}var AE=function(){function t(e){d(this,t),this.notifier=e}return v(t,[{key:"call",value:function(t,e){var n=new xE(t),r=Object(xr.c)(this.notifier,new xr.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),xE=function(t){y(n,t);var e=m(n);function n(t){var r;return d(this,n),(r=e.call(this,t)).seenValue=!1,r}return v(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(xr.b);function jE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new RE(e,n))}}var RE=function(){function t(e,n){d(this,t),this.observables=e,this.project=n}return v(t,[{key:"call",value:function(t,e){return e.subscribe(new NE(t,this.observables,this.project))}}]),t}(),NE=function(t){y(n,t);var e=m(n);function n(t,r,i){var o;d(this,n),(o=e.call(this,t)).observables=r,o.project=i,o.toRespond=[];var a=r.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var u=0;u<a;u++)o.add(wb(w(o),r[u],void 0,u));return o}return v(n,[{key:"notifyNext",value:function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(o(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(gb);a("WMd4"),a("w1tV");var DE=["*"],PE=["dialog"];function LE(t,e){if(1&t&&(u.Rb(0,"strong",3),u.zc(1),u.Qb()),2&t){var n=u.fc();u.Ab(1),u.Ac(n.header)}}function ME(t,e){}function VE(t,e){if(1&t){var n=u.Sb();u.Rb(0,"div",4),u.xc(1,ME,0,0,"ng-template",5),u.Rb(2,"button",6),u.bc("click",function(){return u.tc(n),u.fc().hide()}),u.Rb(3,"span",7),u.zc(4,"\xd7"),u.Qb(),u.Qb(),u.Qb()}if(2&t){var r=u.fc(),i=u.rc(1);u.Ab(1),u.kc("ngTemplateOutlet",r.contentHeaderTpl||i)}}function FE(t){return null!=t}function UE(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var qE,zE,BE,HE,QE,GE,KE=!0,YE=5,WE=((qE=function t(){d(this,t),this.animation=KE}).\u0275fac=function(t){return new(t||qE)},qE.\u0275prov=Object(u.Ib)({factory:function(){return new qE},token:qE,providedIn:"root"}),qE),JE=function(){},XE=YE,ZE=new Map,$E=function(t,e,n,r){var i=r.context||{},o=ZE.get(e);if(o)switch(r.runningTransition){case"continue":return Br.a;case"stop":t.run(function(){return o.transition$.complete()}),i=Object.assign(o.context,i),ZE.delete(e)}var a=n(e,r.animation,i)||JE;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(function(){return a()}),Object(Rn.a)(void 0).pipe(function(t){return function(e){return new ee.a(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}}(t));var s=new Ir.a,u=new Ir.a,c=s.pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return yi(t,Object(Rn.a).apply(void 0,e))}}(!0));ZE.set(e,{transition$:s,complete:function(){u.next(),u.complete()},context:i});var l=function(t){var e=window.getComputedStyle(t),n=e.transitionDelay,r=e.transitionDuration;return 1e3*(parseFloat(n)+parseFloat(r))}(e);return t.runOutsideAngular(function(){var n=vE(e,"transitionend").pipe(TE(c),Ln(function(t){return t.target===e}));(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){if(!Object(ne.a)(e[0]))return e[0];e=e[0]}return Object(_b.a)(e,void 0).lift(new bE)})(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Object(gE.a)(e)?r=Number(e)<1?1:Number(e):Object(gi.a)(e)&&(n=e),Object(gi.a)(n)||(n=pi.a),new ee.a(function(e){var i=Object(gE.a)(t)?t:+t-n.now();return n.schedule(mE,i,{index:0,period:r,subscriber:e})})}(l+XE).pipe(TE(c)),n,u).pipe(TE(c)).subscribe(function(){ZE.delete(e),t.run(function(){a(),s.next(),s.complete()})})}),s.asObservable()},tO=((GE=function t(){d(this,t)}).\u0275fac=function(t){return new(t||GE)},GE.\u0275mod=u.Kb({type:GE}),GE.\u0275inj=u.Jb({imports:[[ut]]}),GE),eO=((QE=function t(){d(this,t)}).\u0275fac=function(t){return new(t||QE)},QE.\u0275mod=u.Kb({type:QE}),QE.\u0275inj=u.Jb({imports:[[ut]]}),QE),nO=((HE=function t(){d(this,t)}).\u0275fac=function(t){return new(t||HE)},HE.\u0275mod=u.Kb({type:HE}),HE.\u0275inj=u.Jb({}),HE),rO=((BE=function t(){d(this,t)}).\u0275fac=function(t){return new(t||BE)},BE.\u0275mod=u.Kb({type:BE}),BE.\u0275inj=u.Jb({imports:[[ut]]}),BE),iO=((zE=function t(){d(this,t)}).\u0275fac=function(t){return new(t||zE)},zE.\u0275mod=u.Kb({type:zE}),zE.\u0275inj=u.Jb({}),zE),oO=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));var aO=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function sO(t){var e=Array.from(t.querySelectorAll(aO)).filter(function(t){return-1!==t.tabIndex});return[e[0],e[e.length-1]]}new(function(){function t(){d(this,t)}return v(t,[{key:"getAllStyles",value:function(t){return window.getComputedStyle(t)}},{key:"getStyle",value:function(t,e){return this.getAllStyles(t)[e]}},{key:"isStaticPositioned",value:function(t){return"static"===(this.getStyle(t,"position")||"static")}},{key:"offsetParent",value:function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}},{key:"position",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))e={top:(e=t.getBoundingClientRect()).top,bottom:e.bottom,left:e.left,right:e.right,height:e.height,width:e.width};else{var i=this.offsetParent(t);e=this.offset(t,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return e.top-=r.top,e.bottom-=r.top,e.left-=r.left,e.right-=r.left,n&&(e.top=Math.round(e.top),e.bottom=Math.round(e.bottom),e.left=Math.round(e.left),e.right=Math.round(e.right)),e}},{key:"offset",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}},{key:"positionElements",value:function(t,e,r,i){var o=n(r.split("-"),2),a=o[0],s=void 0===a?"top":a,u=o[1],c=void 0===u?"center":u,l=i?this.offset(t,!1):this.position(t,!1),h=this.getAllStyles(e),f=parseFloat(h.marginTop),d=parseFloat(h.marginBottom),p=parseFloat(h.marginLeft),v=parseFloat(h.marginRight),y=0,g=0;switch(s){case"top":y=l.top-(e.offsetHeight+f+d);break;case"bottom":y=l.top+l.height;break;case"left":g=l.left-(e.offsetWidth+p+v);break;case"right":g=l.left+l.width}switch(c){case"top":y=l.top;break;case"bottom":y=l.top+l.height-e.offsetHeight;break;case"left":g=l.left;break;case"right":g=l.left+l.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?g=l.left+l.width/2-e.offsetWidth/2:y=l.top+l.height/2-e.offsetHeight/2}e.style.transform="translate(".concat(Math.round(g),"px, ").concat(Math.round(y),"px)");var m=e.getBoundingClientRect(),b=document.documentElement,w=window.innerHeight||b.clientHeight,_=window.innerWidth||b.clientWidth;return m.left>=0&&m.top>=0&&m.right<=_&&m.bottom<=w}}]),t}()),new Date(1882,10,12),new Date(2174,10,25);var uO,cO,lO,hO,fO,dO,pO,vO,yO,gO,mO,bO,wO,_O,kO,EO,OO,CO,SO,IO,TO,AO=((hO=function t(){d(this,t)}).\u0275fac=function(t){return new(t||hO)},hO.\u0275mod=u.Kb({type:hO}),hO.\u0275inj=u.Jb({imports:[[ut,xn]]}),hO),xO=((lO=function t(){d(this,t)}).\u0275fac=function(t){return new(t||lO)},lO.\u0275dir=u.Hb({type:lO,selectors:[["",8,"navbar"]]}),lO),jO=((cO=function t(){d(this,t)}).\u0275fac=function(t){return new(t||cO)},cO.\u0275mod=u.Kb({type:cO}),cO.\u0275inj=u.Jb({}),cO),RO=((uO=function(){function t(e){d(this,t),this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}return v(t,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(t){this._animation=t}}]),t}()).\u0275fac=function(t){return new(t||uO)(u.Yb(WE))},uO.\u0275prov=Object(u.Ib)({factory:function(){return new uO(Object(u.Yb)(WE))},token:uO,providedIn:"root"}),uO),NO=function t(e,n,r){d(this,t),this.nodes=e,this.viewRef=n,this.componentRef=r},DO=function(){},PO=((dO=function(){function t(e){d(this,t),this._document=e}return v(t,[{key:"compensate",value:function(){var t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):DO}},{key:"_adjustBody",value:function(t){var e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]="".concat(r+t,"px"),function(){return e.style["padding-right"]=n}}},{key:"_isPresent",value:function(t){var e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}},{key:"_getWidth",value:function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var e=this._document.body;e.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}]),t}()).\u0275fac=function(t){return new(t||dO)(u.Yb(p))},dO.\u0275prov=Object(u.Ib)({factory:function(){return new dO(Object(u.Yb)(p))},token:dO,providedIn:"root"}),dO),LO=((fO=function(){function t(e,n){d(this,t),this._el=e,this._zone=n}return v(t,[{key:"ngOnInit",value:function(){var t=this;this._zone.onStable.asObservable().pipe(Hr(1)).subscribe(function(){$E(t._zone,t._el.nativeElement,function(t,e){e&&UE(t),t.classList.add("show")},{animation:t.animation,runningTransition:"continue"})})}},{key:"hide",value:function(){return $E(this._zone,this._el.nativeElement,function(t){return t.classList.remove("show")},{animation:this.animation,runningTransition:"stop"})}}]),t}()).\u0275fac=function(t){return new(t||fO)(u.Mb(u.l),u.Mb(u.A))},fO.\u0275cmp=u.Gb({type:fO,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(u.Cb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),u.Eb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),fO),MO=function(){function t(){d(this,t)}return v(t,[{key:"close",value:function(t){}},{key:"dismiss",value:function(t){}}]),t}(),VO=function(){function t(e,n,r,i){var o=this;d(this,t),this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Ir.a,this._dismissed=new Ir.a,this._hidden=new Ir.a,e.instance.dismissEvent.subscribe(function(t){o.dismiss(t)}),this.result=new Promise(function(t,e){o._resolve=t,o._reject=e}),this.result.then(null,function(){})}return v(t,[{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"closed",get:function(){return this._closed.asObservable().pipe(TE(this._hidden))}},{key:"dismissed",get:function(){return this._dismissed.asObservable().pipe(TE(this._hidden))}},{key:"hidden",get:function(){return this._hidden.asObservable()}},{key:"shown",get:function(){return this._windowCmptRef.instance.shown.asObservable()}},{key:"close",value:function(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}},{key:"_dismiss",value:function(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}},{key:"dismiss",value:function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&e._dismiss(t)},function(){}):!1!==n&&this._dismiss(t)}else this._dismiss(t)}},{key:"_removeModalElements",value:function(){var t=this,e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(Rn.a)(void 0);e.subscribe(function(){var e=t._windowCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._windowCmptRef.destroy(),t._contentRef&&t._contentRef.viewRef&&t._contentRef.viewRef.destroy(),t._windowCmptRef=null,t._contentRef=null}),n.subscribe(function(){if(t._backdropCmptRef){var e=t._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._backdropCmptRef.destroy(),t._backdropCmptRef=null}}),kE(e,n).subscribe(function(){t._hidden.next(),t._hidden.complete()})}}]),t}(),FO=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({}),UO=((OO=function(){function t(e,n,r){d(this,t),this._document=e,this._elRef=n,this._zone=r,this._closed$=new Ir.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.n,this.shown=new Ir.a,this.hidden=new Ir.a}return v(t,[{key:"dismiss",value:function(t){this.dismissEvent.emit(t)}},{key:"ngOnInit",value:function(){this._elWithFocus=this._document.activeElement}},{key:"ngAfterViewInit",value:function(){this._show()}},{key:"ngOnDestroy",value:function(){this._disableEventHandling()}},{key:"hide",value:function(){var t=this,e=this._elRef.nativeElement,n={animation:this.animation,runningTransition:"stop"},r=kE($E(this._zone,e,function(){return e.classList.remove("show")},n),$E(this._zone,this._dialogEl.nativeElement,function(){},n));return r.subscribe(function(){t.hidden.next(),t.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}},{key:"_show",value:function(){var t=this,e={animation:this.animation,runningTransition:"continue"};kE($E(this._zone,this._elRef.nativeElement,function(t,e){e&&UE(t),t.classList.add("show")},e),$E(this._zone,this._dialogEl.nativeElement,function(){},e)).subscribe(function(){t.shown.next(),t.shown.complete()}),this._enableEventHandling(),this._setFocus()}},{key:"_enableEventHandling",value:function(){var t=this,e=this._elRef.nativeElement;this._zone.runOutsideAngular(function(){vE(e,"keydown").pipe(TE(t._closed$),Ln(function(t){return t.which===oO.Escape})).subscribe(function(e){t.keyboard?requestAnimationFrame(function(){e.defaultPrevented||t._zone.run(function(){return t.dismiss(FO.ESC)})}):"static"===t.backdrop&&t._bumpBackdrop()});var n=!1;vE(t._dialogEl.nativeElement,"mousedown").pipe(TE(t._closed$),Object(Nb.a)(function(){return n=!1}),jr(function(){return vE(e,"mouseup").pipe(TE(t._closed$),Hr(1))}),Ln(function(t){var n=t.target;return e===n})).subscribe(function(){n=!0}),vE(e,"click").pipe(TE(t._closed$)).subscribe(function(r){var i=r.target;e===i&&("static"===t.backdrop?t._bumpBackdrop():!0!==t.backdrop||n||t._zone.run(function(){return t.dismiss(FO.BACKDROP_CLICK)})),n=!1})})}},{key:"_disableEventHandling",value:function(){this._closed$.next()}},{key:"_setFocus",value:function(){var t=this._elRef.nativeElement;if(!t.contains(document.activeElement)){var e=t.querySelector("[ngbAutofocus]"),n=sO(t)[0];(e||n||t).focus()}}},{key:"_restoreFocus",value:function(){var t,e=this,n=this._document.body,r=this._elWithFocus;t=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(function(){setTimeout(function(){return t.focus()}),e._elWithFocus=null})}},{key:"_bumpBackdrop",value:function(){"static"===this.backdrop&&$E(this._zone,this._elRef.nativeElement,function(t){var e=t.classList;return e.add("modal-static"),function(){return e.remove("modal-static")}},{animation:this.animation,runningTransition:"continue"})}}]),t}()).\u0275fac=function(t){return new(t||OO)(u.Mb(p),u.Mb(u.l),u.Mb(u.A))},OO.\u0275cmp=u.Gb({type:OO,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&u.Dc(PE,3),2&t&&u.qc(n=u.cc())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(u.Bb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),u.Cb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),u.Eb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:DE,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(u.jc(),u.Rb(0,"div",0,1),u.Rb(2,"div",2),u.ic(3),u.Qb(),u.Qb()),2&t&&u.Cb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),OO),qO=((EO=function(){function t(e,r,i,o,a,s){var c=this;d(this,t),this._applicationRef=e,this._injector=r,this._document=i,this._scrollBar=o,this._rendererFactory=a,this._ngZone=s,this._activeWindowCmptHasChanged=new Ir.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new u.n,this._activeWindowCmptHasChanged.subscribe(function(){if(c._windowCmpts.length){var t=c._windowCmpts[c._windowCmpts.length-1];(function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];c._ngZone.runOutsideAngular(function(){var t=vE(e,"focusin").pipe(TE(r),Object(re.a)(function(t){return t.target}));vE(e,"keydown").pipe(TE(r),Ln(function(t){return t.which===oO.Tab}),jE(t)).subscribe(function(t){var r=n(t,2),i=r[0],o=r[1],a=n(sO(e),2),s=a[0],u=a[1];o!==s&&o!==e||!i.shiftKey||(u.focus(),i.preventDefault()),o!==u||i.shiftKey||(s.focus(),i.preventDefault())}),i&&vE(e,"click").pipe(TE(r),jE(t),Object(re.a)(function(t){return t[1]})).subscribe(function(t){return t.focus()})})})(0,t.location.nativeElement,c._activeWindowCmptHasChanged),c._revertAriaHidden(),c._setAriaHidden(t.location.nativeElement)}})}return v(t,[{key:"open",value:function(t,e,n,r){var i=this,o=r.container instanceof HTMLElement?r.container:FE(r.container)?this._document.querySelector(r.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),u=function(){i._modalRefs.length||(a.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var c=new MO,l=this._getContentRef(t,r.injector||e,n,c,r),h=!1!==r.backdrop?this._attachBackdrop(t,o):void 0,f=this._attachWindowComponent(t,o,l),d=new VO(f,l,h,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(f),d.result.then(s,s),d.result.then(u,u),c.close=function(t){d.close(t)},c.dismiss=function(t){d.dismiss(t)},this._applyWindowOptions(f.instance,r),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&this._applyBackdropOptions(h.instance,r),d}},{key:"activeInstances",get:function(){return this._activeInstances}},{key:"dismissAll",value:function(t){this._modalRefs.forEach(function(e){return e.dismiss(t)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(t,e){var n=t.resolveComponentFactory(LO).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(t,e,n){var r=t.resolveComponentFactory(UO).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(t,e){this._windowAttributes.forEach(function(n){FE(e[n])&&(t[n]=e[n])})}},{key:"_applyBackdropOptions",value:function(t,e){this._backdropAttributes.forEach(function(n){FE(e[n])&&(t[n]=e[n])})}},{key:"_getContentRef",value:function(t,e,n,r,i){return n?n instanceof u.L?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,i):new NO([])}},{key:"_createFromTemplateRef",value:function(t,e){var n=t.createEmbeddedView({$implicit:e,close:function(t){e.close(t)},dismiss:function(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new NO([n.rootNodes],n)}},{key:"_createFromString",value:function(t){var e=this._document.createTextNode("".concat(t));return new NO([[e]])}},{key:"_createFromComponent",value:function(t,e,n,r,i){var o=t.resolveComponentFactory(n),a=u.s.create({providers:[{provide:MO,useValue:r}],parent:e}),s=o.create(a),c=s.location.nativeElement;return i.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(s.hostView),new NO([[c]],s.hostView,s)}},{key:"_setAriaHidden",value:function(t){var e=this,n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(function(n){n!==t&&"SCRIPT"!==n.nodeName&&(e._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(t){var e=this,n=function(){var n=e._modalRefs.indexOf(t);n>-1&&(e._modalRefs.splice(n,1),e._activeInstances.emit(e._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(t){var e=this;this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(function(){var n=e._windowCmpts.indexOf(t);n>-1&&(e._windowCmpts.splice(n,1),e._activeWindowCmptHasChanged.next())})}}]),t}()).\u0275fac=function(t){return new(t||EO)(u.Yb(u.g),u.Yb(u.s),u.Yb(p),u.Yb(PO),u.Yb(u.F),u.Yb(u.A))},EO.\u0275prov=Object(u.Ib)({factory:function(){return new EO(Object(u.Yb)(u.g),Object(u.Yb)(u.o),Object(u.Yb)(p),Object(u.Yb)(PO),Object(u.Yb)(u.F),Object(u.Yb)(u.A))},token:EO,providedIn:"root"}),EO),zO=((kO=function(){function t(e,n,r,i){d(this,t),this._moduleCFR=e,this._injector=n,this._modalStack=r,this._config=i}return v(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}},{key:"dismissAll",value:function(t){this._modalStack.dismissAll(t)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),t}()).\u0275fac=function(t){return new(t||kO)(u.Yb(u.j),u.Yb(u.s),u.Yb(qO),u.Yb(RO))},kO.\u0275prov=Object(u.Ib)({factory:function(){return new kO(Object(u.Yb)(u.j),Object(u.Yb)(u.o),Object(u.Yb)(qO),Object(u.Yb)(RO))},token:kO,providedIn:"root"}),kO),BO=((_O=function t(){d(this,t)}).\u0275fac=function(t){return new(t||_O)},_O.\u0275mod=u.Kb({type:_O}),_O.\u0275inj=u.Jb({providers:[zO]}),_O),HO=((wO=function t(){d(this,t)}).\u0275fac=function(t){return new(t||wO)},wO.\u0275mod=u.Kb({type:wO}),wO.\u0275inj=u.Jb({imports:[[ut]]}),wO),QO=((bO=function t(){d(this,t)}).\u0275fac=function(t){return new(t||bO)},bO.\u0275mod=u.Kb({type:bO}),bO.\u0275inj=u.Jb({imports:[[ut]]}),bO),GO=((mO=function t(){d(this,t)}).\u0275fac=function(t){return new(t||mO)},mO.\u0275mod=u.Kb({type:mO}),mO.\u0275inj=u.Jb({imports:[[ut]]}),mO),KO=((gO=function t(){d(this,t)}).\u0275fac=function(t){return new(t||gO)},gO.\u0275mod=u.Kb({type:gO}),gO.\u0275inj=u.Jb({imports:[[ut]]}),gO),YO=((yO=function t(){d(this,t)}).\u0275fac=function(t){return new(t||yO)},yO.\u0275mod=u.Kb({type:yO}),yO.\u0275inj=u.Jb({imports:[[ut]]}),yO),WO=((vO=function t(){d(this,t)}).\u0275fac=function(t){return new(t||vO)},vO.\u0275mod=u.Kb({type:vO}),vO.\u0275inj=u.Jb({imports:[[ut]]}),vO),JO=((pO=function(){function t(e){d(this,t),this._ngbConfig=e,this.autohide=!0,this.delay=500,this.ariaLive="polite"}return v(t,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(t){this._animation=t}}]),t}()).\u0275fac=function(t){return new(t||pO)(u.Yb(WE))},pO.\u0275prov=Object(u.Ib)({factory:function(){return new pO(Object(u.Yb)(WE))},token:pO,providedIn:"root"}),pO),XO=function(t,e){var n=t.classList;if(e)return n.remove("hide"),UE(t),n.add("showing"),function(){n.remove("showing"),n.add("show")};n.add("show")},ZO=function(t){var e=t.classList;return e.remove("show"),function(){e.add("hide")}},$O=((TO=function t(){d(this,t)}).\u0275fac=function(t){return new(t||TO)},TO.\u0275dir=u.Hb({type:TO,selectors:[["","ngbToastHeader",""]]}),TO),tC=((IO=function(){function t(e,n,r,i){d(this,t),this.ariaLive=e,this._zone=r,this._element=i,this.contentHeaderTpl=null,this.shown=new u.n,this.hidden=new u.n,null==this.ariaLive&&(this.ariaLive=n.ariaLive),this.delay=n.delay,this.autohide=n.autohide,this.animation=n.animation}return v(t,[{key:"ngAfterContentInit",value:function(){var t=this;this._zone.onStable.asObservable().pipe(Hr(1)).subscribe(function(){t._init(),t.show()})}},{key:"ngOnChanges",value:function(t){"autohide"in t&&(this._clearTimeout(),this._init())}},{key:"hide",value:function(){var t=this;this._clearTimeout();var e=$E(this._zone,this._element.nativeElement,ZO,{animation:this.animation,runningTransition:"stop"});return e.subscribe(function(){t.hidden.emit()}),e}},{key:"show",value:function(){var t=this,e=$E(this._zone,this._element.nativeElement,XO,{animation:this.animation,runningTransition:"continue"});return e.subscribe(function(){t.shown.emit()}),e}},{key:"_init",value:function(){var t=this;this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(function(){return t.hide()},this.delay))}},{key:"_clearTimeout",value:function(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}]),t}()).\u0275fac=function(t){return new(t||IO)(u.Zb("aria-live"),u.Mb(JO),u.Mb(u.A),u.Mb(u.l))},IO.\u0275cmp=u.Gb({type:IO,selectors:[["ngb-toast"]],contentQueries:function(t,e,n){var r;1&t&&u.Fb(n,$O,3,u.L),2&t&&u.qc(r=u.cc())&&(e.contentHeaderTpl=r.first)},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,e){2&t&&(u.Bb("aria-live",e.ariaLive),u.Eb("fade",e.animation))},inputs:{delay:"delay",autohide:"autohide",animation:"animation",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],features:[u.yb],ngContentSelectors:DE,decls:5,vars:1,consts:function(){var e,n;return[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"mr-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",$localize(t||(e=[":@@ngb.toast.close-aria\u241ff4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8\u241f7819314041543176992:Close"],n||(n=e.slice(0)),t=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})))),1,"close",3,"click"],["aria-hidden","true"]]},template:function(t,e){1&t&&(u.jc(),u.xc(0,LE,2,1,"ng-template",null,0,u.yc),u.xc(2,VE,5,1,"ng-template",1),u.Rb(3,"div",2),u.ic(4),u.Qb()),2&t&&(u.Ab(2),u.kc("ngIf",e.contentHeaderTpl||e.header))},directives:[nt,st],styles:[".ngb-toasts{margin:.5em;position:fixed;right:0;top:0;z-index:1200}ngb-toast{display:block}ngb-toast .toast-header .close{margin-bottom:.25rem;margin-left:auto}"],encapsulation:2}),IO),eC=((SO=function t(){d(this,t)}).\u0275fac=function(t){return new(t||SO)},SO.\u0275mod=u.Kb({type:SO}),SO.\u0275inj=u.Jb({imports:[[ut]]}),SO),nC=((CO=function t(){d(this,t)}).\u0275fac=function(t){return new(t||CO)},CO.\u0275mod=u.Kb({type:CO}),CO.\u0275inj=u.Jb({}),CO);new u.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});var rC,iC,oC,aC=((rC=function t(){d(this,t)}).\u0275fac=function(t){return new(t||rC)},rC.\u0275mod=u.Kb({type:rC}),rC.\u0275inj=u.Jb({imports:[[ut]]}),rC),sC=[tO,eO,nO,rO,iO,AO,jO,BO,HO,QO,GO,KO,YO,WO,eC,nC,aC],uC=((oC=function t(){d(this,t)}).\u0275fac=function(t){return new(t||oC)},oC.\u0275mod=u.Kb({type:oC}),oC.\u0275inj=u.Jb({imports:[sC,tO,eO,nO,rO,iO,AO,jO,BO,HO,QO,GO,KO,YO,WO,eC,nC,aC]}),oC),cC=((iC=function(){function t(){d(this,t),this.toasts=[]}return v(t,[{key:"showToast",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.toasts.push(Object.assign({textOrTemplate:t},e))}},{key:"showClipboardToast",value:function(){this.showToast("Copied to clipboard!",{classname:"bg-success text-light",delay:5e3})}},{key:"removeToast",value:function(t){this.toasts=this.toasts.filter(function(e){return e!==t})}}]),t}()).\u0275fac=function(t){return new(t||iC)},iC.\u0275prov=u.Ib({token:iC,factory:iC.\u0275fac,providedIn:"root"}),iC);function lC(t,e){}function hC(t,e){if(1&t&&u.xc(0,lC,0,0,"ng-template",4),2&t){var n=u.fc().$implicit;u.kc("ngTemplateOutlet",n.textOrTemplate)}}function fC(t,e){if(1&t&&u.zc(0),2&t){var n=u.fc().$implicit;u.Ac(n.textOrTemplate)}}function dC(t,e){if(1&t){var n=u.Sb();u.Rb(0,"ngb-toast",1),u.bc("click",function(){u.tc(n);var t=e.$implicit;return u.fc().toaster.removeToast(t)})("hidden",function(){u.tc(n);var t=e.$implicit;return u.fc().toaster.removeToast(t)}),u.xc(1,hC,1,1,"ng-template",2),u.xc(2,fC,1,1,"ng-template",null,3,u.yc),u.Qb()}if(2&t){var r=e.$implicit,i=u.rc(3),o=u.fc();u.Cb(r.classname),u.kc("autohide",!0)("delay",r.delay||5e3),u.Ab(1),u.kc("ngIf",o.isTemplate(r))("ngIfElse",i)}}var pC,vC,yC,gC,mC,bC,wC=((vC=function(){function t(e){d(this,t),this.toaster=e}return v(t,[{key:"isTemplate",value:function(t){return t.textOrTemplate instanceof u.L}}]),t}()).\u0275fac=function(t){return new(t||vC)(u.Mb(cC))},vC.\u0275cmp=u.Gb({type:vC,selectors:[["app-toasts"]],hostVars:2,hostBindings:function(t,e){2&t&&u.Eb("ngb-toasts",!0)},decls:1,vars:1,consts:[[3,"class","autohide","delay","click","hidden",4,"ngFor","ngForOf"],[3,"autohide","delay","click","hidden"],[3,"ngIf","ngIfElse"],["text",""],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&u.xc(0,dC,4,6,"ngb-toast",0),2&t&&u.kc("ngForOf",e.toaster.toasts)},directives:[tt,tC,nt,st],encapsulation:2}),vC),_C=((pC=function(){function t(){d(this,t)}return v(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||pC)},pC.\u0275cmp=u.Gb({type:pC,selectors:[["app-home"]],decls:19,vars:0,consts:[[1,"container-fuild","mt-5"],[1,"row","justify-content-center"],[1,"col-auto"],["id","page-title"],[1,"row","mt-5","justify-content-center"],[1,"col-md-4","col-xs-12","steps-text"],["src","assets/images/creator-shares.svg",1,"img-fluid"],["src","assets/images/user-participates.svg",1,"img-fluid"],["src","assets/images/wait-and-win.svg",1,"img-fluid"]],template:function(t,e){1&t&&(u.Rb(0,"div",0),u.Rb(1,"div",1),u.Rb(2,"div",2),u.Rb(3,"h1",3),u.zc(4,"Giveaway!"),u.Qb(),u.Qb(),u.Qb(),u.Rb(5,"div",4),u.Rb(6,"div",5),u.Nb(7,"img",6),u.zc(8," Step 1. Content Creator shares a giveaway "),u.Nb(9,"br"),u.zc(10," participation link. "),u.Qb(),u.Rb(11,"div",5),u.Nb(12,"img",7),u.zc(13," Step 2. You login & fill the form. "),u.Qb(),u.Rb(14,"div",5),u.Nb(15,"img",8),u.zc(16," Step 3. Information is shared with creator who "),u.Nb(17,"br"),u.zc(18," can pick random lucky winner(s). "),u.Qb(),u.Qb(),u.Qb())},styles:[".steps-text[_ngcontent-%COMP%]{text-align:center;font-family:Kalam,cursive;font-weight:400}"]}),pC),kC={apiKey:"AIzaSyCojuMrLRDhluWcPANu-k1Qq6Secr49CRM",authDomain:"atb00ker-apps.firebaseapp.com",projectId:"atb00ker-apps",appId:"1:601332684796:web:b2de122ef514b18150c479",measurementId:"G-9KTCSY5NB7"},EC=a("kScs"),OC=((bC=function(){function t(e,n,r){d(this,t),this.clipboard=e,this.toaster=n,this.pathLocation=r,this.thirdCookiesEnabled=!1,this.contactAuthor="ajay39in+giveawayapp@gmail.com",this.loggedInUser=new yb("loading")}return v(t,[{key:"joinToBaseUrl",value:function(t){var e=new URL(this.pathLocation.getBaseHref(),window.location.origin);return new URL(t,e).toString()}},{key:"getUrlSafeRandomString",value:function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return o(Array(t)).reduce(function(t){return t+e[~~(Math.random()*e.length)]},"")}},{key:"copyAuthorEmail",value:function(){this.clipboard.copyFromContent(this.contactAuthor),this.toaster.showClipboardToast()}},{key:"md5Hash",value:function(t){return(new EC.Md5).appendStr(t).end().toString().toUpperCase()}}]),t}()).\u0275fac=function(t){return new(t||bC)(u.Yb(fE),u.Yb(cC),u.Yb(V))},bC.\u0275prov=u.Ib({token:bC,factory:bC.\u0275fac,providedIn:"root"}),bC),CC=((mC=function t(e){d(this,t),this.helper=e}).\u0275fac=function(t){return new(t||mC)(u.Mb(OC))},mC.\u0275cmp=u.Gb({type:mC,selectors:[["email-copy-icon"]],decls:3,vars:0,consts:[[1,"clipboard-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","15","height","24","viewBox","0 0 24 24"],["d","M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"]],template:function(t,e){1&t&&(u.Rb(0,"button",0),u.bc("click",function(){return e.helper.copyAuthorEmail()}),u.ec(),u.Rb(1,"svg",1),u.Nb(2,"path",2),u.Qb(),u.Qb())},encapsulation:2}),mC),SC=((gC=function(){function t(){d(this,t),this.contactAuthorText="ajay39in+giveawayapp[at]gmail[dot]com"}return v(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||gC)},gC.\u0275cmp=u.Gb({type:gC,selectors:[["app-about"]],decls:84,vars:2,consts:[[1,"container","mb-5"],[1,"row"],[1,"offset-lg-1","col-lg-10","col-md-12"],[1,"mt-5"],["href","https://www.youtube.com/lowbudgetgamingyt"],["href","youtube.com/ShouldYouPlayIt"],[1,"mt-4"],[1,"text-primary"],[2,"fill","#007bff"],["href","https://github.com/atb00ker/giveaway-app/blob/main/src/app/pick-event-winner/pick-event-winner.component.ts#L85-L97"],["href","https://github.com/atb00ker/online-giveaway-organizer"],["href","https://github.com/atb00ker/giveaway-app"],["href","https://commons.wikimedia.org/wiki/File:ALiAS_Logo.png"],["href","https://www.freepik.com/"],["href","https://2.flexiple.com/scale/all-illustrations"]],template:function(t,e){1&t&&(u.Rb(0,"div",0),u.Rb(1,"div",1),u.Rb(2,"div",2),u.Rb(3,"h3",3),u.zc(4,"About"),u.Qb(),u.Rb(5,"p"),u.zc(6," This project was made to enable some of the creators that I follow ("),u.Rb(7,"a",4),u.zc(8,"Low Budget Gaming"),u.Qb(),u.zc(9," & "),u.Rb(10,"a",5),u.zc(11,"Should You Play It"),u.Qb(),u.zc(12,") to be able to organize giveaway without putting alot of effort into logistics. "),u.Qb(),u.Rb(13,"h4",6),u.zc(14,"Creating Event"),u.Qb(),u.Rb(15,"p"),u.zc(16," Unfortunately, I cannot let just anyone to create an event as this could promote scammers to do their thing, hence only verified accounts are allowed to perform some actions. "),u.Qb(),u.Rb(17,"p"),u.zc(18," To get your account verified, please send me an email at "),u.Rb(19,"span",7),u.zc(20),u.Nb(21,"email-copy-icon",8),u.Qb(),u.zc(22," which has information that allows me to establish your legitimacy. (Example: YouTube channel or Twitter handle etc) "),u.Qb(),u.Rb(23,"h4",6),u.zc(24,"How can we trust the results are random?"),u.Qb(),u.Rb(25,"p"),u.zc(26," People and documentation lie but code never lies, "),u.Rb(27,"a",9),u.zc(28," checkout the code of the function that picks the winner"),u.Qb(),u.zc(29,". You don't need to be a developer to understand it, I have explained it in detail. This function doesn't run on server but on the browser of the person drawing winners, so no worries about tampering. "),u.Qb(),u.Rb(30,"h4",6),u.zc(31,"Privacy"),u.Qb(),u.Rb(32,"ul"),u.Rb(33,"li"),u.zc(34," I am currently using Google Analytics to understand the usage of the website, Google Analytics captures information like the pages visited, type of device (mobile/desktop) and more. This information is used by me only in an aggregated manner to understand how many people are visiting the website and from which country so that I can scale up the servers in future according to the requirement. "),u.Qb(),u.Rb(35,"li"),u.zc(36),u.Nb(37,"email-copy-icon"),u.zc(38,". "),u.Qb(),u.Rb(39,"li"),u.zc(40," When you participate in an event, your name, message & email address is stored in Google Firestore database. This information is shared with the event host. (So that they can contact the lucky winner). "),u.Qb(),u.Qb(),u.Rb(41,"p"),u.Rb(42,"b"),u.zc(43,"It may take a while for me to reply, but I'll try to do it within 2-3 days."),u.Qb(),u.Qb(),u.Rb(44,"h4",6),u.zc(45,"Bugs & Contributions"),u.Qb(),u.Rb(46,"p"),u.zc(47," If you've found a bug, please checkout the repository of the project as mentioned in the \"open-source\" section on this page. If an issue for the bug doesn't exist already, please open a new ticket. "),u.Qb(),u.Rb(48,"p"),u.zc(49," If you want to contribute to the project, please remember I don't want to add features that will take a lot of my time for maintenance, let's keep it simple. Please open an issue on GitHub to discuss the changes! "),u.Qb(),u.Rb(50,"h4",6),u.zc(51,"Open-Source"),u.Qb(),u.Rb(52,"p"),u.zc(53," This is an open-source project, "),u.Rb(54,"a",10),u.zc(55,"the code for this site "),u.Qb(),u.zc(56," can be found on GitHub. "),u.Qb(),u.Rb(57,"h4",6),u.zc(58,"License"),u.Qb(),u.zc(59," The "),u.Rb(60,"a",11),u.zc(61," Frontend (Angular) "),u.Qb(),u.zc(62," is under "),u.Rb(63,"b"),u.zc(64,"MIT License"),u.Qb(),u.zc(65,". "),u.Nb(66,"br"),u.zc(67," The site favicon of the website is contributed by "),u.Rb(68,"a",12),u.zc(69,"@parthsharma2"),u.Qb(),u.zc(70," under "),u.Rb(71,"b"),u.zc(72,"CC BY-SA License"),u.Qb(),u.zc(73,". "),u.Nb(74,"br"),u.zc(75," Images used in the site are from "),u.Rb(76,"a",13),u.zc(77,"Freepik"),u.Qb(),u.zc(78," & "),u.Rb(79,"a",14),u.zc(80,"Scale"),u.Qb(),u.zc(81," and their license information is available at the respective sites. "),u.Nb(82,"br"),u.zc(83," License of dependencies like Angular, & Bootstrap and nodejs dependencies are mentioned in the documentation of the dependencies itself. "),u.Qb(),u.Qb(),u.Qb()),2&t&&(u.Ab(20),u.Bc("",e.contactAuthorText," "),u.Ab(16),u.Bc(" When you login, your email address is saved in the Google Firebase Authentication database. You can ask me to delete your email address from the database at anytime, just drop me a mail at ",e.contactAuthorText," "))},directives:[CC],styles:[""]}),gC),IC=((yC=function(){function t(e,n){d(this,t),this.firestore=e,this.helper=n,this.database="giveaway"}return v(t,[{key:"checkCreateAllowed",value:function(t){return this.firestore.doc("".concat(this.database,"/users/priviledged/").concat(this.helper.md5Hash(t))).get()}},{key:"createEvent",value:function(t,e,n){var r={name:e,created:new Date};return this.firestore.doc("".concat(this.database,"/events/").concat(t,"/").concat(n)).set(r)}},{key:"addParticipant",value:function(t,e,n){var r=this.helper.md5Hash(t.email);return this.firestore.doc("".concat(this.database,"/events/").concat(e,"/").concat(n,"/participants/").concat(r)).set(t)}},{key:"getAllParticipants",value:function(t,e){return this.firestore.doc("".concat(this.database,"/events/").concat(t,"/").concat(e)).collection("participants").get()}}]),t}()).\u0275fac=function(t){return new(t||yC)(u.Yb(pb),u.Yb(OC))},yC.\u0275prov=u.Ib({token:yC,factory:yC.\u0275fac}),yC),TC=function(){var t=function t(){d(this,t)};return t.home="home",t.about="about",t.createEvent="create-event",t.event="giveaway",t.pickEventWinner="pick-winner",t}();function AC(t,e){1&t&&(u.Rb(0,"div",8),u.zc(1," Please enter the event name and submit to create a new event! "),u.Qb())}function xC(t,e){if(1&t&&(u.Rb(0,"div",9),u.zc(1," Oops! There was some problem creating the event, re-login. "),u.Nb(2,"br"),u.zc(3),u.Nb(4,"email-copy-icon",10),u.zc(5,". "),u.Qb()),2&t){var n=u.fc(2);u.Ab(3),u.Bc(" If the problem persists, contact me at ",n.contactAuthorText," ")}}function jC(t,e){1&t&&(u.Rb(0,"div",11),u.zc(1," Event created successfully! "),u.Qb())}function RC(t,e){1&t&&(u.Rb(0,"div",12),u.zc(1," Sending request to server... "),u.Qb())}function NC(t,e){if(1&t&&(u.Rb(0,"div",3),u.xc(1,AC,2,0,"div",4),u.xc(2,xC,6,1,"div",5),u.xc(3,jC,2,0,"div",6),u.xc(4,RC,2,0,"div",7),u.Qb()),2&t){var n=u.fc();u.Ab(1),u.kc("ngIf","normal"===n.displayStatus),u.Ab(1),u.kc("ngIf","error"===n.displayStatus),u.Ab(1),u.kc("ngIf","success"===n.displayStatus),u.Ab(1),u.kc("ngIf","progress"===n.displayStatus)}}function DC(t,e){1&t&&(u.Rb(0,"div",12),u.zc(1," Loading page... "),u.Qb())}function PC(t,e){if(1&t&&(u.Rb(0,"div",9),u.zc(1," Refresh the page after obtaining the required permission. If you have the permissions and you see this error, re-login. "),u.Nb(2,"br"),u.zc(3),u.Nb(4,"email-copy-icon",10),u.zc(5,". "),u.Qb()),2&t){var n=u.fc(2);u.Ab(3),u.Bc(" If the problem persists, contact me at ",n.contactAuthorText," ")}}function LC(t,e){if(1&t&&(u.Rb(0,"div",3),u.xc(1,DC,2,0,"div",7),u.xc(2,PC,6,1,"div",5),u.Qb()),2&t){var n=u.fc();u.Ab(1),u.kc("ngIf","progress"===n.displayStatus),u.Ab(1),u.kc("ngIf","error"===n.displayStatus)}}function MC(t,e){if(1&t&&(u.Rb(0,"div",13),u.Rb(1,"div",3),u.Nb(2,"div",14),u.Rb(3,"div",15),u.Nb(4,"img",16),u.Rb(5,"div",17),u.Rb(6,"a",18),u.zc(7,"Image by pch.vector (freepik.com) "),u.Qb(),u.Qb(),u.Qb(),u.Rb(8,"div",19),u.Rb(9,"h3"),u.zc(10,"You don't have the required permissions!"),u.Qb(),u.Nb(11,"br"),u.Rb(12,"p"),u.zc(13," We don't want scammers to misuse this site, hence only verified accounts are allowed to create a giveaway. "),u.Qb(),u.Rb(14,"p"),u.zc(15," To get your account verified, please send me an email at "),u.Rb(16,"span",20),u.zc(17),u.Nb(18,"email-copy-icon",21),u.Qb(),u.zc(19," which has information that allows me to establish your legitimacy. "),u.Nb(20,"br"),u.zc(21," (Example: YouTube channel or Twitter handle etc) "),u.Qb(),u.Qb(),u.Qb(),u.Qb()),2&t){var n=u.fc();u.Ab(17),u.Bc("",n.contactAuthorText," ")}}var VC=function(t){return{"text-danger error-input":t}};function FC(t,e){if(1&t){var n=u.Sb();u.Rb(0,"div",13),u.Rb(1,"div",3),u.Rb(2,"form",22,23),u.bc("ngSubmit",function(){return u.tc(n),u.fc().createEventClick()}),u.Rb(4,"span"),u.Rb(5,"label",24),u.zc(6," Enter Event Name: "),u.Qb(),u.Qb(),u.Nb(7,"input",25),u.Rb(8,"button",26),u.ec(),u.Rb(9,"svg",27),u.Nb(10,"path",28),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb()}if(2&t){var r=u.fc();u.Ab(7),u.kc("formControl",r.eventName)("ngClass",u.nc(3,VC,r.eventName.invalid&&r.eventName.touched)),u.Ab(1),u.kc("disabled",r.eventName.invalid||r.disableCreateBtn)}}function UC(t,e){if(1&t){var n=u.Sb();u.Rb(0,"div",13),u.Rb(1,"div",3),u.Rb(2,"div",29),u.Rb(3,"table",30),u.Rb(4,"tbody"),u.Rb(5,"tr"),u.Rb(6,"td"),u.zc(7,"Share link"),u.Qb(),u.Rb(8,"td"),u.Rb(9,"button",31),u.bc("click",function(){u.tc(n);var t=u.fc();return t.copiedToClipboard(t.eventUrl)}),u.ec(),u.Rb(10,"svg",32),u.Nb(11,"path",33),u.Qb(),u.Qb(),u.zc(12),u.Qb(),u.Qb(),u.dc(),u.Rb(13,"tr"),u.Rb(14,"td"),u.zc(15,"Pick winner"),u.Qb(),u.Rb(16,"td"),u.Rb(17,"button",31),u.bc("click",function(){u.tc(n);var t=u.fc();return t.copiedToClipboard(t.winnerUrl)}),u.ec(),u.Rb(18,"svg",32),u.Nb(19,"path",33),u.Qb(),u.Qb(),u.zc(20),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb()}if(2&t){var r=u.fc();u.Ab(12),u.Bc(" ",r.eventUrl," "),u.Ab(8),u.Bc(" ",r.winnerUrl," ")}}var qC,zC=((qC=function(){function t(e,n,r,i,o){d(this,t),this.titleService=e,this.clipboard=n,this.api=r,this.helper=i,this.toaster=o,this.contactAuthorText="ajay39in+giveawayapp[at]gmail[dot]com",this.isAllowed=!1,this.displayStatus="progress",this.disableCreateBtn=!1,this.ngUnsubscribe=new Ir.a,this.eventName=new pn(null,[ye.required]),this.titleService.setTitle("Giveaway! | Create new giveaway")}return v(t,[{key:"ngOnInit",value:function(){var t=this;this.helper.loggedInUser.pipe(TE(this.ngUnsubscribe)).subscribe(function(e){e?"loading"!=e&&t.checkIsAllowed(e):t.displayStatus="error"})}},{key:"checkIsAllowed",value:function(t){var e=this;this.api.checkCreateAllowed(t).pipe(TE(this.ngUnsubscribe)).subscribe(function(t){e.user=t.data(),e.user.organizer?(e.isAllowed=!0,e.displayStatus="normal"):e.displayStatus="error"},function(t){e.displayStatus="error",console.error(t)})}},{key:"createEventClick",value:function(){var t=this;this.disableCreateBtn=!0,this.displayStatus="progress";var e=this.helper.md5Hash(this.helper.loggedInUser.value),n=this.helper.getUrlSafeRandomString(21);this.api.createEvent(e,this.eventName.value,n).then(function(){var r="?code=".concat(e,"&event=").concat(n);t.eventUrl=t.helper.joinToBaseUrl("".concat(TC.event).concat(r)),t.winnerUrl=t.helper.joinToBaseUrl("".concat(TC.pickEventWinner).concat(r)),t.displayStatus="success"}).catch(function(e){console.error(e),t.displayStatus="error"}).finally(function(){return t.disableCreateBtn=!1})}},{key:"copiedToClipboard",value:function(t){this.clipboard.copyFromContent(t),this.toaster.showClipboardToast()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}]),t}()).\u0275fac=function(t){return new(t||qC)(u.Mb($t),u.Mb(fE),u.Mb(IC),u.Mb(OC),u.Mb(cC))},qC.\u0275cmp=u.Gb({type:qC,selectors:[["app-create-event"]],features:[u.zb([IC])],decls:6,vars:5,consts:[[1,"container","mt-4"],["class","row",4,"ngIf"],["class","container mt-5",4,"ngIf"],[1,"row"],["class","display-status-normal col-12",4,"ngIf"],["class","display-status-error col-12",4,"ngIf"],["class","display-status-success col-12",4,"ngIf"],["class","display-status-progress col-12",4,"ngIf"],[1,"display-status-normal","col-12"],[1,"display-status-error","col-12"],[2,"fill","#dc3545"],[1,"display-status-success","col-12"],[1,"display-status-progress","col-12"],[1,"container","mt-5"],[1,"col-md-1","d-none","d-md-block"],[1,"col-md-5","d-none","d-md-flex","flex-wrap","align-items-center"],["src","assets/images/stop-icon-small.jpg","alt","Error: Need permission to create event",1,"img-fluid"],[1,"image-attribution"],["target","_blank","href","https://www.freepik.com/vectors/people"],[1,"col-md-5","col-sm-12"],[1,"text-primary"],[2,"fill","#007bff"],["id","event-name-container",3,"ngSubmit"],["postalForm","ngForm"],["for","event-name-input"],["name","event-name-input","aria-label","Event Name","id","event-name-input","placeholder","Christmas Steam Giveaway","type","text",3,"formControl","ngClass"],["aria-label","Create Giveaway","title","Enter a name and press to create an event","type","submit","id","event-name-button",1,"btn","btn-primary",3,"disabled"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 0 24 24","width","24",1,"icon-white"],["d","M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z"],[1,"col-12"],[1,"table","table-striped"],[1,"clipboard-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","15","height","24","viewBox","0 0 24 24"],["d","M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"]],template:function(t,e){1&t&&(u.Rb(0,"div",0),u.xc(1,NC,5,4,"div",1),u.xc(2,LC,3,2,"div",1),u.Qb(),u.xc(3,MC,22,1,"div",2),u.xc(4,FC,11,5,"div",2),u.xc(5,UC,21,2,"div",2)),2&t&&(u.Ab(1),u.kc("ngIf",e.isAllowed),u.Ab(1),u.kc("ngIf",!e.isAllowed),u.Ab(1),u.kc("ngIf",!e.isAllowed&&"error"===e.displayStatus),u.Ab(1),u.kc("ngIf",e.isAllowed),u.Ab(1),u.kc("ngIf",e.isAllowed&&e.winnerUrl&&e.eventUrl))},directives:[nt,CC,wn,Ue,bn,le,Fe,On,Z],styles:["#event-name-container[_ngcontent-%COMP%]{margin:auto;max-width:520px}#event-name-input[_ngcontent-%COMP%]{float:left;width:80%;overflow:hidden;font-size:17px;height:35px}#event-name-button[_ngcontent-%COMP%]{float:left;width:19%;font-size:15px;cursor:pointer;height:35px!important;border-radius:.25rem;border:0;margin-left:1%}"]}),qC);function BC(t,e){1&t&&(u.Rb(0,"div",8),u.zc(1," Please enter the information below to participate in the giveaway! "),u.Qb())}function HC(t,e){if(1&t&&(u.Rb(0,"div",9),u.zc(1," Oops! There was some problem, please re-login. "),u.Nb(2,"br"),u.zc(3),u.Nb(4,"email-copy-icon",10),u.zc(5,". "),u.Qb()),2&t){var n=u.fc(2);u.Ab(3),u.Bc(" If the problem persists, contact me at ",n.contactAuthorText," ")}}function QC(t,e){1&t&&(u.Rb(0,"div",11),u.zc(1," Success: Participation confirmed! "),u.Qb())}function GC(t,e){1&t&&(u.Rb(0,"div",12),u.zc(1," Sending request to server... "),u.Qb())}function KC(t,e){if(1&t&&(u.Rb(0,"div",3),u.xc(1,BC,2,0,"div",4),u.xc(2,HC,6,1,"div",5),u.xc(3,QC,2,0,"div",6),u.xc(4,GC,2,0,"div",7),u.Qb()),2&t){var n=u.fc();u.Ab(1),u.kc("ngIf","normal"===n.displayStatus),u.Ab(1),u.kc("ngIf","error"===n.displayStatus),u.Ab(1),u.kc("ngIf","success"===n.displayStatus),u.Ab(1),u.kc("ngIf","progress"===n.displayStatus)}}function YC(t,e){1&t&&(u.Rb(0,"div",12),u.zc(1," Loading... "),u.Qb())}function WC(t,e){1&t&&(u.Rb(0,"div",9),u.zc(1," You need to login to participate in the event. "),u.Qb())}function JC(t,e){if(1&t&&(u.Rb(0,"div",3),u.xc(1,YC,2,0,"div",7),u.xc(2,WC,2,0,"div",5),u.Qb()),2&t){var n=u.fc();u.Ab(1),u.kc("ngIf","progress"===n.displayStatus),u.Ab(1),u.kc("ngIf","error"===n.displayStatus)}}function XC(t,e){1&t&&(u.Rb(0,"div",13),u.Rb(1,"div",3),u.Nb(2,"div",14),u.Rb(3,"div",15),u.Nb(4,"img",16),u.Qb(),u.Rb(5,"div",17),u.Rb(6,"h3"),u.zc(7,"Login required!"),u.Qb(),u.Nb(8,"br"),u.Rb(9,"p"),u.zc(10," Only logged-in users are allowed to participate in an event. "),u.Nb(11,"br"),u.zc(12," Once you login, you'll need to provide your preferred name (or alias) to participate, your name & email will be shared with the event host! "),u.Qb(),u.Qb(),u.Qb(),u.Qb())}var ZC=function(t){return{"d-none":t,"text-danger col-12":!0}},$C=function(t){return{"text-danger error-input":t,"add-input-common col-sm-12 col-md-6 col-lg-9":!0}};function tS(t,e){if(1&t){var n=u.Sb();u.Rb(0,"div",13),u.Rb(1,"form",18),u.bc("ngSubmit",function(){return u.tc(n),u.fc().addParticipantSubmit()}),u.Rb(2,"div",3),u.Rb(3,"div",19),u.zc(4," *Error: A value is required. "),u.Qb(),u.Rb(5,"span",20),u.Rb(6,"label",21),u.zc(7," Your Name: "),u.Qb(),u.Qb(),u.Nb(8,"input",22),u.Qb(),u.Rb(9,"div",3),u.Rb(10,"span",20),u.Rb(11,"label",23),u.zc(12," Message (Optional): "),u.Qb(),u.Qb(),u.Nb(13,"textarea",24),u.Qb(),u.Rb(14,"div",3),u.Rb(15,"div",25),u.Rb(16,"button",26),u.zc(17," Submit "),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb()}if(2&t){var r=u.fc();u.Ab(1),u.kc("formGroup",r.addParticipantForm),u.Ab(2),u.kc("ngClass",u.nc(4,ZC,r.addParticipantForm.get("name").valid||r.addParticipantForm.get("name").untouched)),u.Ab(5),u.kc("ngClass",u.nc(6,$C,r.addParticipantForm.get("name").invalid&&r.addParticipantForm.get("name").touched)),u.Ab(8),u.kc("disabled",r.addParticipantForm.invalid||r.disableSubmitBtn)}}var eS,nS,rS=((nS=function(){function t(e,n,r,i){d(this,t),this.titleService=e,this.api=n,this.route=r,this.helper=i,this.contactAuthorText="ajay39in+giveawayapp[at]gmail[dot]com",this.displayStatus="progress",this.isAllowed=!1,this.disableSubmitBtn=!1,this.ngUnsubscribe=new Ir.a,this.addParticipantForm=new vn({name:new pn(null,[ye.required]),message:new pn(null,[])}),this.titleService.setTitle("Giveaway! | Participate in event")}return v(t,[{key:"ngOnInit",value:function(){var t=this;this.route.queryParams.pipe(TE(this.ngUnsubscribe)).subscribe(function(e){t.organizer=e.code,t.eventId=e.event}),this.helper.loggedInUser.pipe(TE(this.ngUnsubscribe)).subscribe(function(e){e?"loading"!=e&&(t.isAllowed=!0,t.displayStatus="normal"):(t.isAllowed=!1,t.displayStatus="error")})}},{key:"addParticipantSubmit",value:function(){var t=this;this.displayStatus="progress",this.disableSubmitBtn=!0,console.log(this.addParticipantForm.value.message);var e={name:this.addParticipantForm.value.name,email:this.helper.loggedInUser.value,message:JSON.stringify(this.addParticipantForm.value.message)};this.api.addParticipant(e,this.organizer,this.eventId).then(function(){t.displayStatus="success"}).catch(function(e){console.error(e),t.displayStatus="error"}).finally(function(){return t.disableSubmitBtn=!1})}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}]),t}()).\u0275fac=function(t){return new(t||nS)(u.Mb($t),u.Mb(IC),u.Mb(qw),u.Mb(OC))},nS.\u0275cmp=u.Gb({type:nS,selectors:[["app-event"]],features:[u.zb([IC])],decls:5,vars:4,consts:[[1,"container","mt-4"],["class","row",4,"ngIf"],["class","container mt-5",4,"ngIf"],[1,"row"],["class","display-status-normal col-12",4,"ngIf"],["class","display-status-error col-12",4,"ngIf"],["class","display-status-success col-12",4,"ngIf"],["class","display-status-progress col-12",4,"ngIf"],[1,"display-status-normal","col-12"],[1,"display-status-error","col-12"],[2,"fill","#dc3545"],[1,"display-status-success","col-12"],[1,"display-status-progress","col-12"],[1,"container","mt-5"],[1,"col-md-1","d-none","d-md-block"],[1,"col-md-5","d-none","d-md-flex","flex-wrap","align-items-center"],["src","assets/images/login-required.svg","alt","Error: You need to login",1,"img-fluid"],[1,"col-md-5","col-sm-12"],[1,"container","mt-4",3,"formGroup","ngSubmit"],[3,"ngClass"],[1,"col-sm-12","col-md-6","col-lg-3"],["for","name-input"],["data-lpignore","true","name","name-input","aria-label","Enter Name","id","name-input","placeholder","Bruce Wayne","type","text","formControlName","name",3,"ngClass"],["for","message-input"],["data-lpignore","true","name","message-input","aria-label","Message (Optional)","id","message-input","placeholder","I love your channel!","type","text","formControlName","message",1,"add-input-common","col-sm-12","col-md-6","col-lg-9"],[1,"mt-2","col-sm-12","col-md-10","col-lg-9"],["aria-label","Submit Form","title","Submit Entry for Giveaway!","type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,e){1&t&&(u.Rb(0,"div",0),u.xc(1,KC,5,4,"div",1),u.xc(2,JC,3,2,"div",1),u.Qb(),u.xc(3,XC,13,0,"div",2),u.xc(4,tS,18,8,"div",2)),2&t&&(u.Ab(1),u.kc("ngIf",e.isAllowed),u.Ab(1),u.kc("ngIf",!e.isAllowed),u.Ab(1),u.kc("ngIf",!e.isAllowed&&"progress"!==e.displayStatus),u.Ab(1),u.kc("ngIf",e.isAllowed))},directives:[nt,CC,wn,Ue,Sn,Z,le,Fe,Tn],styles:[".add-input-common[_ngcontent-%COMP%]{margin:0 0 10px;line-height:30px}"]}),nS),iS=((eS=function(){function t(){d(this,t)}return v(t,[{key:"transform",value:function(t){if(t)return JSON.parse(t)}}]),t}()).\u0275fac=function(t){return new(t||eS)},eS.\u0275pipe=u.Lb({name:"JsonParse",type:eS,pure:!0}),eS);function oS(t,e){1&t&&(u.Rb(0,"div",8),u.zc(1," Ready to pick a winner... "),u.Qb())}function aS(t,e){if(1&t&&(u.Rb(0,"div",9),u.zc(1," Oops! There was some problem finding participants, it's possible that no one has filled the event form yet. "),u.Nb(2,"br"),u.zc(3),u.Nb(4,"email-copy-icon",10),u.zc(5,". "),u.Qb()),2&t){var n=u.fc(2);u.Ab(3),u.Bc(" Wait & refresh. If the problem persists, contact me at ",n.contactAuthorText," ")}}function sS(t,e){if(1&t&&(u.Rb(0,"div",11),u.zc(1),u.Qb()),2&t){var n=u.fc(2);u.Ab(1),u.Bc(" \ud83c\udf89 Congratulations ",(null==n.winner?null:n.winner.name)||"?????????????","! \ud83c\udf89 ")}}function uS(t,e){1&t&&(u.Rb(0,"div",12),u.zc(1," Rolling the dice... "),u.Qb())}function cS(t,e){if(1&t&&(u.Rb(0,"div",3),u.xc(1,oS,2,0,"div",4),u.xc(2,aS,6,1,"div",5),u.xc(3,sS,2,1,"div",6),u.xc(4,uS,2,0,"div",7),u.Qb()),2&t){var n=u.fc();u.Ab(1),u.kc("ngIf","normal"===n.displayStatus),u.Ab(1),u.kc("ngIf","error"===n.displayStatus),u.Ab(1),u.kc("ngIf","success"===n.displayStatus),u.Ab(1),u.kc("ngIf","progress"===n.displayStatus)}}function lS(t,e){1&t&&(u.Rb(0,"div",12),u.zc(1," Loading page... "),u.Qb())}function hS(t,e){if(1&t&&(u.Rb(0,"div",9),u.zc(1," If you think this is a mistake, please re-login. "),u.Nb(2,"br"),u.zc(3),u.Nb(4,"email-copy-icon",10),u.zc(5,". "),u.Qb()),2&t){var n=u.fc(2);u.Ab(3),u.Bc(" If the problem persists, contact me at ",n.contactAuthorText," ")}}function fS(t,e){if(1&t&&(u.Rb(0,"div",3),u.xc(1,lS,2,0,"div",7),u.xc(2,hS,6,1,"div",5),u.Qb()),2&t){var n=u.fc();u.Ab(1),u.kc("ngIf","progress"===n.displayStatus),u.Ab(1),u.kc("ngIf","error"===n.displayStatus)}}function dS(t,e){1&t&&(u.Rb(0,"div",13),u.Rb(1,"div",3),u.Nb(2,"div",14),u.Rb(3,"div",15),u.Nb(4,"img",16),u.Rb(5,"div",17),u.Rb(6,"a",18),u.zc(7,"Image by upklyak (freepik.com) "),u.Qb(),u.Qb(),u.Qb(),u.Rb(8,"div",19),u.Rb(9,"h3"),u.zc(10,"Only event creator is allowed!"),u.Qb(),u.Nb(11,"br"),u.Rb(12,"p"),u.zc(13," You can only pick a winner from the account with which you created the event. "),u.Qb(),u.Qb(),u.Qb(),u.Qb())}function pS(t,e){if(1&t){var n=u.Sb();u.Rb(0,"button",27),u.bc("click",function(){return u.tc(n),u.fc(2).copyEmailToClipboard()}),u.ec(),u.Rb(1,"svg",28),u.Nb(2,"path",29),u.Qb(),u.Qb()}}function vS(t,e){if(1&t){var n=u.Sb();u.Rb(0,"div",13),u.Rb(1,"div",20),u.Rb(2,"div",21),u.Rb(3,"table",22),u.Rb(4,"thead"),u.Rb(5,"tr"),u.Rb(6,"th",23),u.zc(7,"Name"),u.Qb(),u.Rb(8,"th",24),u.zc(9),u.Qb(),u.Qb(),u.Qb(),u.Rb(10,"tbody"),u.Rb(11,"tr"),u.Rb(12,"td",23),u.zc(13,"Email"),u.Qb(),u.Rb(14,"td",24),u.zc(15," ********************* "),u.xc(16,pS,3,0,"button",25),u.Qb(),u.Qb(),u.Rb(17,"tr"),u.Rb(18,"td",23),u.zc(19,"Message"),u.Qb(),u.Rb(20,"td",24),u.zc(21),u.gc(22,"JsonParse"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(23,"button",26),u.bc("click",function(){return u.tc(n),u.fc().pickRandomWinner()}),u.zc(24," Pick a lucky winner "),u.Qb(),u.Qb(),u.Qb(),u.Qb()}if(2&t){var r=u.fc();u.Ab(9),u.Ac((null==r.winner?null:r.winner.name)||"??????????????"),u.Ab(7),u.kc("ngIf",null==r.winner?null:r.winner.email),u.Ab(5),u.Ac(u.hc(22,3,null==r.winner?null:r.winner.message))}}var yS,gS,mS,bS=[{path:"",component:_C},{path:TC.home,component:_C},{path:TC.about,component:SC},{path:TC.createEvent,component:zC,canActivate:[Vk],data:{authGuardPipe:function(){return t=[TC.home],Object(Lk.a)(Mk,Object(re.a)(function(e){return e||t}));var t}}},{path:TC.pickEventWinner,component:(yS=function(){function t(e,n,r,i,o,a){d(this,t),this.titleService=e,this.route=n,this.api=r,this.helper=i,this.clipboard=o,this.toaster=a,this.contactAuthorText="ajay39in+giveawayapp[at]gmail[dot]com",this.isAllowed=!1,this.displayStatus="progress",this.participantList=[],this.ngUnsubscribe=new Ir.a,this.titleService.setTitle("Giveaway! | Pick a winner!")}return v(t,[{key:"ngOnInit",value:function(){var t=this;this.route.queryParams.pipe(TE(this.ngUnsubscribe)).subscribe(function(e){t.organizer=e.code,t.eventId=e.event}),this.helper.loggedInUser.pipe(TE(this.ngUnsubscribe)).subscribe(function(e){e?"loading"!=e&&t.getAllParticipants():t.displayStatus="error"})}},{key:"getAllParticipants",value:function(){var t=this;this.api.getAllParticipants(this.organizer,this.eventId).pipe(TE(this.ngUnsubscribe)).subscribe(function(e){e.docs.map(function(e){return t.participantList.push(e.data())}),t.displayStatus="normal",0===t.participantList.length&&(t.displayStatus="error",setTimeout(function(){return t.getAllParticipants()},5e3)),t.isAllowed=!0},function(e){t.displayStatus="error",console.error(e)})}},{key:"pickRandomWinner",value:function(){this.displayStatus="progress",this.participantList.length>0?(this._pickRandomWinner(),this.displayStatus="success"):(this.getAllParticipants(),this.displayStatus="error")}},{key:"_pickRandomWinner",value:function(){var t=~~(Math.random()*this.participantList.length);this.winner=this.participantList[t],console.info("Picked winner: ".concat(this.winner.name))}},{key:"copyEmailToClipboard",value:function(){this.clipboard.copyFromContent(this.winner.email),this.toaster.showClipboardToast()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}]),t}(),yS.\u0275fac=function(t){return new(t||yS)(u.Mb($t),u.Mb(qw),u.Mb(IC),u.Mb(OC),u.Mb(fE),u.Mb(cC))},yS.\u0275cmp=u.Gb({type:yS,selectors:[["app-pick-event-winner"]],features:[u.zb([IC])],decls:5,vars:4,consts:[[1,"container","mt-4"],["class","row",4,"ngIf"],["class","container mt-5",4,"ngIf"],[1,"row"],["class","display-status-normal col-12",4,"ngIf"],["class","display-status-error col-12",4,"ngIf"],["class","display-status-success col-12",4,"ngIf"],["class","display-status-progress col-12",4,"ngIf"],[1,"display-status-normal","col-12"],[1,"display-status-error","col-12"],[2,"fill","#dc3545"],[1,"display-status-success","col-12"],[1,"display-status-progress","col-12"],[1,"container","mt-5"],[1,"col-md-1","d-none","d-md-block"],[1,"col-md-5","d-none","d-md-flex","flex-wrap","align-items-center"],["src","assets/images/organizer-image-small.jpg","alt","Error: Need permission to create event",1,"img-fluid"],[1,"image-attribution"],["target","_blank","href","https://www.freepik.com/vectors/light"],[1,"col-md-5","col-sm-12"],[1,"row","justify-content-center"],[1,"col-12"],[1,"table","table-striped"],[1,"winner-cell"],[1,"winner-info-cell"],["class","clipboard-button",3,"click",4,"ngIf"],["aria-label","Pick a winner","title","pick a winner","type","submit","id","pick-winner-button",1,"btn","btn-primary",3,"click"],[1,"clipboard-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","15","height","24","viewBox","0 0 24 24"],["d","M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"]],template:function(t,e){1&t&&(u.Rb(0,"div",0),u.xc(1,cS,5,4,"div",1),u.xc(2,fS,3,2,"div",1),u.Qb(),u.xc(3,dS,14,0,"div",2),u.xc(4,vS,25,5,"div",2)),2&t&&(u.Ab(1),u.kc("ngIf",e.isAllowed),u.Ab(1),u.kc("ngIf",!e.isAllowed),u.Ab(1),u.kc("ngIf",!e.isAllowed&&"error"===e.displayStatus),u.Ab(1),u.kc("ngIf",e.isAllowed))},directives:[nt,CC],pipes:[iS],styles:[".winner-cell[_ngcontent-%COMP%]{border:0;width:100px}.winner-info-cell[_ngcontent-%COMP%]{border:0;white-space:pre-wrap}"]}),yS)},{path:TC.event,component:rS},{path:"**",component:_C}],wS=((mS=function t(){d(this,t)}).\u0275fac=function(t){return new(t||mS)},mS.\u0275mod=u.Kb({type:mS}),mS.\u0275inj=u.Jb({imports:[[Ck.forRoot(bS)],Ck]}),mS),_S=((gS=function(){function t(e,n){d(this,t),this.auth=e,this.helper=n}return v(t,[{key:"checkCookiesEnabled",value:function(){var t=this;window.addEventListener("message",function(e){"MM:3PCunsupported"===e.data?t.helper.thirdCookiesEnabled=!1:"MM:3PCsupported"===e.data&&(t.helper.thirdCookiesEnabled=!0)},!1)}},{key:"loginBegin",value:function(t){var e=this;if(!1===this.helper.thirdCookiesEnabled)alert("Please enable third-party cookies to login!");else{var n=this._getProviderObject(t);this.auth.setPersistence("local").then(function(){e.auth.signInWithPopup(n).then(function(){return e.isLoggedIn()}).catch(function(t){return console.error(t.code)})})}}},{key:"_getProviderObject",value:function(t){if("Google"===t)return new Ti.a.auth.GoogleAuthProvider}},{key:"isLoggedIn",value:function(){return Object(Du.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.auth.authState.pipe(ei()).toPromise();case 2:e=t.sent,this.helper.loggedInUser.next(e?e.email:null);case 4:case"end":return t.stop()}},t,this)}))}},{key:"logoutBegin",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.auth.signOut(),this.helper.loggedInUser.next(null),t&&location.reload()}}]),t}()).\u0275fac=function(t){return new(t||gS)(u.Yb(hi),u.Yb(OC))},gS.\u0275prov=u.Ib({token:gS,factory:gS.\u0275fac,providedIn:"root"}),gS),kS=function(t){return[t]};function ES(t,e){if(1&t&&(u.Rb(0,"li",15),u.Rb(1,"a",16),u.Rb(2,"button",17),u.zc(3,"Create Giveaway"),u.Qb(),u.Qb(),u.Qb()),2&t){var n=u.fc();u.Ab(1),u.kc("routerLink",u.nc(1,kS,n.CREATE_EVENT_PATH))}}function OS(t,e){if(1&t&&(u.Rb(0,"li",18),u.Rb(1,"a",19),u.zc(2,"Create Giveaway"),u.Qb(),u.Qb()),2&t){var n=u.fc();u.Ab(1),u.kc("routerLink",u.nc(1,kS,n.CREATE_EVENT_PATH))}}function CS(t,e){1&t&&(u.Rb(0,"li",6),u.Rb(1,"ul",20),u.Nb(2,"li",21),u.Nb(3,"li",21),u.Nb(4,"li",21),u.Qb(),u.Qb())}function SS(t,e){if(1&t){var n=u.Sb();u.Rb(0,"li",22),u.bc("click",function(){return u.tc(n),u.fc().beginLogin("Google")}),u.Rb(1,"a",23),u.zc(2,"Login"),u.Qb(),u.Qb()}}function IS(t,e){if(1&t){var n=u.Sb();u.Rb(0,"li",6),u.Rb(1,"a",24),u.bc("click",function(){return u.tc(n),u.fc().beginLogin("Google")}),u.zc(2,"Login"),u.Qb(),u.Qb()}}function TS(t,e){if(1&t&&(u.Rb(0,"li",25),u.Rb(1,"a",20),u.zc(2),u.Qb(),u.Qb()),2&t){var n=u.fc();u.Ab(2),u.Bc("Welcome, ",n.userInfo,"")}}function AS(t,e){if(1&t){var n=u.Sb();u.Rb(0,"li",6),u.Rb(1,"a",26),u.bc("click",function(){return u.tc(n),u.fc().beginLogout()}),u.zc(2,"Logout"),u.Qb(),u.Qb()}}var xS,jS,RS,NS=((RS=function(){function t(e,n){d(this,t),this.auth=e,this.helper=n,this.HOME_PATH="/"+TC.home,this.ABOUT_PATH="/"+TC.about,this.CREATE_EVENT_PATH="/"+TC.createEvent,this.collapseEnabled="NavBar",this.userInfo="NavBar"}return v(t,[{key:"ngOnInit",value:function(){var t=this;this.helper.loggedInUser.subscribe(function(e){return t.userInfo=e}),this.auth.checkCookiesEnabled(),this.auth.isLoggedIn(),this.enableBootstrapCollapse()}},{key:"enableBootstrapCollapse",value:function(){this.collapseEnabled=window.innerWidth>768?"NavBar":"collapsibleNavbar"}},{key:"beginLogin",value:function(){this.auth.loginBegin("Google")}},{key:"beginLogout",value:function(){this.auth.logoutBegin()}}]),t}()).\u0275fac=function(t){return new(t||RS)(u.Mb(_S),u.Mb(OC))},RS.\u0275cmp=u.Gb({type:RS,selectors:[["app-nav"]],hostBindings:function(t,e){1&t&&u.bc("resize",function(){return e.enableBootstrapCollapse()},!1,u.sc)},decls:22,vars:17,consts:[[1,"navbar","navbar-expand-md","nav-color","navbar-dark"],[1,"navbar-brand",3,"routerLink"],["aria-label","Collapse Navigation Bar","type","button","data-toggle","collapse","data-target","#collapsibleNavbar",1,"navbar-toggler"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["data-toggle","collapse","data-target","#collapsibleNavbar",1,"nav-link",3,"routerLink"],["class","d-none d-md-flex nav-item",4,"ngIf"],["class","d-block d-md-none nav-item","data-toggle","collapse","data-target","#collapsibleNavbar",4,"ngIf"],[1,"navbar-nav","ml-auto"],["class","nav-item",4,"ngIf"],["data-toggle","collapse","data-target","#collapsibleNavbar","title","Please Enable Third-Party Cookies","class","nav-item",3,"click",4,"ngIf"],["class","nav-item d-none d-lg-block",4,"ngIf"],["src","https://mindmup.github.io/3rdpartycookiecheck/start.html",2,"display","none"],[1,"d-none","d-md-flex","nav-item"],[3,"routerLink"],["aria-label","Create Giveaway","type","button",1,"btn","btn-primary"],["data-toggle","collapse","data-target","#collapsibleNavbar",1,"d-block","d-md-none","nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-link"],[1,"nav-loader"],["data-toggle","collapse","data-target","#collapsibleNavbar","title","Please Enable Third-Party Cookies",1,"nav-item",3,"click"],[1,"disabled","nav-link"],["data-toggle","collapse","data-target","#collapsibleNavbar","href","#",1,"nav-link",3,"click"],[1,"nav-item","d-none","d-lg-block"],["href","#",1,"nav-link",3,"click"]],template:function(t,e){1&t&&(u.Rb(0,"nav",0),u.Rb(1,"a",1),u.zc(2,"Giveaway"),u.Qb(),u.Rb(3,"button",2),u.Nb(4,"span",3),u.Qb(),u.Rb(5,"div",4),u.Rb(6,"ul",5),u.Rb(7,"li",6),u.Rb(8,"a",7),u.zc(9,"Home"),u.Qb(),u.Qb(),u.Rb(10,"li",6),u.Rb(11,"a",7),u.zc(12,"About"),u.Qb(),u.Qb(),u.xc(13,ES,4,3,"li",8),u.xc(14,OS,3,3,"li",9),u.Qb(),u.Rb(15,"ul",10),u.xc(16,CS,5,0,"li",11),u.xc(17,SS,3,0,"li",12),u.xc(18,IS,3,0,"li",11),u.xc(19,TS,3,1,"li",13),u.xc(20,AS,3,0,"li",11),u.Qb(),u.Qb(),u.Qb(),u.Nb(21,"iframe",14)),2&t&&(u.Ab(1),u.kc("routerLink",u.nc(11,kS,e.HOME_PATH)),u.Ab(4),u.Bb("id",e.collapseEnabled),u.Ab(3),u.kc("routerLink",u.nc(13,kS,e.HOME_PATH)),u.Ab(3),u.kc("routerLink",u.nc(15,kS,e.ABOUT_PATH)),u.Ab(2),u.kc("ngIf",e.userInfo&&"loading"!=e.userInfo),u.Ab(1),u.kc("ngIf",e.userInfo&&"loading"!=e.userInfo),u.Ab(2),u.kc("ngIf","loading"==e.userInfo),u.Ab(1),u.kc("ngIf",!e.helper.thirdCookiesEnabled&&!e.userInfo&&"loading"!=e.userInfo),u.Ab(1),u.kc("ngIf",e.helper.thirdCookiesEnabled&&!e.userInfo&&"loading"!=e.userInfo),u.Ab(1),u.kc("ngIf",e.userInfo&&"loading"!=e.userInfo),u.Ab(1),u.kc("ngIf",e.userInfo&&"loading"!=e.userInfo))},directives:[xO,ck,nt],styles:[".nav-color[_ngcontent-%COMP%]{background-color:#205cca!important}.nav-loader[_ngcontent-%COMP%]{list-style:none;display:inline-block;width:5px;height:10px;margin:0 3px;background:#fff;-webkit-animation:animate 1.5s linear infinite;animation:animate 1.5s linear infinite}@-webkit-keyframes animate{0%{transform:scaleY(1)}25%{transform:scaleY(2)}50%{transform:scaleY(1)}to{transform:scaleY(1)}}@keyframes animate{0%{transform:scaleY(1)}25%{transform:scaleY(2)}50%{transform:scaleY(1)}to{transform:scaleY(1)}}.nav-loader[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:0s;animation-delay:0s}.nav-loader[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.1s;animation-delay:.1s}.nav-loader[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.2s;animation-delay:.2s}"]}),RS),DS=((jS=function t(){d(this,t),this.title="Giveaway!"}).\u0275fac=function(t){return new(t||jS)},jS.\u0275cmp=u.Gb({type:jS,selectors:[["app-root"]],decls:3,vars:0,consts:[["aria-live","polite","aria-atomic","true"]],template:function(t,e){1&t&&(u.Nb(0,"app-nav"),u.Nb(1,"app-toasts",0),u.Nb(2,"router-outlet"))},directives:function(){return[NS,wC,pk]},encapsulation:2}),jS),PS=((xS=function t(){d(this,t)}).\u0275fac=function(t){return new(t||xS)},xS.\u0275mod=u.Kb({type:xS,bootstrap:[DS]}),xS.\u0275inj=u.Jb({providers:[_S,cE,oE,V],imports:[[Jt,wS,xn,jn,Cr,Sr.a.initializeApp(kC),di,vb,zk,lE,dE,uC]]}),xS);Object(u.T)(),Yt().bootstrapModule(PS).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD"),a=function(t){y(n,t);var e=m(n);function n(t){var r;return d(this,n),(r=e.call(this)).parent=t,r}return v(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(r.a),s=function(t){y(n,t);var e=m(n);function n(){return d(this,n),e.apply(this,arguments)}return v(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(r.a);function u(t,e){if(!e.closed){if(t instanceof i.a)return t.subscribe(e);var n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}}},[[0,0]]])}();